---
appointment_bundles:
  therapy_intake:
    name: "Therapy diagnostic evaluation and feedback session"
    enabled:
      _feature_flag: 60_60_60_appointment_bundle
      _flag_on: false
      _flag_off: true
    appointments:
      - root_appointment_type: therapy_diagnostic_evaluation
        duration: 90
      - root_appointment_type: therapy_diagnostic_evaluation_followup
    rules:
      - type: required
        appointments: [1]
        severity: error
      - type: required
        appointments: [2]
        severity: warning
      - type: gap_between_min
        appointments: [1, 2]
        duration: "24 hours"
        severity: error
      - type: gap_between_min
        appointments: [1, 2]
        duration: "7 days"
        severity: warning
      - type: gap_between_max
        appointments: [1, 2]
        duration: "30 days"
        severity: warning
      - type: future_limit
        appointments: [1]
        duration: "30 days"
        severity: warning
  psychological_testing_intake:
    name: "Psychological testing diagnostic evaluation and testing session"
    enabled:
      _feature_flag: 60_60_60_appointment_bundle
      _flag_on: false
      _flag_off: true
    appointments:
      - root_appointment_type: psychological_testing_diagnostic_evaluation
        duration: 90
      - root_appointment_type: psychological_testing
    rules:
      - type: required
        appointments: [1]
        severity: error
      - type: required
        appointments: [2]
        severity: warning
      - type: gap_between_min
        appointments: [1, 2]
        duration: "24 hours"
        severity: error
      - type: gap_between_min
        appointments: [1, 2]
        duration: "30 days"
        severity: warning
      - type: gap_between_max
        appointments: [1, 2]
        duration: "60 days"
        severity: warning
      - type: future_limit
        appointments: [1]
        duration: "30 days"
        severity: warning
  psychiatry_intake:
    name: "Psychiatry diagnostic evaluation and feedback session"
    enabled:
      _feature_flag: 60_60_60_appointment_bundle
      _flag_on: false
      _flag_off: true
    appointments:
      - root_appointment_type: psychiatry_diagnostic_evaluation
        duration: 90
      - root_appointment_type: psychiatry_diagnostic_evaluation_followup
    rules:
      - type: required
        appointments: [1]
        severity: error
      - type: required
        appointments: [2]
        severity: warning
      - type: gap_between_min
        appointments: [1, 2]
        duration: "24 hours"
        severity: error
      - type: gap_between_min
        appointments: [1, 2]
        duration: "7 days"
        severity: warning
      - type: gap_between_max
        appointments: [1, 2]
        duration: "30 days"
        severity: warning
      - type: future_limit
        appointments: [1]
        duration: "30 days"
        severity: warning
  therapy_intake_60:
    name: "Therapy"
    enabled:
      _feature_flag: 60_60_60_appointment_bundle
      _flag_on: true
      _flag_off: false
    appointments:
      - root_appointment_type: therapy_diagnostic_evaluation
        audience: caregiver
        duration: 60
      - root_appointment_type: therapy_diagnostic_evaluation
        buffer: "1 day"
        audience: patient
        duration: 60
      - root_appointment_type: therapy_diagnostic_evaluation_followup
        buffer: "1 week"
    rules:
      - type: required
        appointments: [1, 2]
        severity: error
      - type: required
        appointments: [3]
        severity: warning
      - type: date_gap_between_min
        appointments: [1, 2, 3]
        duration: "1 day"
        severity: error
      - type: gap_between_min
        appointments: [2, 3]
        duration: "7 days"
        severity: warning
      - type: gap_between_max
        appointments: [1, 2, 3]
        duration: "30 days"
        severity: warning
      - type: future_limit
        appointments: [1]
        duration: "30 days"
        severity: warning
  psychological_testing_intake_60:
    name: "Testing"
    enabled:
      _feature_flag: 60_60_60_appointment_bundle
      _flag_on: true
      _flag_off: false
    appointments:
      - root_appointment_type: psychological_testing_diagnostic_evaluation
        audience: caregiver
        duration: 60
      - root_appointment_type: psychological_testing_diagnostic_evaluation
        buffer: "1 week"
        audience: patient
        duration: 60
      - root_appointment_type: psychological_testing_followup
        buffer: "1 week"
    rules:
      - type: required
        appointments: [1, 2]
        severity: error
      - type: required
        appointments: [3]
        severity: warning
      - type: date_gap_between_min
        appointments: [1, 2, 3]
        duration: "1 day"
        severity: error
      - type: gap_between_min
        appointments: [2, 3]
        duration: "7 days"
        severity: warning
      - type: gap_between_max
        appointments: [1, 2, 3]
        duration: "30 days"
        severity: warning
      - type: future_limit
        appointments: [1]
        duration: "30 days"
        severity: warning
  psychiatry_intake_60:
    name: "Psychiatry"
    enabled:
      _feature_flag: 60_60_60_appointment_bundle
      _flag_on: true
      _flag_off: false
    appointments:
      - root_appointment_type: psychiatry_diagnostic_evaluation
        audience: caregiver
        duration: 60
      - root_appointment_type: psychiatry_diagnostic_evaluation
        buffer: "1 week"
        audience: patient
        duration: 60
      - root_appointment_type: psychiatry_diagnostic_evaluation_followup
        buffer: "1 week"
    rules:
      - type: required
        appointments: [1, 2]
        severity: error
      - type: required
        appointments: [3]
        severity: warning
      - type: date_gap_between_min
        appointments: [1, 2, 3]
        duration: "1 day"
        severity: error
      - type: gap_between_min
        appointments: [2, 3]
        duration: "7 days"
        severity: warning
      - type: gap_between_max
        appointments: [1, 2, 3]
        duration: "30 days"
        severity: warning
      - type: future_limit
        appointments: [1]
        duration: "30 days"
        severity: warning
