<%= content_for :page_title, "Slot Recapture" %>

<div class="container mx-auto px-4 py-6">
  <h1 class="text-2xl font-bold mb-6">Slot Recapture Opportunities</h1>

  <% if @opportunities.empty? %>
    <p class="text-gray-500">No opportunities currently available.</p>
  <% else %>
    <div class="space-y-4">
      <% @opportunities.each do |opportunity| %>
        <div class="bg-white rounded-lg shadow p-4">
          <div class="flex justify-between items-start">
            <div>
              <p class="font-semibold"><%= opportunity.staffer.name %></p>
              <p class="text-sm text-gray-600"><%= opportunity.clinic.name %></p>
              <p class="text-sm text-gray-600"><%= opportunity.start_time.strftime("%B %d, %Y at %l:%M %p") %></p>
              <p class="text-sm"><%= opportunity.hours_until_start %> hours until appointment</p>
            </div>
            <div class="space-x-2">
              <%= link_to "View", slot_recapture_opportunity_path(opportunity), class: "btn btn-primary btn-sm" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
