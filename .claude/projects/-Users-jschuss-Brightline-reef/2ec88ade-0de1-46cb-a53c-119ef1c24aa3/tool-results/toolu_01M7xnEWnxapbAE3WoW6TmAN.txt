/Users/jschuss/Brightline/reef/app/jobs/teen_registration_job.rb-5-
/Users/jschuss/Brightline/reef/app/jobs/teen_registration_job.rb-6-  def perform(care_case_id)
app/jobs/teen_registration_job.rb:7:    TeenRegistration.new(care_case: CareCase.find(care_case_id)).process
/Users/jschuss/Brightline/reef/app/jobs/teen_registration_job.rb-8-  end
/Users/jschuss/Brightline/reef/app/jobs/teen_registration_job.rb-9-end
--
/Users/jschuss/Brightline/reef/app/controllers/concerns/patient_information_journey_navigation.rb-15-    return unless care_case
/Users/jschuss/Brightline/reef/app/controllers/concerns/patient_information_journey_navigation.rb-16-
app/controllers/concerns/patient_information_journey_navigation.rb:17:    journey = ::PatientInformation::Journey.find_by(care_case: care_case, member: current_member, account: current_account)
/Users/jschuss/Brightline/reef/app/controllers/concerns/patient_information_journey_navigation.rb-18-
/Users/jschuss/Brightline/reef/app/controllers/concerns/patient_information_journey_navigation.rb-19-    return unless journey&.completed?
--
app/controllers/concerns/patient_information_journey_navigation.rb-22-      account: journey.account,
app/controllers/concerns/patient_information_journey_navigation.rb-23-      member: journey.member,
app/controllers/concerns/patient_information_journey_navigation.rb:24:      care_case: journey.care_case
/Users/jschuss/Brightline/reef/app/controllers/concerns/patient_information_journey_navigation.rb-25-    ).complete
/Users/jschuss/Brightline/reef/app/controllers/concerns/patient_information_journey_navigation.rb-26-  end
--
/Users/jschuss/Brightline/reef/app/jobs/registration_job.rb-5-
/Users/jschuss/Brightline/reef/app/jobs/registration_job.rb-6-  def perform(care_case_id)
app/jobs/registration_job.rb:7:    Registration.new(care_case: CareCase.find(care_case_id)).process
/Users/jschuss/Brightline/reef/app/jobs/registration_job.rb-8-  end
/Users/jschuss/Brightline/reef/app/jobs/registration_job.rb-9-end
--
app/helpers/collection_generators.rb-12-    Billing::PatientResponsibilityInvoice.generate!(
app/helpers/collection_generators.rb-13-      patient_responsibility: patient_responsibility,
app/helpers/collection_generators.rb:14:      care_case: care_case
/Users/jschuss/Brightline/reef/app/helpers/collection_generators.rb-15-    )
/Users/jschuss/Brightline/reef/app/helpers/collection_generators.rb-16-
--
/Users/jschuss/Brightline/reef/app/events/appointment_rescheduled_as_new_appointment_event.rb-35-    }.compact_blank
/Users/jschuss/Brightline/reef/app/events/appointment_rescheduled_as_new_appointment_event.rb-36-
app/events/appointment_rescheduled_as_new_appointment_event.rb:37:    new(old_appointment:, new_appointment:, care_case: new_appointment.care_case, changes:)
/Users/jschuss/Brightline/reef/app/events/appointment_rescheduled_as_new_appointment_event.rb-38-  end
/Users/jschuss/Brightline/reef/app/events/appointment_rescheduled_as_new_appointment_event.rb-39-end
--
app/controllers/concerns/check_clinic_based_care.rb-9-    care_case = current_member.care_cases.find_by(id: params[:care_case_id])
/Users/jschuss/Brightline/reef/app/controllers/concerns/check_clinic_based_care.rb-10-
app/controllers/concerns/check_clinic_based_care.rb:11:    return unless CareModel.new(care_case:).id == :clinic
/Users/jschuss/Brightline/reef/app/controllers/concerns/check_clinic_based_care.rb-12-
app/controllers/concerns/check_clinic_based_care.rb-13-    redirect_to members_care_case_triage_terminal_screen_path(care_case, :clinic_based_care)
--
/Users/jschuss/Brightline/reef/app/components/concerns/scheduling_preferences_helper.rb-11-#     include SchedulingPreferencesHelper
/Users/jschuss/Brightline/reef/app/components/concerns/scheduling_preferences_helper.rb-12-#
app/components/concerns/scheduling_preferences_helper.rb:13:#     def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/concerns/scheduling_preferences_helper.rb-14-#       @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/concerns/scheduling_preferences_helper.rb-15-#     end
--
/Users/jschuss/Brightline/reef/app/jobs/mirah/initial_sync/caregiver_sync_job.rb-13-        CaseRole
app/jobs/mirah/initial_sync/caregiver_sync_job.rb-14-          .where(role_name: "caregiver")
app/jobs/mirah/initial_sync/caregiver_sync_job.rb:15:          .joins(:care_case, care_case: :appointments)
/Users/jschuss/Brightline/reef/app/jobs/mirah/initial_sync/caregiver_sync_job.rb-16-          .where("appointments.clinic_id IS NOT NULL")
/Users/jschuss/Brightline/reef/app/jobs/mirah/initial_sync/caregiver_sync_job.rb-17-          .distinct
--
app/components/staffers/conversation/care_case_component.rb-6-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/conversation/care_case_component.rb-7-
app/components/staffers/conversation/care_case_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/conversation/care_case_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/conversation/care_case_component.rb-10-      end
--
/Users/jschuss/Brightline/reef/app/events/care_case_discharged_event.rb-6-
/Users/jschuss/Brightline/reef/app/events/care_case_discharged_event.rb-7-  def self.from_discharge(discharge)
app/events/care_case_discharged_event.rb:8:    new(discharge: discharge, care_case: discharge.care_case)
/Users/jschuss/Brightline/reef/app/events/care_case_discharged_event.rb-9-  end
/Users/jschuss/Brightline/reef/app/events/care_case_discharged_event.rb-10-end
--
/Users/jschuss/Brightline/reef/app/jobs/mirah/patient_condition_sync_job.rb-35-          SELECT appointments.id as appointment_id, appointments.care_case_id, appointments.start_time
/Users/jschuss/Brightline/reef/app/jobs/mirah/patient_condition_sync_job.rb-36-          FROM appointments
app/jobs/mirah/patient_condition_sync_job.rb:37:          INNER JOIN care_cases_without_diagnosis ON appointments.care_case_id = care_cases_without_diagnosis.care_case_id
app/jobs/mirah/patient_condition_sync_job.rb-38-          WHERE appointments.status = :appointment_status
app/jobs/mirah/patient_condition_sync_job.rb-39-            AND appointments.appointment_type_id = ANY(ARRAY[:appointment_type_ids])
--
/Users/jschuss/Brightline/reef/app/events/appointment_slot_released_event.rb-7-
app/events/appointment_slot_released_event.rb-8-  def self.from_release(release:)
app/events/appointment_slot_released_event.rb:9:    new(release: release, care_case: release.reservation.care_case, staffer: release.reservation.staffer)
/Users/jschuss/Brightline/reef/app/events/appointment_slot_released_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/appointment_slot_released_event.rb-11-end
--
/Users/jschuss/Brightline/reef/app/events/assessment_assigned_event.rb-7-
/Users/jschuss/Brightline/reef/app/events/assessment_assigned_event.rb-8-  def self.from_assignment(assignment)
app/events/assessment_assigned_event.rb:9:    new(member: assignment.member, care_case: assignment.care_case, assignment: assignment)
/Users/jschuss/Brightline/reef/app/events/assessment_assigned_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/assessment_assigned_event.rb-11-end
--
/Users/jschuss/Brightline/reef/app/events/appointment_rescheduled_event.rb-13-    new(
app/events/appointment_rescheduled_event.rb-14-      appointment: appointment,
app/events/appointment_rescheduled_event.rb:15:      care_case: appointment.care_case,
app/events/appointment_rescheduled_event.rb-16-      changes: changes
/Users/jschuss/Brightline/reef/app/events/appointment_rescheduled_event.rb-17-    )
--
/Users/jschuss/Brightline/reef/app/jobs/mirah/appointment_sync_job.rb-14-            AND EXISTS (
/Users/jschuss/Brightline/reef/app/jobs/mirah/appointment_sync_job.rb-15-              SELECT 1 FROM mirah_care_case_syncs
app/jobs/mirah/appointment_sync_job.rb:16:              WHERE mirah_care_case_syncs.care_case_id = appointments.care_case_id
/Users/jschuss/Brightline/reef/app/jobs/mirah/appointment_sync_job.rb-17-            )
/Users/jschuss/Brightline/reef/app/jobs/mirah/appointment_sync_job.rb-18-          SQL
--
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-20-        CSV.open(tempfile.path, "w", **exporter.csv_options) do |csv|
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-21-          csv << exporter.headers
app/jobs/mirah/caregiver_sync_job.rb:22:          csv << exporter.row_data(member:, care_case:, active: false).to_array
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-23-        end
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-24-
--
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-42-      # Returns CaseRole records which naturally have both care_case_id and member_id
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-43-      CaseRole
app/jobs/mirah/caregiver_sync_job.rb:44:        .where(care_case_id: synced_care_case_ids, role_name: "caregiver")
app/jobs/mirah/caregiver_sync_job.rb-45-        .joins(:member)
/Users/jschuss/Brightline/reef/app/jobs/mirah/caregiver_sync_job.rb-46-        .where(
--
/Users/jschuss/Brightline/reef/app/jobs/mirah/patient_sync_job.rb-25-              AND NOT EXISTS (
/Users/jschuss/Brightline/reef/app/jobs/mirah/patient_sync_job.rb-26-                SELECT 1 FROM mirah_care_case_syncs
app/jobs/mirah/patient_sync_job.rb:27:                WHERE mirah_care_case_syncs.care_case_id = care_cases.id
/Users/jschuss/Brightline/reef/app/jobs/mirah/patient_sync_job.rb-28-              )
/Users/jschuss/Brightline/reef/app/jobs/mirah/patient_sync_job.rb-29-            )
--
app/components/staffers/discharge_summary/form_primary_button_component.rb-4-      attr_reader :care_document, :care_case, :styles
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_primary_button_component.rb-5-
app/components/staffers/discharge_summary/form_primary_button_component.rb:6:      def initialize(care_document:, care_case:, styles:)
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_primary_button_component.rb-7-        @care_document = care_document
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_primary_button_component.rb-8-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/events/appointment_hold_created_event.rb-8-
app/events/appointment_hold_created_event.rb-9-  def self.from_appointment_hold(hold:)
app/events/appointment_hold_created_event.rb:10:    new(appointment_hold: hold, care_case: hold.care_case, staffer: hold.staffer)
/Users/jschuss/Brightline/reef/app/events/appointment_hold_created_event.rb-11-  end
/Users/jschuss/Brightline/reef/app/events/appointment_hold_created_event.rb-12-end
--
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_component.rb-16-      def interventions
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_component.rb-17-        care_document.document_data.interventions ||
app/components/staffers/discharge_summary/form_component.rb:18:          ::CareDocuments::DischargeSummary::Intervention.from_all_assessments(care_case: care_case) ||
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_component.rb-19-          [nil]
/Users/jschuss/Brightline/reef/app/components/staffers/discharge_summary/form_component.rb-20-      end
--
/Users/jschuss/Brightline/reef/app/jobs/query_change_health_and_create_coverage_job.rb-28-    if coverage_info.care_case.present?
app/jobs/query_change_health_and_create_coverage_job.rb-29-      Turbo::StreamsChannel.broadcast_refresh_to(
app/jobs/query_change_health_and_create_coverage_job.rb:30:        PhoneDesk::InsuranceCoverage.for(care_case: coverage_info.care_case),
app/jobs/query_change_health_and_create_coverage_job.rb-31-        target: dom_id(coverage_info.care_case, :insurance_coverage)
/Users/jschuss/Brightline/reef/app/jobs/query_change_health_and_create_coverage_job.rb-32-      )
--
/Users/jschuss/Brightline/reef/app/events/appointment_canceled_event.rb-10-    new(
app/events/appointment_canceled_event.rb-11-      appointment: appointment,
app/events/appointment_canceled_event.rb:12:      care_case: appointment.care_case,
app/events/appointment_canceled_event.rb-13-      appointment_cancelation: appointment_cancelation,
app/events/appointment_canceled_event.rb-14-      source: source
--
/Users/jschuss/Brightline/reef/app/controllers/webhooks/iterable_webhooks_controller.rb-24-      {
app/controllers/webhooks/iterable_webhooks_controller.rb-25-        appointment_id: params["appointment_id"],
app/controllers/webhooks/iterable_webhooks_controller.rb:26:        care_case_id: params["care_case_id"],
app/controllers/webhooks/iterable_webhooks_controller.rb-27-        email: params["email"],
app/controllers/webhooks/iterable_webhooks_controller.rb-28-        eventName: params["eventName"],
--
app/events/registration_completed_event.rb-6-  reference :member
/Users/jschuss/Brightline/reef/app/events/registration_completed_event.rb-7-
app/events/registration_completed_event.rb:8:  def self.build_from(care_case:, member:)
app/events/registration_completed_event.rb:9:    new(account: care_case.account, care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/events/registration_completed_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/registration_completed_event.rb-11-end
--
/Users/jschuss/Brightline/reef/app/events/appointment_slot_reserved_event.rb-7-
app/events/appointment_slot_reserved_event.rb-8-  def self.from_reservation(reservation:)
app/events/appointment_slot_reserved_event.rb:9:    new(reservation: reservation, care_case: reservation.care_case, staffer: reservation.staffer)
/Users/jschuss/Brightline/reef/app/events/appointment_slot_reserved_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/appointment_slot_reserved_event.rb-11-end
--
/Users/jschuss/Brightline/reef/app/events/session_note_added_to_appointment_event.rb-10-    new(
app/events/session_note_added_to_appointment_event.rb-11-      appointment: appointment,
app/events/session_note_added_to_appointment_event.rb:12:      care_case: appointment.care_case,
app/events/session_note_added_to_appointment_event.rb-13-      staffer: staffer,
app/events/session_note_added_to_appointment_event.rb-14-      session_note: session_note
--
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-64-                organization_flow: organization_flow,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-65-                index: index,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb:66:                care_case: care_case,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-67-                last_name_provided: child_data["last_name"].present?,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-68-                date_of_birth_provided: child_data["date_of_birth"].present?,
--
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-78-                organization_flow: organization_flow,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-79-                index: index,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb:80:                care_case_id: child_data["care_case_id"]
/Users/jschuss/Brightline/reef/app/controllers/members/flow/onboarding/patient_information/children_controller.rb-81-              )
/Users/jschuss/Brightline/reef/app/controllers/members/flow/onboarding/patient_information/children_controller.rb-82-            end
--
/Users/jschuss/Brightline/reef/app/controllers/members/flow/onboarding/patient_information/children_controller.rb-120-            care_case = CareCase.find(flow_state.data["care_case_id"])
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-121-            Analytics::Event::OnboardingChildDetails::Viewed.track(
app/controllers/members/flow/onboarding/patient_information/children_controller.rb:122:              care_case: care_case,
app/controllers/members/flow/onboarding/patient_information/children_controller.rb-123-              position_on_page: 0
/Users/jschuss/Brightline/reef/app/controllers/members/flow/onboarding/patient_information/children_controller.rb-124-            )
--
app/jobs/triage/expire_service_line_recommendation_job.rb-14-      CareNavigation::Journey.start!(
app/jobs/triage/expire_service_line_recommendation_job.rb-15-        account: service_line_recommendation.care_case.account,
app/jobs/triage/expire_service_line_recommendation_job.rb:16:        care_case: service_line_recommendation.care_case,
app/jobs/triage/expire_service_line_recommendation_job.rb-17-        member: service_line_recommendation.member
/Users/jschuss/Brightline/reef/app/jobs/triage/expire_service_line_recommendation_job.rb-18-      ).reset_journey!
--
/Users/jschuss/Brightline/reef/app/events/appointment_scheduled_event.rb-7-
app/events/appointment_scheduled_event.rb-8-  def self.from_appointment(appointment:)
app/events/appointment_scheduled_event.rb:9:    new(appointment: appointment, care_case: appointment.care_case, staffer: appointment.staffer)
/Users/jschuss/Brightline/reef/app/events/appointment_scheduled_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/appointment_scheduled_event.rb-11-end
--
app/components/staffers/therapy_care_plan/form_component.rb-5-    class FormComponent < Staffers::CareDocuments::FormComponent
/Users/jschuss/Brightline/reef/app/components/staffers/therapy_care_plan/form_component.rb-6-      def summary_default
app/components/staffers/therapy_care_plan/form_component.rb:7:        ::CareDocuments::TherapyCarePlan::ReferralReason.from_intake_meeting(care_case: care_case)
/Users/jschuss/Brightline/reef/app/components/staffers/therapy_care_plan/form_component.rb-8-      end
/Users/jschuss/Brightline/reef/app/components/staffers/therapy_care_plan/form_component.rb-9-
--
app/jobs/check_payment_method_for_upcoming_appointments_periodic_job.rb-32-        notes: build_reminder_notes(appointment),
app/jobs/check_payment_method_for_upcoming_appointments_periodic_job.rb-33-        group: :member_support,
app/jobs/check_payment_method_for_upcoming_appointments_periodic_job.rb:34:        care_case: care_case,
app/jobs/check_payment_method_for_upcoming_appointments_periodic_job.rb-35-        account: care_case.account,
app/jobs/check_payment_method_for_upcoming_appointments_periodic_job.rb-36-        due_date: Time.zone.today,
--
/Users/jschuss/Brightline/reef/app/controllers/members/flow/insurance_providers_controller.rb-56-
app/controllers/members/flow/insurance_providers_controller.rb-57-        Analytics::Event::EnterpriseAccountSignUpChildrensCoverageProvider::Skipped.track(
app/controllers/members/flow/insurance_providers_controller.rb:58:          care_case: care_case,
app/controllers/members/flow/insurance_providers_controller.rb-59-          organization_flow: "padpm"
/Users/jschuss/Brightline/reef/app/controllers/members/flow/insurance_providers_controller.rb-60-        )
--
/Users/jschuss/Brightline/reef/app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-11-      care_cases.find_each do |care_case|
app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-12-        ClinicalTeam::AddStafferToCareCase.call(
app/jobs/clinical_team/add_staffers_to_care_cases_job.rb:13:          care_case: care_case,
app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-14-          staffer: staffer,
app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-15-          primary: primary
--
/Users/jschuss/Brightline/reef/app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-17-      rescue => e
app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-18-        Rails.logger.error "Failed to add staffer #{staffer_id} to care case #{care_case.id}: #{e.message}"
app/jobs/clinical_team/add_staffers_to_care_cases_job.rb:19:        Sentry.capture_exception(e, extra: {staffer_id: staffer_id, care_case_id: care_case.id})
/Users/jschuss/Brightline/reef/app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-20-      end
/Users/jschuss/Brightline/reef/app/jobs/clinical_team/add_staffers_to_care_cases_job.rb-21-    end
--
/Users/jschuss/Brightline/reef/app/jobs/care_guide/disengaged_followup_job.rb-51-
/Users/jschuss/Brightline/reef/app/jobs/care_guide/disengaged_followup_job.rb-52-    def evaluator
app/jobs/care_guide/disengaged_followup_job.rb:53:      @evaluator ||= CareGuide::Evaluator.evaluate(care_case: care_case)
/Users/jschuss/Brightline/reef/app/jobs/care_guide/disengaged_followup_job.rb-54-    end
/Users/jschuss/Brightline/reef/app/jobs/care_guide/disengaged_followup_job.rb-55-  end
--
app/controllers/members/flow/coverage_confirmation/per_activated_dependent_per_month/children_controller.rb-16-            @child = Members::Flow::Child.new(child_params.merge(account: current_account))
/Users/jschuss/Brightline/reef/app/controllers/members/flow/coverage_confirmation/per_activated_dependent_per_month/children_controller.rb-17-            if @child.valid?
app/controllers/members/flow/coverage_confirmation/per_activated_dependent_per_month/children_controller.rb:18:              flow_state.data["children"] = [child_params.merge(not_covered_by_account_benefit: true, care_case_id: care_case_id)]
app/controllers/members/flow/coverage_confirmation/per_activated_dependent_per_month/children_controller.rb-19-              redirect_to new_members_flow_completion_path(flow: flow_state.id, flow_type: flow_state.data["flow_type"])
/Users/jschuss/Brightline/reef/app/controllers/members/flow/coverage_confirmation/per_activated_dependent_per_month/children_controller.rb-20-            else
--
app/components/staffers/preappointment/assessments_and_goals_tab_component.rb-6-      attr_reader :care_case, :goals
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_and_goals_tab_component.rb-7-
app/components/staffers/preappointment/assessments_and_goals_tab_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_and_goals_tab_component.rb-9-        @care_case = care_case
app/components/staffers/preappointment/assessments_and_goals_tab_component.rb-10-        @goals = care_case.goals.order(active: :desc)
--
app/components/staffers/preappointment/upcoming_appointment_card.rb-8-      attr_reader :care_case, :open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-9-
app/components/staffers/preappointment/upcoming_appointment_card.rb:10:      def initialize(care_case:, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-12-        @open_in_new_tab = open_in_new_tab
--
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-22-
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-23-      def has_slot?
app/components/staffers/preappointment/upcoming_appointment_card.rb:24:        @has_slot ||= ::Calendaring::AppointmentSlot::Reservation.active.where(care_case: care_case).any?
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-25-      end
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/upcoming_appointment_card.rb-26-
--
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-89-
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-90-      def care_navigation_next_path
app/controllers/members/flow/completions_controller.rb:91:        ::CareNavigation::Director.new(account: care_case.account, member: care_case.caregivers.first, care_case: care_case).next_step.path
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-92-      end
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-93-
--
app/controllers/members/flow/completions_controller.rb-163-        return unless params[:flow_type] == "onboarding"
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-164-
app/controllers/members/flow/completions_controller.rb:165:        ahoy_track "OnboardingValueCoverage:Viewed", result: result, care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-166-      end
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-167-
--
app/controllers/members/flow/completions_controller.rb-169-        @patient_information_director ||= ::PatientInformation::Director.new(
app/controllers/members/flow/completions_controller.rb-170-          account: current_account,
app/controllers/members/flow/completions_controller.rb:171:          care_case: care_case,
app/controllers/members/flow/completions_controller.rb-172-          member: current_member
/Users/jschuss/Brightline/reef/app/controllers/members/flow/completions_controller.rb-173-        )
--
/Users/jschuss/Brightline/reef/app/events/appointment_marked_as_no_show_event.rb-9-    new(
app/events/appointment_marked_as_no_show_event.rb-10-      appointment: appointment,
app/events/appointment_marked_as_no_show_event.rb:11:      care_case: appointment.care_case,
app/events/appointment_marked_as_no_show_event.rb-12-      source: source
/Users/jschuss/Brightline/reef/app/events/appointment_marked_as_no_show_event.rb-13-    )
--
/Users/jschuss/Brightline/reef/app/controllers/members/flow/subscribers_controller.rb-45-
app/controllers/members/flow/subscribers_controller.rb-46-        Analytics::Event::EnterpriseAccountSignUpChildrensCoverageProvider::Skipped.track(
app/controllers/members/flow/subscribers_controller.rb:47:          care_case: care_case,
app/controllers/members/flow/subscribers_controller.rb-48-          organization_flow: "pepm"
/Users/jschuss/Brightline/reef/app/controllers/members/flow/subscribers_controller.rb-49-        )
--
/Users/jschuss/Brightline/reef/app/events/appointment_duration_changed_event.rb-12-    new(
app/events/appointment_duration_changed_event.rb-13-      appointment: appointment,
app/events/appointment_duration_changed_event.rb:14:      care_case: appointment.care_case,
app/events/appointment_duration_changed_event.rb-15-      changes: changes
/Users/jschuss/Brightline/reef/app/events/appointment_duration_changed_event.rb-16-    )
--
app/events/record_billed_as_patient_responsibility_event.rb-8-  def self.build_from(patient_responsibility:)
/Users/jschuss/Brightline/reef/app/events/record_billed_as_patient_responsibility_event.rb-9-    care_case = patient_responsibility.billable_record.care_case
app/events/record_billed_as_patient_responsibility_event.rb:10:    new(patient_responsibility:, care_case:, account: care_case.account)
/Users/jschuss/Brightline/reef/app/events/record_billed_as_patient_responsibility_event.rb-11-  end
/Users/jschuss/Brightline/reef/app/events/record_billed_as_patient_responsibility_event.rb-12-end
--
app/events/care_navigation_reset_event.rb-8-  reference :staffer
/Users/jschuss/Brightline/reef/app/events/care_navigation_reset_event.rb-9-
app/events/care_navigation_reset_event.rb:10:  def self.build_from(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/events/care_navigation_reset_event.rb-11-    new(
app/events/care_navigation_reset_event.rb:12:      care_case: care_case,
app/events/care_navigation_reset_event.rb-13-      account: care_case.account,
app/events/care_navigation_reset_event.rb-14-      staffer: staffer
--
app/events/exercise_assigned_event.rb-11-      assignment:,
app/events/exercise_assigned_event.rb-12-      member: assignment.member,
app/events/exercise_assigned_event.rb:13:      care_case: assignment.care_case,
app/events/exercise_assigned_event.rb-14-      exercise_id: assignment.exercise_id
/Users/jschuss/Brightline/reef/app/events/exercise_assigned_event.rb-15-    )
--
app/events/record_billed_as_claim_event.rb-8-  def self.build_from(claim_request:)
/Users/jschuss/Brightline/reef/app/events/record_billed_as_claim_event.rb-9-    care_case = claim_request.billable_record.care_case
app/events/record_billed_as_claim_event.rb:10:    new(claim_request: claim_request, care_case: care_case, account: care_case.account)
/Users/jschuss/Brightline/reef/app/events/record_billed_as_claim_event.rb-11-  end
/Users/jschuss/Brightline/reef/app/events/record_billed_as_claim_event.rb-12-end
--
/Users/jschuss/Brightline/reef/app/events/appointment_reverted_to_scheduled_event.rb-7-
app/events/appointment_reverted_to_scheduled_event.rb-8-  def self.from_appointment(appointment:)
app/events/appointment_reverted_to_scheduled_event.rb:9:    new(appointment: appointment, care_case: appointment.care_case, staffer: appointment.staffer)
/Users/jschuss/Brightline/reef/app/events/appointment_reverted_to_scheduled_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/appointment_reverted_to_scheduled_event.rb-11-end
--
/Users/jschuss/Brightline/reef/app/events/care_case_tags_changed_event.rb-7-
/Users/jschuss/Brightline/reef/app/events/care_case_tags_changed_event.rb-8-  def self.build_from(care_case)
app/events/care_case_tags_changed_event.rb:9:    new(account: care_case.account, care_case: care_case, tag_ids: care_case.tag_ids)
/Users/jschuss/Brightline/reef/app/events/care_case_tags_changed_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/care_case_tags_changed_event.rb-11-end
--
app/components/members/paperwork/incomplete_assignments_component.rb-6-      attr_reader :care_case, :member, :type, :is_onboarding
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-7-
app/components/members/paperwork/incomplete_assignments_component.rb:8:      def initialize(care_case:, member:, type:, is_onboarding:)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-10-        @member = member
--
app/components/members/paperwork/incomplete_assignments_component.rb-20-          _event_name: "Paperwork#{type.capitalize}:Clicked",
app/components/members/paperwork/incomplete_assignments_component.rb-21-          # rubocop:enable CustomCops/StringLocalization
app/components/members/paperwork/incomplete_assignments_component.rb:22:          care_case_id: care_case.id,
app/components/members/paperwork/incomplete_assignments_component.rb-23-          member_is_teen: AccountMember.new(account: care_case.account, member: member).teen?,
app/components/members/paperwork/incomplete_assignments_component.rb-24-          assignment_name: next_assignment.member_facing_name,
--
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-36-
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-37-      def incomplete_paperwork
app/components/members/paperwork/incomplete_assignments_component.rb:38:        ::Paperwork::IncompletePaperwork.new(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-39-      end
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component.rb-40-
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-8-      def initialize(care_case_id, member_id, staffer_id)
app/controllers/members/concerns/care_case_scoped.rb-9-        super("Impersonating staffer attempted to access inaccessible care case", error_context: {
app/controllers/members/concerns/care_case_scoped.rb:10:          care_case_id: care_case_id,
app/controllers/members/concerns/care_case_scoped.rb-11-          member_id: member_id,
app/controllers/members/concerns/care_case_scoped.rb-12-          staffer_id: staffer_id
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-18-      def initialize(care_case_id, member_id)
app/controllers/members/concerns/care_case_scoped.rb-19-        super("Member attempted to access inaccessible care case", error_context: {
app/controllers/members/concerns/care_case_scoped.rb:20:          care_case_id: care_case_id,
app/controllers/members/concerns/care_case_scoped.rb-21-          member_id: member_id
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-22-        })
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-68-
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-69-    def current_care_case_member
app/controllers/members/concerns/care_case_scoped.rb:70:      @care_case_member ||= CareCaseMember.new(care_case: current_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-71-    end
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_scoped.rb-72-  end
--
app/components/members/paperwork/payment_form_modal_component.rb-5-    class PaymentFormModalComponent < ViewComponent::Base
app/components/members/paperwork/payment_form_modal_component.rb-6-      attr_reader :care_case
app/components/members/paperwork/payment_form_modal_component.rb:7:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/payment_form_modal_component.rb-8-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/paperwork/payment_form_modal_component.rb-9-      end
--
app/components/members/paperwork/incomplete_assignments_component_content.rb-6-      attr_reader :care_case, :member, :type, :is_onboarding, :id, :data, :url
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-7-
app/components/members/paperwork/incomplete_assignments_component_content.rb:8:      def initialize(care_case:, member:, type:, is_onboarding:, id:, data: {}, url: nil)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-10-        @member = member
--
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-87-        ahoy_data = {
app/components/members/paperwork/incomplete_assignments_component_content.rb-88-          _event_name: "PaperworkLater:Clicked",
app/components/members/paperwork/incomplete_assignments_component_content.rb:89:          care_case_id: care_case.id,
app/components/members/paperwork/incomplete_assignments_component_content.rb-90-          member_is_teen: AccountMember.new(account: care_case.account, member: member).teen?,
app/components/members/paperwork/incomplete_assignments_component_content.rb-91-          assignment_name: next_assignment_name
--
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-106-
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-107-      def incomplete_paperwork
app/components/members/paperwork/incomplete_assignments_component_content.rb:108:        ::Paperwork::IncompletePaperwork.new(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-109-      end
/Users/jschuss/Brightline/reef/app/components/members/paperwork/incomplete_assignments_component_content.rb-110-
--
/Users/jschuss/Brightline/reef/app/events/appointment_completed_event.rb-9-    new(
app/events/appointment_completed_event.rb-10-      appointment: appointment,
app/events/appointment_completed_event.rb:11:      care_case: appointment.care_case,
app/events/appointment_completed_event.rb-12-      source: source
/Users/jschuss/Brightline/reef/app/events/appointment_completed_event.rb-13-    )
--
app/events/connect_content_assigned_event.rb-11-      assignment:,
app/events/connect_content_assigned_event.rb-12-      member: assignment.member,
app/events/connect_content_assigned_event.rb:13:      care_case: assignment.care_case,
app/events/connect_content_assigned_event.rb-14-      content: assignment.content
/Users/jschuss/Brightline/reef/app/events/connect_content_assigned_event.rb-15-    )
--
app/components/staffers/preappointment/assessments_tab_component.rb-8-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_tab_component.rb-9-
app/components/staffers/preappointment/assessments_tab_component.rb:10:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_tab_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_tab_component.rb-12-      end
--
/Users/jschuss/Brightline/reef/app/events/exercise_completed_event.rb-7-
app/events/exercise_completed_event.rb-8-  def self.build_from(completed_exercise:)
app/events/exercise_completed_event.rb:9:    new(account: completed_exercise.care_case.account, care_case: completed_exercise.care_case, completed_exercise: completed_exercise)
/Users/jschuss/Brightline/reef/app/events/exercise_completed_event.rb-10-  end
/Users/jschuss/Brightline/reef/app/events/exercise_completed_event.rb-11-end
--
app/components/members/paperwork/onboarding_component.rb-6-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-7-
app/components/members/paperwork/onboarding_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-10-      end
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-11-
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-12-      def incomplete_paperwork
app/components/members/paperwork/onboarding_component.rb:13:        ::Paperwork::IncompletePaperwork.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-14-      end
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-15-
--
/Users/jschuss/Brightline/reef/app/components/members/paperwork/onboarding_component.rb-17-        ahoy_data = {
app/components/members/paperwork/onboarding_component.rb-18-          _event_name: "PaperworkStart:Clicked",
app/components/members/paperwork/onboarding_component.rb:19:          care_case_id: care_case.id,
app/components/members/paperwork/onboarding_component.rb-20-          member_is_teen: AccountMember.new(account: care_case.account, member: care_case.caregiver).teen?,
app/components/members/paperwork/onboarding_component.rb-21-          assignment_name: next_assignment.member_facing_name
--
/Users/jschuss/Brightline/reef/app/events/clinic_intake_scheduled_event.rb-6-
app/events/clinic_intake_scheduled_event.rb-7-  def self.build_from(appointment:)
app/events/clinic_intake_scheduled_event.rb:8:    new(care_case: appointment.care_case, appointment: appointment)
/Users/jschuss/Brightline/reef/app/events/clinic_intake_scheduled_event.rb-9-  end
/Users/jschuss/Brightline/reef/app/events/clinic_intake_scheduled_event.rb-10-end
--
app/controllers/members/concerns/acuity_appointment_schedulable.rb-34-        group: :member_support,
app/controllers/members/concerns/acuity_appointment_schedulable.rb-35-        account: current_care_case.account,
app/controllers/members/concerns/acuity_appointment_schedulable.rb:36:        care_case: current_care_case,
app/controllers/members/concerns/acuity_appointment_schedulable.rb-37-        due_date: Time.zone.now
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-38-      )
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-39-    end
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-40-
app/controllers/members/concerns/acuity_appointment_schedulable.rb:41:    def first_available_date(appointment_type:, staffers:, min_date: nil, timezone: nil, care_case: nil, max_date: nil)
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-42-      timezone ||= current_member.timezone
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-43-      care_case ||= current_care_case
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-59-
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-60-        if result.nil?
app/controllers/members/concerns/acuity_appointment_schedulable.rb:61:          report_no_available_dates(appointment_type:, staffers:, care_case:)
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-62-          Time.now.in_time_zone(timezone).to_date + 1.day
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-63-        else
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-73-          ).to_date
app/controllers/members/concerns/acuity_appointment_schedulable.rb-74-        rescue Calendaring::FirstAvailableDay::NotFoundError
app/controllers/members/concerns/acuity_appointment_schedulable.rb:75:          report_no_available_dates(appointment_type:, staffers:, care_case:)
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-76-          Time.now.in_time_zone(timezone).to_date + 1.day
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-77-        end
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-79-    end
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-80-
app/controllers/members/concerns/acuity_appointment_schedulable.rb:81:    def report_no_available_dates(appointment_type:, staffers:, care_case:)
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-82-      Sentry.capture_exception(
app/controllers/members/concerns/acuity_appointment_schedulable.rb-83-        BrightlineError.new("Acuity did not return any available dates", error_context: {
app/controllers/members/concerns/acuity_appointment_schedulable.rb-84-          staffer: staffers.map(&:id),
app/controllers/members/concerns/acuity_appointment_schedulable.rb-85-          region: care_case&.region&.id,
app/controllers/members/concerns/acuity_appointment_schedulable.rb:86:          care_case: care_case&.id,
app/controllers/members/concerns/acuity_appointment_schedulable.rb-87-          appointment_type: appointment_type&.id
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/acuity_appointment_schedulable.rb-88-        })
--
app/events/intake_completed_event.rb-7-  reference :program, optional: true
/Users/jschuss/Brightline/reef/app/events/intake_completed_event.rb-8-
app/events/intake_completed_event.rb:9:  def self.build_from(care_case:, intake_appointment: nil)
app/events/intake_completed_event.rb:10:    new(account: care_case.account, care_case: care_case, program: care_case.program, intake_appointment: intake_appointment)
/Users/jschuss/Brightline/reef/app/events/intake_completed_event.rb-11-  end
/Users/jschuss/Brightline/reef/app/events/intake_completed_event.rb-12-end
--
/Users/jschuss/Brightline/reef/app/events/appointment_hold_released_event.rb-10-    new(
app/events/appointment_hold_released_event.rb-11-      appointment_hold: hold,
app/events/appointment_hold_released_event.rb:12:      care_case: hold.care_case,
app/events/appointment_hold_released_event.rb-13-      source: source
/Users/jschuss/Brightline/reef/app/events/appointment_hold_released_event.rb-14-    )
--
app/components/staffers/preappointment/paperwork_tab_component.rb-6-      include Turbo::FramesHelper
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/paperwork_tab_component.rb-7-
app/components/staffers/preappointment/paperwork_tab_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/paperwork_tab_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/paperwork_tab_component.rb-10-      end
--
app/controllers/members/assigned_exercises_controller.rb-13-      Analytics::Event::Exercise::Viewed.track(
app/controllers/members/assigned_exercises_controller.rb-14-        account: current_account,
app/controllers/members/assigned_exercises_controller.rb:15:        care_case: current_care_case,
app/controllers/members/assigned_exercises_controller.rb-16-        assigned_exercise: @assigned_exercise
/Users/jschuss/Brightline/reef/app/controllers/members/assigned_exercises_controller.rb-17-      )
--
app/components/staffers/preappointment/notes_tab_component.rb-8-      attr_reader :care_case, :medical_histories, :initial_consultations, :open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/notes_tab_component.rb-9-
app/components/staffers/preappointment/notes_tab_component.rb:10:      def initialize(care_case:, vitals:, initial_consultations:, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/notes_tab_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/notes_tab_component.rb-12-        @vitals = vitals
--
app/controllers/members/appointments_controller.rb-29-      scope = (params[:tab] == "completed") ? "past" : "upcoming"
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-30-
app/controllers/members/appointments_controller.rb:31:      @appointments = Appointment.where(care_case: current_accessible_care_cases).public_send(scope).not_canceled.chronological
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-32-
app/controllers/members/appointments_controller.rb-33-      Analytics::Event::AppointmentsPage::Viewed.track(account_id: current_account.id)
--
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-36-    def edit
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-37-      @appointment = Appointment.where(
app/controllers/members/appointments_controller.rb:38:        care_case: current_accessible_care_cases + current_pending_care_cases
app/controllers/members/appointments_controller.rb-39-      ).find(params[:id])
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-40-
--
app/controllers/members/appointments_controller.rb-68-          staffers: [@appointment.staffer],
app/controllers/members/appointments_controller.rb-69-          timezone: appointment_member.timezone,
app/controllers/members/appointments_controller.rb:70:          care_case: @appointment.care_case
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-71-        )
/Users/jschuss/Brightline/reef/app/controllers/members/appointments_controller.rb-72-      else
--
app/controllers/members/appointments_controller.rb-108-      @availability_request_reporter ||= Calendaring::AppointmentAvailabilityRequestReporter.new(
app/controllers/members/appointments_controller.rb-109-        request_context: Calendaring::AvailabilityRequestContext.appointment_rescheduling,
app/controllers/members/appointments_controller.rb:110:        care_case: @appointment.care_case,
app/controllers/members/appointments_controller.rb-111-        member: appointment_member,
app/controllers/members/appointments_controller.rb-112-        staffers: [@appointment.staffer],
--
app/controllers/members/appointments_controller.rb-123-      Calendaring::AvailabilityContext.new(
app/controllers/members/appointments_controller.rb-124-        appointment_type: @appointment.appointment_type,
app/controllers/members/appointments_controller.rb:125:        care_case: @appointment.care_case,
app/controllers/members/appointments_controller.rb-126-        member: appointment_member,
app/controllers/members/appointments_controller.rb-127-        staffers: [@appointment.staffer],
--
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments/feedbacks_controller.rb-45-
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments/feedbacks_controller.rb-46-      def activity_assignment
app/controllers/members/activity_assignments/feedbacks_controller.rb:47:        @_activity_assignment = ::Coco::ActivityAssignment.includes(:bundle).where(bundle: {care_case: current_member.accessible_cases}).find(params[:activity_assignment_id])
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments/feedbacks_controller.rb-48-      end
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments/feedbacks_controller.rb-49-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/mobile/care_cases/explore_care_controller.rb-8-
/Users/jschuss/Brightline/reef/app/controllers/members/mobile/care_cases/explore_care_controller.rb-9-        def index
app/controllers/members/mobile/care_cases/explore_care_controller.rb:10:          care_navigation_journey = ::CareNavigation::Journey.start!(account: current_account, member: current_member, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/mobile/care_cases/explore_care_controller.rb-11-          redirect_to care_navigation_journey.next_step.path
/Users/jschuss/Brightline/reef/app/controllers/members/mobile/care_cases/explore_care_controller.rb-12-        end
--
app/components/staffers/preappointment/incomplete_paperwork_alert_component.rb-6-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/incomplete_paperwork_alert_component.rb-7-
app/components/staffers/preappointment/incomplete_paperwork_alert_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/incomplete_paperwork_alert_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/incomplete_paperwork_alert_component.rb-10-      end
--
app/controllers/members/care_navigation/trapdoors_controller.rb-21-          group: :member_support,
app/controllers/members/care_navigation/trapdoors_controller.rb-22-          account: current_account,
app/controllers/members/care_navigation/trapdoors_controller.rb:23:          care_case: current_care_case,
app/controllers/members/care_navigation/trapdoors_controller.rb-24-          due_date: 1.day.from_now
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/trapdoors_controller.rb-25-        )
--
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-12-      def new
app/controllers/members/wait_list/submissions_controller.rb-13-        @appointment_type_id = params[:appointment_type_id]
app/controllers/members/wait_list/submissions_controller.rb:14:        ahoy_track("WaitListPrompt:Viewed", {care_case_id: current_care_case.id, region_id: current_care_case.region_id, reason: reason})
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-15-      end
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-16-
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-17-      def create
app/controllers/members/wait_list/submissions_controller.rb:18:        ahoy_track("WaitListPrompt:Joined", {care_case_id: current_care_case.id, region_id: current_care_case.region_id, reason: reason, appointment_type: appointment_type})
app/controllers/members/wait_list/submissions_controller.rb-19-        success = ::WaitList::Api.join(current_care_case, reason: reason, appointment_type: appointment_type)
app/controllers/members/wait_list/submissions_controller.rb-20-        render :error and return unless success
--
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-23-
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-24-      def show
app/controllers/members/wait_list/submissions_controller.rb:25:        ahoy_track("WaitListConfirmation:Viewed", {care_case_id: current_care_case.id})
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-26-      end
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/submissions_controller.rb-27-
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-8-      def initialize(care_case_id, member_id, staffer_id)
app/controllers/members/concerns/care_case_filtered.rb-9-        super("Impersonating staffer attempted to access inaccessible care case", error_context: {
app/controllers/members/concerns/care_case_filtered.rb:10:          care_case_id: care_case_id,
app/controllers/members/concerns/care_case_filtered.rb-11-          member_id: member_id,
app/controllers/members/concerns/care_case_filtered.rb-12-          staffer_id: staffer_id
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-18-      def initialize(care_case_id, member_id)
app/controllers/members/concerns/care_case_filtered.rb-19-        super("Member attempted to access inaccessible care case", error_context: {
app/controllers/members/concerns/care_case_filtered.rb:20:          care_case_id: care_case_id,
app/controllers/members/concerns/care_case_filtered.rb-21-          member_id: member_id
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-22-        })
--
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-72-
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-73-    def current_care_case_member
app/controllers/members/concerns/care_case_filtered.rb:74:      @care_case_member ||= CareCaseMember.new(care_case: current_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-75-    end
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/care_case_filtered.rb-76-  end
--
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/opt_out_controller.rb-45-
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/opt_out_controller.rb-46-      def entries
app/controllers/members/wait_list/opt_out_controller.rb:47:        @entries ||= ::WaitList::Entry.active.where(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/opt_out_controller.rb-48-      end
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/opt_out_controller.rb-49-    end
--
app/components/staffers/preappointment/goals_tab_component.rb-6-      attr_reader :care_case, :goals, :current_staffer, :care_plan, :open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-7-
app/components/staffers/preappointment/goals_tab_component.rb:8:      def initialize(care_case:, goals:, current_staffer:, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-10-        @goals = goals
--
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-29-      def care_plan_button
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-30-        if care_plan
app/components/staffers/preappointment/goals_tab_component.rb:31:          link_to "View Therapy Plan as a member", care_case_care_documents_therapy_care_plan_url(id: care_plan, care_case_id: care_case), class: "prism-button-secondary", rel: "noopener noreferrer", target: "_blank"
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-32-        else
app/components/staffers/preappointment/goals_tab_component.rb:33:          link_to "Create Care Plan", new_care_case_care_documents_therapy_care_plan_url(care_case_id: care_case), class: "prism-button-secondary", **create_care_plan_html_options
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-34-        end
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_tab_component.rb-35-      end
--
app/controllers/members/concerns/flow_helpers.rb-135-      @patient_information_director ||= ::PatientInformation::Director.new(
app/controllers/members/concerns/flow_helpers.rb-136-        account: current_account,
app/controllers/members/concerns/flow_helpers.rb:137:        care_case: current_care_case,
app/controllers/members/concerns/flow_helpers.rb-138-        member: current_member
/Users/jschuss/Brightline/reef/app/controllers/members/concerns/flow_helpers.rb-139-      )
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-16-      def index
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-17-        @journey.complete_step!("recommendation")
app/controllers/members/care_navigation/recommendations_controller.rb:18:        @offerings = ::CareNavigation::EligibleOfferings.new(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-19-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-20-
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-38-
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-39-      def member_experience_configuration
app/controllers/members/care_navigation/recommendations_controller.rb:40:        @member_experience_configuration ||= MemberExperience::Configuration.new(account: current_care_case.account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-41-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/recommendations_controller.rb-42-
--
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/start_booking_controller.rb-22-
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/start_booking_controller.rb-23-      def entry
app/controllers/members/wait_list/start_booking_controller.rb:24:        @entry ||= ::WaitList::Entry.active.find_by(appointment_type_id: params[:appointment_type_id], care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/start_booking_controller.rb-25-      end
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/start_booking_controller.rb-26-
--
app/components/staffers/preappointment/assign_paperwork_component.rb-8-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-9-
app/components/staffers/preappointment/assign_paperwork_component.rb:10:      def initialize(care_case:, assignment_type:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-12-        @assignment_type = assignment_type
--
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-146-
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-147-      def assignable_members
app/components/staffers/preappointment/assign_paperwork_component.rb:148:        assignees.filter { |assignee| Rules::Member::Assignable.call(member: assignee, care_case: care_case) }
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-149-      end
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assign_paperwork_component.rb-150-
--
/Users/jschuss/Brightline/reef/app/controllers/members/assessment_assignments_controller.rb-22-        if guest_session?
app/controllers/members/assessment_assignments_controller.rb-23-          Analytics::Event::LimitedPaperwork::Viewed.track(
app/controllers/members/assessment_assignments_controller.rb:24:            care_case_id: effective_care_case.id,
app/controllers/members/assessment_assignments_controller.rb-25-            member_id: effective_member.id
/Users/jschuss/Brightline/reef/app/controllers/members/assessment_assignments_controller.rb-26-          )
--
/Users/jschuss/Brightline/reef/app/controllers/members/assessment_assignments_controller.rb-45-      if guest_session?
app/controllers/members/assessment_assignments_controller.rb-46-        Analytics::Event::LimitedPaperwork::Finished.track(
app/controllers/members/assessment_assignments_controller.rb:47:          care_case_id: effective_care_case.id,
app/controllers/members/assessment_assignments_controller.rb-48-          member_id: effective_member.id
/Users/jschuss/Brightline/reef/app/controllers/members/assessment_assignments_controller.rb-49-        )
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessment_results_controller.rb-22-
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessment_results_controller.rb-23-      def journey
app/controllers/members/care_navigation/assessment_results_controller.rb:24:        @journey ||= ::CareNavigation::Journey.find_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessment_results_controller.rb-25-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessment_results_controller.rb-26-
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/clinic_verifications_controller.rb-53-
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/clinic_verifications_controller.rb-54-      def find_matching_appointment(form)
app/controllers/members/limited_paperwork/clinic_verifications_controller.rb:55:        Appointment.joins(care_case: :patient)
app/controllers/members/limited_paperwork/clinic_verifications_controller.rb-56-          .where(status: "scheduled")
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/clinic_verifications_controller.rb-57-          .upcoming
--
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-31-      helper_method def offering
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-32-        @offering ||= begin
app/controllers/members/wait_list/outreach_attempts_controller.rb:33:          offering = ::CareNavigation::EligibleOfferings.new(care_case: current_care_case).eligible_offering_for(program)
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-34-          if offering.nil?
app/controllers/members/wait_list/outreach_attempts_controller.rb:35:            Sentry.capture_message("No EligibleOfferings found for program #{program&.id}", extra: {program_id: program&.id, care_case_id: current_care_case.id})
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-36-          end
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-37-          offering
--
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-44-
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-45-      helper_method def eligible_for_ca_coverage?
app/controllers/members/wait_list/outreach_attempts_controller.rb:46:        MemberExperience::Configuration.new(account: current_account, care_case: current_care_case).eligible_for_coverage?
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-47-      end
/Users/jschuss/Brightline/reef/app/controllers/members/wait_list/outreach_attempts_controller.rb-48-
--
app/controllers/members/wait_list/outreach_attempts_controller.rb-98-        Calendaring::AvailabilityContext.new(
app/controllers/members/wait_list/outreach_attempts_controller.rb-99-          appointment_type: appointment_type,
app/controllers/members/wait_list/outreach_attempts_controller.rb:100:          care_case: current_care_case,
app/controllers/members/wait_list/outreach_attempts_controller.rb-101-          member: current_member,
app/controllers/members/wait_list/outreach_attempts_controller.rb-102-          staffers: staffers,
--
/Users/jschuss/Brightline/reef/app/controllers/members/base_controller.rb-103-      return unless active_care_case && current_member
/Users/jschuss/Brightline/reef/app/controllers/members/base_controller.rb-104-
app/controllers/members/base_controller.rb:105:      @care_case_member ||= CareCaseMember.new(care_case: active_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/base_controller.rb-106-    end
/Users/jschuss/Brightline/reef/app/controllers/members/base_controller.rb-107-
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessments_controller.rb-38-
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessments_controller.rb-39-      def journey
app/controllers/members/care_navigation/assessments_controller.rb:40:        @journey ||= ::CareNavigation::Journey.find_by(care_case: current_care_case, member: current_member, account: current_account)
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessments_controller.rb-41-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/assessments_controller.rb-42-
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-23-        track_limited_paperwork_viewed
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-24-
app/controllers/members/limited_paperwork/paperwork_controller.rb:25:        assignable = ::Paperwork::IncompletePaperwork.new(care_case: guest_care_case, member: guest_member).top_priority&.assignable
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-26-
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-27-        if assignable.is_a?(PaymentFormAssignment)
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-49-
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-50-      def next_assignment_path
app/controllers/members/limited_paperwork/paperwork_controller.rb:51:        assignable = ::Paperwork::IncompletePaperwork.new(care_case: guest_care_case, member: guest_member).top_priority&.assignable
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-52-
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-53-        return finished_members_limited_paperwork_paperwork_path unless assignable
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-93-
app/controllers/members/limited_paperwork/paperwork_controller.rb-94-        Analytics::Event::LimitedPaperwork::Viewed.track(
app/controllers/members/limited_paperwork/paperwork_controller.rb:95:          care_case_id: guest_care_case.id,
app/controllers/members/limited_paperwork/paperwork_controller.rb-96-          member_id: session[:limited_paperwork_member_id]
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-97-        )
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-102-
app/controllers/members/limited_paperwork/paperwork_controller.rb-103-        Analytics::Event::LimitedPaperwork::Finished.track(
app/controllers/members/limited_paperwork/paperwork_controller.rb:104:          care_case_id: guest_care_case.id,
app/controllers/members/limited_paperwork/paperwork_controller.rb-105-          member_id: session[:limited_paperwork_member_id]
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-106-        )
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-116-        return false unless guest_care_case && guest_member
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-117-
app/controllers/members/limited_paperwork/paperwork_controller.rb:118:        ::Paperwork::IncompletePaperwork.any?(care_case: guest_care_case, member: guest_member)
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-119-      end
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/paperwork_controller.rb-120-
--
/Users/jschuss/Brightline/reef/app/controllers/members/sunsets_controller.rb-24-    def care_documents
/Users/jschuss/Brightline/reef/app/controllers/members/sunsets_controller.rb-25-      @_care_documents ||= care_cases_for_current_account.flat_map do |care_case|
app/controllers/members/sunsets_controller.rb:26:        library = Member::CareCaseLibrary.new(care_case: care_case, member: current_member, is_selected: true)
app/controllers/members/sunsets_controller.rb-27-        completed_safety_plans = library.care_case_completed_exercises.where(assigned_exercise: {exercise_id: Exercise.personal_safety_plan.id})
/Users/jschuss/Brightline/reef/app/controllers/members/sunsets_controller.rb-28-
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-42-
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-43-      def journey
app/controllers/members/care_navigation/resource_offerings_controller.rb:44:        @journey ||= ::CareNavigation::Journey.find_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-45-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-46-
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-47-      def show_resource_screen?
app/controllers/members/care_navigation/resource_offerings_controller.rb:48:        MemberExperience::Configuration.new(account: journey.account, care_case: current_care_case).show_resource_offerings_screen?
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-49-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_navigation/resource_offerings_controller.rb-50-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/account_setups_controller.rb-36-
app/controllers/members/limited_paperwork/account_setups_controller.rb-37-        Analytics::Event::LimitedPaperwork::AccountSetup::Submitted.track(
app/controllers/members/limited_paperwork/account_setups_controller.rb:38:          care_case_id: care_case.id,
app/controllers/members/limited_paperwork/account_setups_controller.rb-39-          member_id: member_id
/Users/jschuss/Brightline/reef/app/controllers/members/limited_paperwork/account_setups_controller.rb-40-        )
--
app/components/staffers/preappointment/assignments_list_component.rb-8-      attr_reader :care_case, :member, :assignments, :open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assignments_list_component.rb-9-
app/components/staffers/preappointment/assignments_list_component.rb:10:      def initialize(care_case:, member:, assignments:, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assignments_list_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assignments_list_component.rb-12-        @member = member
--
app/controllers/members/care_documents/discharge_summaries_controller.rb-11-      rescue_from ActiveRecord::RecordNotFound, with: :not_found
/Users/jschuss/Brightline/reef/app/controllers/members/care_documents/discharge_summaries_controller.rb-12-
app/controllers/members/care_documents/discharge_summaries_controller.rb:13:      after_action -> { ahoy_track("DischargeSummary:Viewed", {care_case_id: current_care_case_id}) }
/Users/jschuss/Brightline/reef/app/controllers/members/care_documents/discharge_summaries_controller.rb-14-
/Users/jschuss/Brightline/reef/app/controllers/members/care_documents/discharge_summaries_controller.rb-15-      def show
--
app/controllers/members/care_cases_controller.rb-12-      @care_case_context = Family::CareCaseContext.new(care_cases: current_account_member.ordered_care_cases)
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases_controller.rb-13-      @index = @care_case_context.index_for_care_case_id(current_care_case.id)
app/controllers/members/care_cases_controller.rb:14:      care_case_library = Member::CareCaseLibrary.new(care_case: current_care_case, member: current_member, is_selected: false)
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases_controller.rb-15-      @assignment_count_by_group = care_case_library.assignment_count_by_group
app/controllers/members/care_cases_controller.rb-16-      @sections = Family::Assignments::Sections.new(care_case_library.all_assignments)
app/controllers/members/care_cases_controller.rb-17-      Analytics::Event::ChildPage::Viewed.track(
app/controllers/members/care_cases_controller.rb-18-        account: current_care_case.account,
app/controllers/members/care_cases_controller.rb:19:        care_case: current_care_case
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases_controller.rb-20-      )
app/controllers/members/care_cases_controller.rb-21-      @preferred_name = Member::Name.new(current_care_case.patient, display_teen_name: current_account_member.teen?).preferred_name
--
app/components/staffers/preappointment/exercises_list_component.rb-8-      attr_reader :care_case, :member, :exercises
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/exercises_list_component.rb-9-
app/components/staffers/preappointment/exercises_list_component.rb:10:      def initialize(care_case:, member:, exercises:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/exercises_list_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/exercises_list_component.rb-12-        @member = member
--
app/components/staffers/preappointment/assessments_list_component.rb-8-      attr_reader :care_case, :member, :assigned_assessment_groups
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_list_component.rb-9-
app/components/staffers/preappointment/assessments_list_component.rb:10:      def initialize(care_case:, member:, assigned_assessment_groups:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_list_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/assessments_list_component.rb-12-        @member = member
--
app/components/staffers/preappointment/exercises_tab_component.rb-8-      attr_reader :care_case, :open_in_new_tab, :staffer
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/exercises_tab_component.rb-9-
app/components/staffers/preappointment/exercises_tab_component.rb:10:      def initialize(care_case:, staffer:, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/exercises_tab_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/exercises_tab_component.rb-12-        @member = care_case.patient
--
/Users/jschuss/Brightline/reef/app/controllers/members/cardiovascular_screens_controller.rb-13-      if guest_session?
app/controllers/members/cardiovascular_screens_controller.rb-14-        Analytics::Event::LimitedPaperwork::Viewed.track(
app/controllers/members/cardiovascular_screens_controller.rb:15:          care_case_id: effective_care_case.id,
app/controllers/members/cardiovascular_screens_controller.rb-16-          member_id: effective_member.id
/Users/jschuss/Brightline/reef/app/controllers/members/cardiovascular_screens_controller.rb-17-        )
--
app/controllers/members/cardiovascular_screens_controller.rb-19-        Analytics::Event::CardiovascularScreen::Viewed.track(
app/controllers/members/cardiovascular_screens_controller.rb-20-          account: current_account,
app/controllers/members/cardiovascular_screens_controller.rb:21:          care_case: effective_care_case,
app/controllers/members/cardiovascular_screens_controller.rb-22-          cardiovascular_screen: @cardiovascular_screen
/Users/jschuss/Brightline/reef/app/controllers/members/cardiovascular_screens_controller.rb-23-        )
--
app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-8-      attr_reader :care_case, :source
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-9-
app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb:10:      def initialize(care_case:, source: :report)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-11-        @care_case = care_case
app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-12-        @source = VALID_SOURCES.include?(source) ? source : :report
--
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-14-
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-15-      def render_iframe?
app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb:16:        Settings.mirah.iframe.base_url.present? && MirahCareCaseSync.exists?(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-17-      end
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/goals_and_questionnaires_tab_component.rb-18-
--
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/care_guide_chats_controller.rb-20-      def track_event
app/controllers/members/accounts/care_guide_chats_controller.rb-21-        care_case = CareCase.find(params[:care_case_id])
app/controllers/members/accounts/care_guide_chats_controller.rb:22:        Analytics::Event::CareNavigationCareGuideChat::Clicked.track(care_case: care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/care_guide_chats_controller.rb-23-      end
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/care_guide_chats_controller.rb-24-
--
app/components/staffers/preappointment/onboarding_info_component.rb-6-      attr_reader :care_case, :account, :patient, :open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/onboarding_info_component.rb-7-
app/components/staffers/preappointment/onboarding_info_component.rb:8:      def initialize(care_case:, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/onboarding_info_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/preappointment/onboarding_info_component.rb-10-        @account = @care_case.account
--
/Users/jschuss/Brightline/reef/app/controllers/members/appointments/bookings_controller.rb-43-      def scheduling_context
app/controllers/members/appointments/bookings_controller.rb-44-        @scheduling_context ||= Calendaring::SchedulingContext.new(
app/controllers/members/appointments/bookings_controller.rb:45:          care_case: current_care_case,
app/controllers/members/appointments/bookings_controller.rb-46-          appointment_type: appointment_type,
app/controllers/members/appointments/bookings_controller.rb-47-          staffer: selected_staffer,
--
/Users/jschuss/Brightline/reef/app/controllers/members/appointments/meeting_rooms_controller.rb-14-          .find_by(
app/controllers/members/appointments/meeting_rooms_controller.rb-15-            id: params[:appointment_id],
app/controllers/members/appointments/meeting_rooms_controller.rb:16:            care_case_id: params[:care_case_id],
app/controllers/members/appointments/meeting_rooms_controller.rb-17-            acuity_authenticity_token: authenticity_token_param
/Users/jschuss/Brightline/reef/app/controllers/members/appointments/meeting_rooms_controller.rb-18-          )
--
app/components/members/connect_with_support_component.rb-5-    attr_reader :care_case, :member, :account, :is_visitor_testing
/Users/jschuss/Brightline/reef/app/components/members/connect_with_support_component.rb-6-
app/components/members/connect_with_support_component.rb:7:    def initialize(care_case:, member:, is_visitor_testing: false)
/Users/jschuss/Brightline/reef/app/components/members/connect_with_support_component.rb-8-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/connect_with_support_component.rb-9-      @account = care_case.account
--
app/controllers/members/appointments/reschedulations_controller.rb-60-        TaskManagement::Reminder.where(
app/controllers/members/appointments/reschedulations_controller.rb-61-          group: :member_support,
app/controllers/members/appointments/reschedulations_controller.rb:62:          care_case: current_care_case,
app/controllers/members/appointments/reschedulations_controller.rb-63-          subject: current_appointment,
app/controllers/members/appointments/reschedulations_controller.rb-64-          completed_at: nil
--
app/controllers/members/appointments/reschedulations_controller.rb-71-          group: :member_support,
app/controllers/members/appointments/reschedulations_controller.rb-72-          account: current_care_case.account,
app/controllers/members/appointments/reschedulations_controller.rb:73:          care_case: current_care_case,
app/controllers/members/appointments/reschedulations_controller.rb-74-          subject: current_appointment
/Users/jschuss/Brightline/reef/app/controllers/members/appointments/reschedulations_controller.rb-75-        }
--
/Users/jschuss/Brightline/reef/app/controllers/members/payment_methods_controller.rb-33-
/Users/jschuss/Brightline/reef/app/controllers/members/payment_methods_controller.rb-34-    def complete_payment_form_assignment!
app/controllers/members/payment_methods_controller.rb:35:      assignment = PaymentFormAssignment.incomplete.find_by(care_case: effective_care_case, member: effective_member, form_id: "new_credit_card")
app/controllers/members/payment_methods_controller.rb-36-      assignment.update!(completed_at: Time.zone.now, completed_form: @payment_method, completed_by: effective_member) if assignment.present?
/Users/jschuss/Brightline/reef/app/controllers/members/payment_methods_controller.rb-37-    end
--
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-4-  module CareTeam
app/components/members/care_team/line_up_component.rb-5-    class LineUpComponent < ViewComponent::Base
app/components/members/care_team/line_up_component.rb:6:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-8-      end
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-9-
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-10-      def presentable_care_team
app/components/members/care_team/line_up_component.rb:11:        PresentableCareTeam.new(care_case: care_case).care_team
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-12-      end
/Users/jschuss/Brightline/reef/app/components/members/care_team/line_up_component.rb-13-
--
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-4-  module CareTeam
app/components/members/care_team/team_details_component.rb-5-    class TeamDetailsComponent < ViewComponent::Base
app/components/members/care_team/team_details_component.rb:6:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-8-      end
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-9-
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-10-      def presentable_care_team
app/components/members/care_team/team_details_component.rb:11:        PresentableCareTeam.new(care_case: care_case).care_team
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-12-      end
/Users/jschuss/Brightline/reef/app/components/members/care_team/team_details_component.rb-13-
--
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/sessions_controller.rb-10-      def index
app/controllers/members/accounts/sessions_controller.rb-11-        @section_types = Family::Sessions::SectionType.ordered
app/controllers/members/accounts/sessions_controller.rb:12:        @appointments = Appointment.where(care_case: current_accessible_care_cases).chronological
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/sessions_controller.rb-13-
app/controllers/members/accounts/sessions_controller.rb-14-        @care_case_context = Family::CareCaseContext.new(care_cases: care_cases_for_current_account)
--
/Users/jschuss/Brightline/reef/app/components/members/care_team/presentable_care_team.rb-4-  module CareTeam
/Users/jschuss/Brightline/reef/app/components/members/care_team/presentable_care_team.rb-5-    class PresentableCareTeam
app/components/members/care_team/presentable_care_team.rb:6:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/care_team/presentable_care_team.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/care_team/presentable_care_team.rb-8-      end
--
app/components/staffers/care_documents_component.rb-2-  attr_reader :care_case, :care_documents, :current_staffer, :header_tag, :style
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents_component.rb-3-
app/components/staffers/care_documents_component.rb:4:  def initialize(care_case:, care_documents:, current_staffer:, style: {})
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents_component.rb-5-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents_component.rb-6-    @care_documents = care_documents
--
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents_component.rb-21-  def render?
app/components/staffers/care_documents_component.rb-22-    if Flipper.enabled?(:mirah_clinic_ca_doc_split)
app/components/staffers/care_documents_component.rb:23:      policy.index? && !CareModel.new(care_case:).clinic?
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents_component.rb-24-    else
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents_component.rb-25-      policy.index?
--
app/controllers/members/accounts/families_controller.rb-31-        content = ::Family::ContentAndFavoritesForAccountMember.new(account_member: account_member_with_includes)
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/families_controller.rb-32-
app/controllers/members/accounts/families_controller.rb:33:        @appointments = Appointment.upcoming_or_ongoing.not_canceled.chronological.where(care_case: care_cases)
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/families_controller.rb-34-        @home_content = OpenStruct.new(
app/controllers/members/accounts/families_controller.rb-35-          care_cases: care_cases,
--
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/families_controller.rb-46-        @care_case_with_incomplete_paperwork = care_cases.find do |care_case|
app/controllers/members/accounts/families_controller.rb-47-          ::Paperwork::IncompletePaperwork.any?(
app/controllers/members/accounts/families_controller.rb:48:            care_case: care_case,
app/controllers/members/accounts/families_controller.rb-49-            member: current_member,
app/controllers/members/accounts/families_controller.rb-50-            verification_ids: verification_ids,
--
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/assignments_controller.rb-11-        care_cases_for_current_account = current_account_member.ordered_care_cases
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/assignments_controller.rb-12-        @assignments = care_cases_for_current_account.flat_map do |care_case|
app/controllers/members/accounts/assignments_controller.rb:13:          care_case_library = Member::CareCaseLibrary.new(care_case:, member: current_member, is_selected: true)
app/controllers/members/accounts/assignments_controller.rb-14-          care_case_library.all_assignments.map { Family::AssignmentPresenterFinder.new(it).presenter.as_struct }
/Users/jschuss/Brightline/reef/app/controllers/members/accounts/assignments_controller.rb-15-        end
--
app/controllers/members/teen_invitations/new_invitation_requests_controller.rb-30-          group: :member_support,
app/controllers/members/teen_invitations/new_invitation_requests_controller.rb-31-          account: care_case.account,
app/controllers/members/teen_invitations/new_invitation_requests_controller.rb:32:          care_case: care_case,
app/controllers/members/teen_invitations/new_invitation_requests_controller.rb-33-          subject: care_case,
app/controllers/members/teen_invitations/new_invitation_requests_controller.rb-34-          due_date: Time.zone.now + 1.day,
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/completed_assignments.rb-24-    # match the current sort order used by the website.
app/controllers/api/mobile/concerns/completed_assignments.rb-25-    ::Paperwork::CompletedPaperwork
app/controllers/api/mobile/concerns/completed_assignments.rb:26:      .new(care_case: current_account.care_cases, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/completed_assignments.rb-27-      .all
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/completed_assignments.rb-28-      .order("created_at desc")
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/completed_assignments.rb-33-    # match the current sort order used by the website.
app/controllers/api/mobile/concerns/completed_assignments.rb-34-    ::Paperwork::CompletedPaperwork
app/controllers/api/mobile/concerns/completed_assignments.rb:35:      .new(care_case: current_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/completed_assignments.rb-36-      .all
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/completed_assignments.rb-37-      .order("created_at desc")
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/incomplete_assignments.rb-24-    # match the current sort order used by the website.
app/controllers/api/mobile/concerns/incomplete_assignments.rb-25-    ::Paperwork::IncompletePaperwork
app/controllers/api/mobile/concerns/incomplete_assignments.rb:26:      .new(care_case: current_account.care_cases, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/incomplete_assignments.rb-27-      .all
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/incomplete_assignments.rb-28-      .order("required_pre_appointment desc", "created_at asc")
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/incomplete_assignments.rb-33-    # match the current sort order used by the website.
app/controllers/api/mobile/concerns/incomplete_assignments.rb-34-    ::Paperwork::IncompletePaperwork
app/controllers/api/mobile/concerns/incomplete_assignments.rb:35:      .new(care_case: current_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/incomplete_assignments.rb-36-      .all
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/concerns/incomplete_assignments.rb-37-      .order("required_pre_appointment desc", "created_at asc")
--
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-49-
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-50-    def next_assignment_path
app/controllers/members/paperwork_controller.rb:51:      assignable = ::Paperwork::IncompletePaperwork.new(care_case: care_case, member: current_member).top_priority&.assignable
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-52-
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-53-      return members_care_case_paperwork_finished_path(care_case) unless assignable
--
app/controllers/members/paperwork_controller.rb-59-      Analytics::Event::Paperwork::Viewed.track(
app/controllers/members/paperwork_controller.rb-60-        account: care_case.account,
app/controllers/members/paperwork_controller.rb:61:        care_case: care_case,
app/controllers/members/paperwork_controller.rb-62-        while_onboarding: is_onboarding?,
app/controllers/members/paperwork_controller.rb-63-        member_is_teen: AccountMember.new(account: care_case.account, member: current_member).teen?
--
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-68-      ahoy_track(event_name, data.merge({
app/controllers/members/paperwork_controller.rb-69-        account_id: care_case.account.id,
app/controllers/members/paperwork_controller.rb:70:        care_case_id: care_case.id,
app/controllers/members/paperwork_controller.rb-71-        while_onboarding: is_onboarding?,
app/controllers/members/paperwork_controller.rb-72-        member_is_teen: AccountMember.new(account: care_case.account, member: current_member).teen?
--
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-120-
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-121-    def any_incomplete_paperwork?
app/controllers/members/paperwork_controller.rb:122:      ::Paperwork::IncompletePaperwork.any?(care_case: care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-123-    end
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-124-
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-125-    def case_role
app/controllers/members/paperwork_controller.rb:126:      CaseRole.find_by(care_case: care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-127-    end
/Users/jschuss/Brightline/reef/app/controllers/members/paperwork_controller.rb-128-
--
app/controllers/members/payments_controller.rb-11-      Analytics::Event::Payment::Viewed.track(
app/controllers/members/payments_controller.rb-12-        account: current_account,
app/controllers/members/payments_controller.rb:13:        care_case: current_care_case
/Users/jschuss/Brightline/reef/app/controllers/members/payments_controller.rb-14-      )
/Users/jschuss/Brightline/reef/app/controllers/members/payments_controller.rb-15-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/payments_controller.rb-33-    def candid_encounters
app/controllers/members/payments_controller.rb-34-      return unless Flipper.enabled?(:candid_patient_payments_details)
app/controllers/members/payments_controller.rb:35:      Candid::Api::Encounter.for_care_case(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/payments_controller.rb-36-    end
/Users/jschuss/Brightline/reef/app/controllers/members/payments_controller.rb-37-  end
--
app/components/members/limited_paperwork/start_assignment_component.rb-6-      attr_reader :patient_name, :care_case, :member
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-7-
app/components/members/limited_paperwork/start_assignment_component.rb:8:      def initialize(patient_name:, care_case:, member:)
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-9-        @patient_name = patient_name
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-10-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-18-        ahoy_data = {
app/components/members/limited_paperwork/start_assignment_component.rb-19-          _event_name: "PaperworkStart:Clicked",
app/components/members/limited_paperwork/start_assignment_component.rb:20:          care_case_id: care_case.id,
app/components/members/limited_paperwork/start_assignment_component.rb-21-          assignment_name: next_assignment.member_facing_name,
app/components/members/limited_paperwork/start_assignment_component.rb-22-          flow: "guest"
--
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-45-
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-46-      def incomplete_paperwork
app/components/members/limited_paperwork/start_assignment_component.rb:47:        @incomplete_paperwork ||= ::Paperwork::IncompletePaperwork.new(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-48-      end
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/start_assignment_component.rb-49-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-25-      def ahoy_track_on_index
app/controllers/members/patient_information/safety_resources_controller.rb-26-        Analytics::Event::OnboardingSafetyResources::Viewed.track(
app/controllers/members/patient_information/safety_resources_controller.rb:27:          care_case: current_care_case,
app/controllers/members/patient_information/safety_resources_controller.rb-28-          safety_check_id: safety_check.id
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-29-        )
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-39-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-40-      def set_director
app/controllers/members/patient_information/safety_resources_controller.rb:41:        @director ||= ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-42-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-43-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-64-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-65-      def member_experience_configuration
app/controllers/members/patient_information/safety_resources_controller.rb:66:        @member_experience_configuration ||= MemberExperience::Configuration.new(account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-67-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_resources_controller.rb-68-    end
--
app/controllers/members/triage/asl_interpretation_requests_controller.rb-19-          title: "Member requested American Sign Language (ASL) interpretation for #{program&.name || "a welcome session"}. Send chat to member to confirm ASL interpretation.",
app/controllers/members/triage/asl_interpretation_requests_controller.rb-20-          group: :member_support,
app/controllers/members/triage/asl_interpretation_requests_controller.rb:21:          care_case: current_care_case,
app/controllers/members/triage/asl_interpretation_requests_controller.rb-22-          account: current_care_case.account,
app/controllers/members/triage/asl_interpretation_requests_controller.rb-23-          due_date: Time.zone.today.to_date
--
app/components/members/limited_paperwork/payment_form_modal_component.rb-6-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/payment_form_modal_component.rb-7-
app/components/members/limited_paperwork/payment_form_modal_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/payment_form_modal_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/payment_form_modal_component.rb-10-        validate_care_case_access!
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-50-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-51-      def director
app/controllers/members/patient_information/safety_checks_controller.rb:52:        @director ||= ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-53-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-54-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-55-      def safety_check
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-56-        @safety_check ||= SafetyCheck.new(
app/controllers/members/patient_information/safety_checks_controller.rb:57:          care_case: current_care_case,
app/controllers/members/patient_information/safety_checks_controller.rb-58-          member: current_member,
app/controllers/members/patient_information/safety_checks_controller.rb-59-          risk_factors: risk_factors,
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-71-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-72-      def ahoy_track_on_new
app/controllers/members/patient_information/safety_checks_controller.rb:73:        Analytics::Event::OnboardingSafetyCheck::Viewed.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-74-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-75-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-76-      def ahoy_track_on_create
app/controllers/members/patient_information/safety_checks_controller.rb-77-        Analytics::Event::OnboardingSafetyCheckNext::Clicked.track(
app/controllers/members/patient_information/safety_checks_controller.rb:78:          care_case: current_care_case,
app/controllers/members/patient_information/safety_checks_controller.rb-79-          risk_factors: risk_factors,
app/controllers/members/patient_information/safety_checks_controller.rb-80-          clicked_none_of_the_above: clicked_none_of_the_above?
--
app/controllers/members/patient_information/safety_checks_controller.rb-91-            account: current_account,
app/controllers/members/patient_information/safety_checks_controller.rb-92-            member: current_member,
app/controllers/members/patient_information/safety_checks_controller.rb:93:            care_case: current_care_case,
app/controllers/members/patient_information/safety_checks_controller.rb-94-            safety_check: safety_check
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-95-          )
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-99-      def get_component
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-100-        if RiskFactor.for_age(current_care_case.patient_age).one?
app/controllers/members/patient_information/safety_checks_controller.rb:101:          Members::PatientInformation::SingleSafetyCheckComponent.new(care_case: current_care_case, back_path: director.back("safety_check"))
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-102-        else
app/controllers/members/patient_information/safety_checks_controller.rb-103-          Members::PatientInformation::SafetyCheckComponent.new(
app/controllers/members/patient_information/safety_checks_controller.rb:104:            care_case: current_care_case,
app/controllers/members/patient_information/safety_checks_controller.rb-105-            back_path: director.back("safety_check")
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/safety_checks_controller.rb-106-          )
--
/Users/jschuss/Brightline/reef/app/controllers/members/triage/terminal_screens_controller.rb-25-        ahoy_track(
/Users/jschuss/Brightline/reef/app/controllers/members/triage/terminal_screens_controller.rb-26-          ahoy_event_name,
app/controllers/members/triage/terminal_screens_controller.rb:27:          care_case_id: current_care_case.id,
app/controllers/members/triage/terminal_screens_controller.rb-28-          program_id: current_care_case.program_id
/Users/jschuss/Brightline/reef/app/controllers/members/triage/terminal_screens_controller.rb-29-        )
--
app/components/members/limited_paperwork/next_assignment_component.rb-6-      attr_reader :patient_name, :care_case, :member
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-7-
app/components/members/limited_paperwork/next_assignment_component.rb:8:      def initialize(patient_name:, care_case:, member:)
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-9-        @patient_name = patient_name
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-10-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-18-        ahoy_data = {
app/components/members/limited_paperwork/next_assignment_component.rb-19-          _event_name: "PaperworkNext:Clicked",
app/components/members/limited_paperwork/next_assignment_component.rb:20:          care_case_id: care_case.id,
app/components/members/limited_paperwork/next_assignment_component.rb-21-          assignment_name: next_assignment.member_facing_name,
app/components/members/limited_paperwork/next_assignment_component.rb-22-          flow: "guest"
--
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-45-
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-46-      def incomplete_paperwork
app/components/members/limited_paperwork/next_assignment_component.rb:47:        @incomplete_paperwork ||= ::Paperwork::IncompletePaperwork.new(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-48-      end
/Users/jschuss/Brightline/reef/app/components/members/limited_paperwork/next_assignment_component.rb-49-
--
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-20-        members_content_path(activity_assignment.activity.id)
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-21-      elsif activity_assignment.activity.digital_exercise?
app/controllers/members/activity_assignments_controller.rb:22:        assigned_exercise = current_member.assigned_exercises.create!(exercise_id: activity_assignment.activity.id, member: current_member, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-23-        edit_members_care_case_assigned_exercise_path(current_care_case, assigned_exercise)
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-24-      elsif activity_assignment.activity.handout?
--
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-40-
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-41-    def activity_assignment
app/controllers/members/activity_assignments_controller.rb:42:      @_activity_assignment = ::Coco::ActivityAssignment.includes(:bundle).where(bundle: {care_case: current_member.accessible_cases}, id: params[:id]).first
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-43-    end
/Users/jschuss/Brightline/reef/app/controllers/members/activity_assignments_controller.rb-44-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-19-          redirect_to director.next_path(skip_params) and return
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-20-        else
app/controllers/members/patient_information/coverage_indications_controller.rb:21:          Analytics::Event::CoverageIndication::Viewed.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-22-        end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-23-      end
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-63-      def track_coverage_indication_clicked(answer_affirmative)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-64-        if answer_affirmative
app/controllers/members/patient_information/coverage_indications_controller.rb:65:          Analytics::Event::CoverageIndicationYes::Clicked.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-66-        else
app/controllers/members/patient_information/coverage_indications_controller.rb:67:          Analytics::Event::CoverageIndicationNo::Clicked.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-68-        end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-69-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-70-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-71-      def director
app/controllers/members/patient_information/coverage_indications_controller.rb:72:        @director ||= ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-73-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/coverage_indications_controller.rb-74-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-14-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-15-      def edit
app/controllers/members/patient_information/engagement_strategies_controller.rb:16:        @director = ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-17-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-18-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-20-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-21-      def track
app/controllers/members/patient_information/engagement_strategies_controller.rb:22:        Analytics::Event::OnboardingEngagementStrategies::Viewed.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-23-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/engagement_strategies_controller.rb-24-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_confirmations_controller.rb-26-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_confirmations_controller.rb-27-      def journey
app/controllers/members/patient_information/insurance_confirmations_controller.rb:28:        @journey ||= ::PatientInformation::Journey.find_by(account: current_account, care_case: current_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_confirmations_controller.rb-29-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_confirmations_controller.rb-30-
--
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-29-            staffers: [current_appointment_scheduling_request.staffer],
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-30-            timezone: current_appointment_scheduling_request.member.timezone,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb:31:            care_case: current_care_case
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-32-          )
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-33-        else
--
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-61-        @availability_request_reporter ||= Calendaring::AppointmentAvailabilityRequestReporter.new(
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-62-          request_context: Calendaring::AvailabilityRequestContext.appointment_scheduling_request,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb:63:          care_case: current_care_case,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-64-          member: current_appointment_scheduling_request.member,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-65-          staffers: [current_appointment_scheduling_request.staffer],
--
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-76-        Calendaring::AvailabilityContext.new(
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-77-          appointment_type: current_appointment_scheduling_request.appointment_type,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb:78:          care_case: current_care_case,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-79-          member: current_appointment_scheduling_request.member,
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-80-          staffers: [current_appointment_scheduling_request.staffer],
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-98-
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-99-      helper_method def current_appointment_scheduling_request
app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb:100:        @current_appointment_scheduling_request ||= Calendaring::AppointmentSchedulingRequest.where(care_case: current_care_case).find(params[:id])
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-101-      end
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests_controller.rb-102-    end
--
app/components/members/pick_a_path_coverage_component.rb-5-    attr_reader :current_care_case, :coverage_info, :contract, :program, :next_url
/Users/jschuss/Brightline/reef/app/components/members/pick_a_path_coverage_component.rb-6-
app/components/members/pick_a_path_coverage_component.rb:7:    def initialize(current_care_case:, coverage_info:, contract:, program:, next_url:)
/Users/jschuss/Brightline/reef/app/components/members/pick_a_path_coverage_component.rb-8-      @current_care_case = current_care_case
/Users/jschuss/Brightline/reef/app/components/members/pick_a_path_coverage_component.rb-9-      @coverage_info = coverage_info
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-56-
app/controllers/members/patient_information/patients_controller.rb-57-          journeys << ::PatientInformation::Journey.start!(
app/controllers/members/patient_information/patients_controller.rb:58:            care_case: care_case,
app/controllers/members/patient_information/patients_controller.rb-59-            member: current_member,
app/controllers/members/patient_information/patients_controller.rb-60-            account: current_account
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-73-        end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-74-
app/controllers/members/patient_information/patients_controller.rb:75:        redirect_to ::PatientInformation::Director.new(account: current_account, member: current_member, care_case: journeys.first.care_case).next_path and return if journeys.one?
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-76-
app/controllers/members/patient_information/patients_controller.rb-77-        redirect_to members_patient_information_patients_path(onboarding: true)
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-90-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-91-      def journeys
app/controllers/members/patient_information/patients_controller.rb:92:        @journeys ||= ::PatientInformation::Journey.includes(care_case: :patient).where(account: current_account).to_a
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-93-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-94-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/patients_controller.rb-111-
app/controllers/members/patient_information/patients_controller.rb-112-          ::PatientInformation::Journey.start!(
app/controllers/members/patient_information/patients_controller.rb:113:            care_case: care_case,
app/controllers/members/patient_information/patients_controller.rb-114-            member: current_member,
app/controllers/members/patient_information/patients_controller.rb-115-            account: current_account
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/home_contents_controller.rb-20-          care_cases_for_current_account = current_account_member.ordered_care_cases
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/home_contents_controller.rb-21-          care_cases_for_current_account.each do |care_case|
app/controllers/api/mobile/accounts/home_contents_controller.rb:22:            care_case_library = Member::CareCaseLibrary.new(care_case: care_case, member: current_member, is_selected: true)
app/controllers/api/mobile/accounts/home_contents_controller.rb-23-            @assignments += care_case_library.all_assignments.map { |assignment| Family::AssignmentPresenterFinder.new(assignment).presenter }
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/home_contents_controller.rb-24-          end
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-39-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-40-      def director
app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb:41:        @director ||= ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-42-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-43-
--
app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-65-        return unless step.respond_to?(:track_event)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-66-
app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb:67:        step.track_event(care_case: care_case, params: caregiver_provided_patient_information_params)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-68-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/caregiver_provided_patient_information_controller.rb-69-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-16-        flash.clear # clear any flash messages from previous steps
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-17-
app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb:18:        @director = ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-19-        @director.complete_step!("encouragement_and_reassurance", track: true)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-20-        @next_step_text = next_step_text
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-24-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-25-      def track
app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb:26:        ahoy_track("OnboardingValueFamilyQuestions:Viewed", {care_case_id: @director.care_case.id})
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-27-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-28-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-36-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-37-      def skip_key
app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb:38:        if MemberExperience::Configuration.new(account: current_account, care_case: current_care_case).show_resource_offerings_screen?
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-39-          "to_resources"
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/encouragement_and_reassurances_controller.rb-40-        else
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/additional_children_controller.rb-29-
app/controllers/members/patient_information/additional_children_controller.rb-30-          ::PatientInformation::Journey.start!(
app/controllers/members/patient_information/additional_children_controller.rb:31:            care_case: patient.care_cases.first,
app/controllers/members/patient_information/additional_children_controller.rb-32-            member: current_member,
app/controllers/members/patient_information/additional_children_controller.rb-33-            account: current_account
--
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-79-    @availability_request_reporter ||= Calendaring::AppointmentAvailabilityRequestReporter.new(
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-80-      request_context: Calendaring::AvailabilityRequestContext.appointment_rescheduling,
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb:81:      care_case: current_appointment.care_case,
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-82-      member: current_member,
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-83-      staffers: [current_appointment.staffer],
--
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-94-    Calendaring::AvailabilityContext.new(
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-95-      appointment_type: current_appointment.appointment_type,
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb:96:      care_case: current_appointment.care_case,
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-97-      member: current_member,
app/controllers/api/mobile/accounts/care_cases/appointments/reschedulations_controller.rb-98-      staffers: [current_appointment.staffer],
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests/appointments_controller.rb-30-
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests/appointments_controller.rb-31-        helper_method def current_appointment_scheduling_request
app/controllers/members/care_cases/appointment_scheduling_requests/appointments_controller.rb:32:          @current_appointment_scheduling_request ||= Calendaring::AppointmentSchedulingRequest.where(care_case: current_care_case).find(params[:appointment_scheduling_request_id])
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests/appointments_controller.rb-33-        end
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/appointment_scheduling_requests/appointments_controller.rb-34-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-17-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-18-      def edit
app/controllers/members/patient_information/focus_areas_controller.rb:19:        @director = ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-20-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-21-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-23-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-24-      def track
app/controllers/members/patient_information/focus_areas_controller.rb:25:        Analytics::Event::OnboardingFocusAreas::Viewed.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-26-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/focus_areas_controller.rb-27-    end
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/care_cases/assignments_controller.rb-10-
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/care_cases/assignments_controller.rb-11-  def index
app/controllers/api/mobile/accounts/care_cases/assignments_controller.rb:12:    care_case_library = Member::CareCaseLibrary.new(care_case: current_care_case, member: current_member, is_selected: true)
app/controllers/api/mobile/accounts/care_cases/assignments_controller.rb-13-    @assignments = care_case_library.all_assignments.map { |assignment| Family::AssignmentPresenterFinder.new(assignment).presenter }
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/care_cases/assignments_controller.rb-14-  end
--
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/assignments_controller.rb-9-
/Users/jschuss/Brightline/reef/app/controllers/members/care_cases/assignments_controller.rb-10-      def index
app/controllers/members/care_cases/assignments_controller.rb:11:        care_case_library = Member::CareCaseLibrary.new(care_case: current_care_case, member: current_member, is_selected: true)
app/controllers/members/care_cases/assignments_controller.rb-12-        @assignments = care_case_library.all_assignments.map { |assignment| Family::AssignmentPresenterFinder.new(assignment).presenter.as_struct }
app/controllers/members/care_cases/assignments_controller.rb-13-        @care_case_context = Family::CareCaseContext.new(care_cases: care_cases_for_current_account)
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-31-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-32-      def journey
app/controllers/members/patient_information/insurance_selections_controller.rb:33:        @journey ||= ::PatientInformation::Journey.find_by(care_case: current_care_case, account: current_account, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-34-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-35-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-59-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-60-      def director
app/controllers/members/patient_information/insurance_selections_controller.rb:61:        @director ||= ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-62-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_selections_controller.rb-63-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-12-        create_state_sponsored_coverage!
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-13-
app/controllers/members/patient_information/wrap_ups_controller.rb:14:        ::PatientInformation::DerivedTopics.new(care_case: current_care_case).map!
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-15-
app/controllers/members/patient_information/wrap_ups_controller.rb-16-        ::Onboarding::AccountSetup.new(current_account).complete!
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-25-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-26-      def director
app/controllers/members/patient_information/wrap_ups_controller.rb:27:        @director ||= ::PatientInformation::Director.new(account: current_account, member: current_member, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-28-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-29-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-31-        current_account.care_cases.each do |care_case|
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-32-          next if active_state_sponsored_for_care_case(care_case)
app/controllers/members/patient_information/wrap_ups_controller.rb:33:          Eligibility::StateSponsoredCoverage.verify_and_create!(care_case: care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-34-        rescue => e
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/wrap_ups_controller.rb-35-          Sentry.capture_exception(e)
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_details_controller.rb-37-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_details_controller.rb-38-      def journey
app/controllers/members/patient_information/insurance_details_controller.rb:39:        @journey ||= ::PatientInformation::Journey.find_by(account: current_account, member: current_member, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_details_controller.rb-40-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/insurance_details_controller.rb-41-
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-32-        return unless program_id.present?
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-33-
app/controllers/members/intake/program_selections_controller.rb:34:        Analytics::Event::CareNavigationResults::Booking::Started.track(program_id: program_id, care_case: current_care_case, source: source, account_id: current_account.id)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-35-
app/controllers/members/intake/program_selections_controller.rb:36:        member_sync = Iterable::DataSynchronization::CareCase.new(care_case: current_care_case, member: current_member)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-37-        member_sync.build_intake_booking_started_event_data(Time.current)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-38-        member_sync.sync
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-39-
app/controllers/members/intake/program_selections_controller.rb-40-        # TODO: SPROUT-4741 remove this event once DS is using CareNavigationResults:Booking:Started in its place
app/controllers/members/intake/program_selections_controller.rb:41:        ahoy_track("TriageIntakeBooking:Started", program_id: program_id, care_case_id: current_care_case.id, source: source)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-42-      end
/Users/jschuss/Brightline/reef/app/controllers/members/intake/program_selections_controller.rb-43-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-20-        end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-21-
app/controllers/members/patient_information/account_coverage_indications_controller.rb:22:        Analytics::Event::AccountBenefitCoverageIndication::Viewed.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-23-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-24-
--
app/controllers/members/patient_information/account_coverage_indications_controller.rb-31-        director.complete_step!("account_coverage_indication", track: true)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-32-        if answer
app/controllers/members/patient_information/account_coverage_indications_controller.rb:33:          Analytics::Event::AccountBenefitCoverageIndicationYes::Clicked.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-34-        else
app/controllers/members/patient_information/account_coverage_indications_controller.rb:35:          Analytics::Event::AccountBenefitCoverageIndicationNo::Clicked.track(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-36-        end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-37-
--
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-59-
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-60-      def director
app/controllers/members/patient_information/account_coverage_indications_controller.rb:61:        @director ||= ::PatientInformation::Director.new(member: current_member, account: current_account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-62-      end
/Users/jschuss/Brightline/reef/app/controllers/members/patient_information/account_coverage_indications_controller.rb-63-    end
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-13-
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-14-      def new
app/controllers/members/intake/provider_choices_controller.rb:15:        @staffers = Onboarding::ProviderChoice::AvailableStaffers.for(care_case: current_care_case, source: ::Onboarding::ProviderChoice::AvailableStaffers::Source.scheduling)
app/controllers/members/intake/provider_choices_controller.rb-16-        ::Calendaring::AppointmentAvailabilityRequestReporter.from_availability_context(availability_context).track!
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-17-
--
app/controllers/members/intake/provider_choices_controller.rb-37-        @staffers = Onboarding::ProviderChoice::AvailableStaffers.for(
app/controllers/members/intake/provider_choices_controller.rb-38-          appointment_type: @appointment.appointment_type,
app/controllers/members/intake/provider_choices_controller.rb:39:          care_case: current_care_case,
app/controllers/members/intake/provider_choices_controller.rb-40-          source: ::Onboarding::ProviderChoice::AvailableStaffers::Source.rescheduling
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-41-        )
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-133-      helper_method def offering
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-134-        @offering ||= begin
app/controllers/members/intake/provider_choices_controller.rb:135:          offering = ::CareNavigation::EligibleOfferings.new(care_case: current_care_case).eligible_offering_for(program)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-136-          if offering.nil?
app/controllers/members/intake/provider_choices_controller.rb:137:            Sentry.capture_message("No EligibleOfferings found for program #{program&.id}", extra: {program_id: program&.id, care_case_id: current_care_case.id})
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-138-          end
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-139-          offering
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-150-        end.to_h
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-151-
app/controllers/members/intake/provider_choices_controller.rb:152:        ahoy_track("ProviderChoiceStaffers:Viewed", care_case_id: current_care_case.id, staffers: staffers, program_id: program.id)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-153-      end
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-154-
--
app/controllers/members/intake/provider_choices_controller.rb-168-        Calendaring::AvailabilityContext.new(
app/controllers/members/intake/provider_choices_controller.rb-169-          appointment_type: appointment_type,
app/controllers/members/intake/provider_choices_controller.rb:170:          care_case: current_care_case,
app/controllers/members/intake/provider_choices_controller.rb-171-          member: current_member,
app/controllers/members/intake/provider_choices_controller.rb-172-          staffers: staffers,
--
app/controllers/members/intake/provider_choices_controller.rb-226-          "IntakeProviderChoiceBookingWeek:Requested",
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-227-          {
app/controllers/members/intake/provider_choices_controller.rb:228:            care_case_id: current_care_case.id,
app/controllers/members/intake/provider_choices_controller.rb-229-            program_id: program.id,
app/controllers/members/intake/provider_choices_controller.rb-230-            staffer_id: selected_staffer.id,
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-256-
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-257-      helper_method def eligible_for_ca_coverage?
app/controllers/members/intake/provider_choices_controller.rb:258:        MemberExperience::Configuration.new(account: current_account, care_case: current_care_case).eligible_for_coverage?
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-259-      end
/Users/jschuss/Brightline/reef/app/controllers/members/intake/provider_choices_controller.rb-260-    end
--
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/assignments_controller.rb-12-
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/assignments_controller.rb-13-    current_account_member.ordered_care_cases.each do |care_case|
app/controllers/api/mobile/accounts/assignments_controller.rb:14:      care_case_library = Member::CareCaseLibrary.new(care_case: care_case, member: current_member, is_selected: true)
app/controllers/api/mobile/accounts/assignments_controller.rb-15-      @assignments.push(*care_case_library.all_assignments.map { |assignment| Family::AssignmentPresenterFinder.new(assignment).presenter })
/Users/jschuss/Brightline/reef/app/controllers/api/mobile/accounts/assignments_controller.rb-16-    end
--
app/controllers/members/intake/appointment_confirmations_controller.rb-29-        Onboarding::Intake.complete!(current_care_case, current_member)
app/controllers/members/intake/appointment_confirmations_controller.rb-30-        # TODO: SPROUT-4741 remove this event once DS is using BookSession:Clicked in its place
app/controllers/members/intake/appointment_confirmations_controller.rb:31:        ahoy_track("TriageIntakeBooking:Booked", care_case_id: current_care_case.id, program_id: current_care_case.program_id)
app/controllers/members/intake/appointment_confirmations_controller.rb-32-        Iterable::SyncContactJob.perform_later(current_member.id, data: {completed_triage_booking: true})
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointment_confirmations_controller.rb-33-        complete_signup_orientation
--
app/controllers/members/completed_exercises_controller.rb-17-      @completed_exercise = Exercise::Save.call(assigned_exercise: @assigned_exercise, data: data, completed: completed)
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-18-      if completed
app/controllers/members/completed_exercises_controller.rb:19:        Analytics::Event::Exercise::Completed.track(account: current_account, care_case: current_care_case, assigned_exercise: @assigned_exercise)
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-20-
app/controllers/members/completed_exercises_controller.rb-21-        coco_director = ::Coco::Director.new(current_member, @assigned_exercise)
--
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-24-        end
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-25-      else
app/controllers/members/completed_exercises_controller.rb:26:        Analytics::Event::Exercise::Updated.track(account: current_account, care_case: current_care_case, assigned_exercise: @assigned_exercise)
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-27-      end
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-28-
--
app/controllers/members/completed_exercises_controller.rb-41-      @completed_exercise = Exercise::Save.call(assigned_exercise: @assigned_exercise, data: data, completed: completed, completed_exercise: @completed_exercise)
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-42-
app/controllers/members/completed_exercises_controller.rb:43:      Analytics::Event::Exercise::Updated.track(account: current_account, care_case: current_care_case, assigned_exercise: @assigned_exercise)
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-44-
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-45-      respond_to do |format|
--
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-110-
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-111-    def log_action
app/controllers/members/completed_exercises_controller.rb:112:      Analytics::Event::Exercise::Viewed.track(account: current_account, care_case: current_care_case, assigned_exercise: @assigned_exercise)
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-113-    end
/Users/jschuss/Brightline/reef/app/controllers/members/completed_exercises_controller.rb-114-
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/payment_methods_controller.rb-29-        else
app/controllers/members/intake/payment_methods_controller.rb-30-          Onboarding::Intake.complete!(current_care_case, current_member)
app/controllers/members/intake/payment_methods_controller.rb:31:          ahoy_track("TriageIntakeBooking:Booked", care_case_id: current_care_case.id, program_id: current_care_case.program_id)
app/controllers/members/intake/payment_methods_controller.rb-32-          Iterable::SyncContactJob.perform_later(current_member.id, data: {completed_triage_booking: true})
/Users/jschuss/Brightline/reef/app/controllers/members/intake/payment_methods_controller.rb-33-          complete_signup_orientation
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/contact_information_controller.rb-33-
/Users/jschuss/Brightline/reef/app/controllers/members/intake/contact_information_controller.rb-34-      def contact_information_context
app/controllers/members/intake/contact_information_controller.rb:35:        {member: current_member, care_case: current_care_case}
/Users/jschuss/Brightline/reef/app/controllers/members/intake/contact_information_controller.rb-36-      end
/Users/jschuss/Brightline/reef/app/controllers/members/intake/contact_information_controller.rb-37-
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/contact_information_controller.rb-70-      def analytics_data
/Users/jschuss/Brightline/reef/app/controllers/members/intake/contact_information_controller.rb-71-        {
app/controllers/members/intake/contact_information_controller.rb:72:          care_case: current_care_case,
app/controllers/members/intake/contact_information_controller.rb-73-          program_id: current_care_case.program_id,
app/controllers/members/intake/contact_information_controller.rb-74-          patient_accepted_sms_communications: as_boolean(contact_information_params[:patient_accepted_sms_communications], default: nil),
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-82-          .with_service_line(ServiceLine.care_guide)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-83-          .with_status([AppointmentStatus.scheduled, AppointmentStatus.completed])
app/controllers/members/intake/care_guide_appointments_controller.rb:84:          .where.not(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-85-          .exists?
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-86-      end
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-105-        if language_id.present?
app/controllers/members/intake/care_guide_appointments_controller.rb-106-          Analytics::Event::CareGuideBookingInterpretation::Language::Selected.track(
app/controllers/members/intake/care_guide_appointments_controller.rb:107:            care_case: @availability_context.care_case,
app/controllers/members/intake/care_guide_appointments_controller.rb-108-            interpretation_language: Language.find(language_id).name
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-109-          )
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-110-        else
app/controllers/members/intake/care_guide_appointments_controller.rb-111-          Analytics::Event::CareGuideBookingInterpretation::Language::Removed.track(
app/controllers/members/intake/care_guide_appointments_controller.rb:112:            care_case: @availability_context.care_case
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-113-          )
/Users/jschuss/Brightline/reef/app/controllers/members/intake/care_guide_appointments_controller.rb-114-        end
--
app/controllers/members/intake/care_guide_appointments_controller.rb-122-      def load_week_availability(week_start: nil)
app/controllers/members/intake/care_guide_appointments_controller.rb-123-        week_availability = Onboarding::CareGuide::WeekAvailability.new(
app/controllers/members/intake/care_guide_appointments_controller.rb:124:          care_case: current_care_case,
app/controllers/members/intake/care_guide_appointments_controller.rb-125-          member: current_member,
app/controllers/members/intake/care_guide_appointments_controller.rb-126-          appointment_type: care_guide_appointment,
--
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-33-
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-34-    def caregiver?
app/components/members/appointment_card_cta.rb:35:      CareCaseMember.new(care_case: care_case, member: member).caregiver?
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-36-    end
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-37-
--
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-41-
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-42-    def meeting_link
app/components/members/appointment_card_cta.rb:43:      members_care_case_appointment_meeting_path(care_case_id: appointment.care_case_id, appointment_id: appointment.id)
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-44-    end
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-45-
--
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-63-
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-64-    def incomplete_paperwork_count
app/components/members/appointment_card_cta.rb:65:      @paperwork_count ||= ::Paperwork::IncompletePaperwork.count(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-66-    end
/Users/jschuss/Brightline/reef/app/components/members/appointment_card_cta.rb-67-
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-13-      def create
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-14-        track_reservation
app/controllers/members/intake/appointments_controller.rb:15:        AppointmentReservation.create!(start_time: selected_datetime, staffer: selected_staffer, appointment_type: appointment_type, care_case: current_care_case, interpretation_language: interpretation_language)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-16-
app/controllers/members/intake/appointments_controller.rb-17-        redirect_to Onboarding::IntakeJourney.new(current_care_case).flow.after(:scheduling)
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-39-        if current_care_case.program&.care_guide?
app/controllers/members/intake/appointments_controller.rb-40-          Analytics::Event::CareGuideBooking::Scheduled.track(
app/controllers/members/intake/appointments_controller.rb:41:            care_case: current_care_case,
app/controllers/members/intake/appointments_controller.rb-42-            interpretation_language: interpretation_language&.name,
app/controllers/members/intake/appointments_controller.rb-43-            appointment_type_id: appointment_type.id,
--
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-46-          )
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-47-        else
app/controllers/members/intake/appointments_controller.rb:48:          ahoy_track("IntakeProviderChoiceBooking:Scheduled", care_case_id: current_care_case.id, program_id: current_care_case.program_id, selected_datetime: selected_datetime, selected_staffer: selected_staffer, interpretation_language: interpretation_language)
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-49-        end
/Users/jschuss/Brightline/reef/app/controllers/members/intake/appointments_controller.rb-50-      end
--
app/components/members/care_navigation/additional_support_component.rb-6-      attr_reader :account, :care_case, :buttons, :size, :click_event_payload
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-7-
app/components/members/care_navigation/additional_support_component.rb:8:      def initialize(account:, care_case:, buttons: [:crisis], header: nil, size: :large, click_event_name: nil, click_event_payload: {}, show_header: true)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-9-        validate_size(size)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-10-
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-20-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-21-      def library_button
app/components/members/care_navigation/additional_support_component.rb:22:        Members::CareNavigation::AdditionalSupport::LibraryButtonComponent.new(account:, care_case:, size:)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-23-      end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-24-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-25-      def crisis_button
app/components/members/care_navigation/additional_support_component.rb:26:        Members::CareNavigation::AdditionalSupport::CrisisButtonComponent.new(account:, care_case:, size:)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-27-      end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-28-
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-36-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-37-      def coaching_sessions_button
app/components/members/care_navigation/additional_support_component.rb:38:        Members::CareNavigation::AdditionalSupport::CoachingSessionsButtonComponent.new(care_case:, size:)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-39-      end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support_component.rb-40-
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/call_to_action_button_component.rb-8-        include Routing
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/call_to_action_button_component.rb-9-
app/components/members/care_navigation/care_options/call_to_action_button_component.rb:10:        def initialize(care_case:, program_variant:, classes: "", tracking_source: nil, available_staffers_count: 0, preview: false, ahoy: {})
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/call_to_action_button_component.rb-11-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/call_to_action_button_component.rb-12-          @program_variant = program_variant
--
app/components/staffers/care_documents/form_component.rb-6-      attr_reader :care_case, :care_document
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents/form_component.rb-7-
app/components/staffers/care_documents/form_component.rb:8:      def initialize(care_case:, care_document:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents/form_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_documents/form_component.rb-10-        @care_document = care_document
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/pricing_display_component.rb-5-    module CareOptions
app/components/members/care_navigation/care_options/pricing_display_component.rb-6-      class PricingDisplayComponent < ViewComponent::Base
app/components/members/care_navigation/care_options/pricing_display_component.rb:7:        def initialize(offering:, care_case:, price:, context: {})
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/pricing_display_component.rb-8-          @offering = offering
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/pricing_display_component.rb-9-          @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/pricing_display_component.rb-45-        def price_display_logger_request_context
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/pricing_display_component.rb-46-          {
app/components/members/care_navigation/care_options/pricing_display_component.rb:47:            care_case_id: care_case.id,
app/components/members/care_navigation/care_options/pricing_display_component.rb-48-            program_id: offering_program.id,
app/components/members/care_navigation/care_options/pricing_display_component.rb-49-            offering_id: offering.id
--
app/components/staffers/member_email_change_form_modal_component.rb-5-    attr_reader :member, :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/member_email_change_form_modal_component.rb-6-
app/components/staffers/member_email_change_form_modal_component.rb:7:    def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/components/staffers/member_email_change_form_modal_component.rb-8-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/member_email_change_form_modal_component.rb-9-      @member = member
--
app/components/staffers/care_navigation_reset_modal_component.rb-4-  attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_navigation_reset_modal_component.rb-5-
app/components/staffers/care_navigation_reset_modal_component.rb:6:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_navigation_reset_modal_component.rb-7-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_navigation_reset_modal_component.rb-8-  end
--
app/components/staffers/digital_content_component.rb-27-      age_range_id: filter_params.dig(:age_range_id),
app/components/staffers/digital_content_component.rb-28-      search_session_id: params[:search_session_id],
app/components/staffers/digital_content_component.rb:29:      care_case_id: params[:care_case_id],
app/components/staffers/digital_content_component.rb-30-      blended_care_only: blended_care_only?
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content_component.rb-31-    })
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_group_component.rb-13-        def expand_programs_event_data
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_group_component.rb-14-          {
app/components/members/care_navigation/care_options/offering_group_component.rb:15:            care_case_id: care_case.id,
app/components/members/care_navigation/care_options/offering_group_component.rb-16-            other_programs: other_offerings_ids
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_group_component.rb-17-          }.to_json
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_form_assignments_controller.rb-17-  def assignable_params
app/controllers/staffers/care_form_assignments_controller.rb-18-    care_form_params.slice(:member_id)
app/controllers/staffers/care_form_assignments_controller.rb:19:      .merge(care_case_id: current_care_case.id, with_assignment: true)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_form_assignments_controller.rb-20-  end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_form_assignments_controller.rb-21-
--
app/components/staffers/notes_card_component.rb-10-    attr_reader :staffer, :account, :notes, :care_case, :service_line_referrals
/Users/jschuss/Brightline/reef/app/components/staffers/notes_card_component.rb-11-
app/components/staffers/notes_card_component.rb:12:    def initialize(staffer:, account:, notes:, errors: [], care_case: nil, service_line_referrals: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/notes_card_component.rb-13-      @staffer = staffer
/Users/jschuss/Brightline/reef/app/components/staffers/notes_card_component.rb-14-      @account = account
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-13-          }
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-14-
app/components/members/care_navigation/care_options/offering_card_component.rb:15:          offering = ::CareNavigation::Offerings::Offering.find(log.data["request_context"]["offering_id"].to_sym).new(care_case: log.care_case)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-16-
app/components/members/care_navigation/care_options/offering_card_component.rb:17:          new(offering: offering, care_case: log.care_case, context: context)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-18-        end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-19-
app/components/members/care_navigation/care_options/offering_card_component.rb:20:        def initialize(offering:, care_case:, context: nil)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-21-          @offering = offering
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-22-          @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-40-        def analytics_metadata
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-41-          {
app/components/members/care_navigation/care_options/offering_card_component.rb:42:            care_case: care_case,
app/components/members/care_navigation/care_options/offering_card_component.rb-43-            program_id: offering.base_program&.id,
app/components/members/care_navigation/care_options/offering_card_component.rb-44-            program_variant_id: offering.id,
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-50-          return [] unless offering_program.present? && offering_program != Program.care_guide
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-51-
app/components/members/care_navigation/care_options/offering_card_component.rb:52:          @available_staffers ||= Onboarding::ProviderChoice::AvailableStaffers.for(care_case: care_case, program: offering_program, source: ::Onboarding::ProviderChoice::AvailableStaffers::Source.results)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-53-        end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-54-
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-84-            offering.price.presence
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-85-          else
app/components/members/care_navigation/care_options/offering_card_component.rb:86:            ::MemberCostShare::PriceRequest.for_care_case_in_program(care_case: care_case, program: offering_program)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-87-          end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/offering_card_component.rb-88-        end
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/assessment_results_content_component.rb-34-          {
app/components/members/care_navigation/care_options/assessment_results_content_component.rb-35-            assessment_id: assessment_assignment.assessment_id,
app/components/members/care_navigation/care_options/assessment_results_content_component.rb:36:            care_case_id: care_case_id,
app/components/members/care_navigation/care_options/assessment_results_content_component.rb-37-            sections: sections_metadata
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/assessment_results_content_component.rb-38-          }
--
app/components/members/care_navigation/care_options/assessment_results_content_component.rb-118-                value: module_value,
app/components/members/care_navigation/care_options/assessment_results_content_component.rb-119-                assessment_id: assessment_assignment.assessment_id,
app/components/members/care_navigation/care_options/assessment_results_content_component.rb:120:                care_case_id: care_case_id
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/assessment_results_content_component.rb-121-              }
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/assessment_results_content_component.rb-122-            }
--
app/components/members/care_navigation/care_options/assessment_results_content_component.rb-133-                cta: cta_name,
app/components/members/care_navigation/care_options/assessment_results_content_component.rb-134-                assessment_id: assessment_assignment.assessment_id,
app/components/members/care_navigation/care_options/assessment_results_content_component.rb:135:                care_case_id: care_case_id
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/assessment_results_content_component.rb-136-              }
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/assessment_results_content_component.rb-137-            }
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-6-      def new
app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-7-        @care_case = CareCase.find(params[:care_case_id])
app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb:8:        @residency_context = Eligibility::Verification::Context::Residency::Staffer.new(care_case: @care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-9-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-10-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-22-            else
app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-23-              flash[:error] = "Context is invalid. #{@residency_context.errors.full_messages.join(". ")}"
app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb:24:              redirect_to new_eligibility_verifications_residency_staffer_context_path(care_case_id: residency_context_params[:care_case_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-25-            end
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-26-          end
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-27-        else
app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-28-          flash[:error] = "Contract not found"
app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb:29:          redirect_to new_eligibility_verifications_residency_staffer_context_path(care_case_id: residency_context_params[:care_case_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-30-        end
/Users/jschuss/Brightline/reef/app/controllers/staffers/eligibility_verifications/residency/staffer_contexts_controller.rb-31-      end
--
app/components/staffers/coach_workflows/chat_channel/care_case_component.rb-7-        attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/coach_workflows/chat_channel/care_case_component.rb-8-
app/components/staffers/coach_workflows/chat_channel/care_case_component.rb:9:        def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/coach_workflows/chat_channel/care_case_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/coach_workflows/chat_channel/care_case_component.rb-11-        end
--
app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-7-        attr_reader :care_case, :offering
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-8-
app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb:9:        def initialize(care_case:, offering:)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-11-          @offering = offering
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-23-          {
app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-24-            account_id: care_case.account.id,
app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb:25:            care_case_id: care_case.id,
app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-26-            program_id: offering.base_program.id
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-27-          }
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-41-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-42-        def therapy_price
app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb:43:          price = ::MemberCostShare::PriceRequest.for_care_case_in_program(care_case: care_case, program: offering.base_program)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-44-          price.details.initial.amount.member_rate_cents
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options/public_coverage_therapy_confirmation_modal.rb-45-        end
--
app/models/assigned_exercise.rb-8-#  created_at      :datetime         not null
app/models/assigned_exercise.rb-9-#  updated_at      :datetime         not null
app/models/assigned_exercise.rb:10:#  care_case_id    :uuid             not null
app/models/assigned_exercise.rb-11-#  completed_by_id :uuid
app/models/assigned_exercise.rb-12-#  exercise_id     :string
--
/Users/jschuss/Brightline/reef/app/models/assigned_exercise.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/assigned_exercise.rb-22-#
app/models/assigned_exercise.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/assigned_exercise.rb-24-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/assigned_exercise.rb-25-#
--
app/models/assigned_exercise.rb-43-  scope :accessible_safety_plans_for,
/Users/jschuss/Brightline/reef/app/models/assigned_exercise.rb-44-    ->(member_id) {
app/models/assigned_exercise.rb:45:      joins(care_case: :primary_members)
/Users/jschuss/Brightline/reef/app/models/assigned_exercise.rb-46-        .where(
app/models/assigned_exercise.rb-47-          exercise_id: Exercise.personal_safety_plan.id,
--
app/models/fear.rb-11-#  created_at   :datetime         not null
app/models/fear.rb-12-#  updated_at   :datetime         not null
app/models/fear.rb:13:#  care_case_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/fear.rb-14-#
/Users/jschuss/Brightline/reef/app/models/fear.rb-15-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/fear.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/fear.rb-20-#
app/models/fear.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/fear.rb-22-#
/Users/jschuss/Brightline/reef/app/models/fear.rb-23-class Fear < ApplicationRecord
--
app/components/staffers/healthie/unlock_note_request_modal_component.rb-6-      attr_reader :healthie_patient_id, :healthie_note_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/unlock_note_request_modal_component.rb-7-
app/components/staffers/healthie/unlock_note_request_modal_component.rb:8:      def initialize(care_case:, note_id:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/unlock_note_request_modal_component.rb-9-        @healthie_patient_id = care_case.healthie_patient_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/unlock_note_request_modal_component.rb-10-        @healthie_note_id = note_id
--
app/components/staffers/healthie/notes_table/row_note_status_component.rb-9-        delegate :signed?, :locked?, to: :completion_state
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_note_status_component.rb-10-
app/components/staffers/healthie/notes_table/row_note_status_component.rb:11:        def initialize(care_case:, note:, errors: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_note_status_component.rb-12-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_note_status_component.rb-13-          @note = note
--
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-3-class AccountTeam
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-4-  class CoachMatch
app/models/account_team/coach_match.rb:5:    def initialize(account, coaches: nil, care_case_id: nil)
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-6-      @account = account
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-7-      @coaches = coaches || get_coaches
app/models/account_team/coach_match.rb:8:      @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-9-    end
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-10-
--
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-31-
app/models/account_team/coach_match.rb-32-    def sorted_coaches(skip_tracking: true)
app/models/account_team/coach_match.rb:33:      @sorted_coaches ||= AccountTeam::CoachMatch::Selection.new(computed_coach_criteria, care_case_id: care_case_id).sorted(skip_tracking: skip_tracking)
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-34-    end
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match.rb-35-
--
app/components/staffers/healthie/notes_table/row_healthie_appointment_status_component.rb-7-        attr_reader :care_case, :note, :appointment
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_healthie_appointment_status_component.rb-8-
app/components/staffers/healthie/notes_table/row_healthie_appointment_status_component.rb:9:        def initialize(care_case:, note:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_healthie_appointment_status_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_healthie_appointment_status_component.rb-11-          @note = note
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-22-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-23-        def modal
app/components/members/care_navigation/additional_support/crisis_button_component.rb:24:          Members::PatientInformation::CrisisResources::ModalComponent.new(care_case:, member_experience_version:)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-25-        end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-26-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-27-        def member_experience_version
app/components/members/care_navigation/additional_support/crisis_button_component.rb:28:          MemberExperience::Configuration.new(account:, care_case:).safety_resources_version
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-29-        end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/crisis_button_component.rb-30-      end
--
app/components/staffers/healthie/notes_table/row_reef_appointment_status_component.rb-7-        attr_reader :care_case, :note
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_reef_appointment_status_component.rb-8-
app/components/staffers/healthie/notes_table/row_reef_appointment_status_component.rb:9:        def initialize(care_case:, note:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_reef_appointment_status_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_reef_appointment_status_component.rb-11-          @note = note
--
app/components/members/care_navigation/additional_support/additional_support_button_component.rb-7-        attr_reader :size, :account, :care_case
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/additional_support_button_component.rb-8-
app/components/members/care_navigation/additional_support/additional_support_button_component.rb:9:        def initialize(size: :large, account: nil, care_case: nil)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/additional_support_button_component.rb-10-          @size = size
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/additional_support/additional_support_button_component.rb-11-          @account = account
--
app/components/staffers/healthie/notes_table/row_component.rb-7-        attr_reader :note, :completion_state, :care_case, :processed_record, :staffer
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_component.rb-8-
app/components/staffers/healthie/notes_table/row_component.rb:9:        def initialize(care_case:, note:, staffer:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_component.rb-11-          @note = note
--
app/components/staffers/appointments/appointment_blocks_table_component.rb-9-      attr_reader :appointment_blocks, :care_case, :staffer
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_blocks_table_component.rb-10-
app/components/staffers/appointments/appointment_blocks_table_component.rb:11:      def initialize(appointment_blocks:, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_blocks_table_component.rb-12-        @appointment_blocks = appointment_blocks
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_blocks_table_component.rb-13-        @care_case = care_case
--
app/components/staffers/healthie/notes_table/associated_data_modal_component.rb-7-        attr_reader :care_case, :note
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/associated_data_modal_component.rb-8-
app/components/staffers/healthie/notes_table/associated_data_modal_component.rb:9:        def initialize(care_case:, note:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/associated_data_modal_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/associated_data_modal_component.rb-11-          @note = note
--
app/components/staffers/healthie/notes_table/row_actions_component.rb-7-        attr_reader :care_case, :note, :completion_state
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_actions_component.rb-8-
app/components/staffers/healthie/notes_table/row_actions_component.rb:9:        def initialize(care_case:, note:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_actions_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table/row_actions_component.rb-11-          @note = note
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/concerns/schedule_appointment_helpers.rb-6-  included do
/Users/jschuss/Brightline/reef/app/controllers/staffers/concerns/schedule_appointment_helpers.rb-7-    def member_experience_configuration
app/controllers/staffers/concerns/schedule_appointment_helpers.rb:8:      @member_experience_configuration ||= MemberExperience::Configuration.new(account: current_care_case.account, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/concerns/schedule_appointment_helpers.rb-9-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/concerns/schedule_appointment_helpers.rb-10-
--
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-10-
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-11-    on(AppointmentRescheduledAsNewAppointmentEvent) do |event|
app/models/account_team/care_guide_swap.rb:12:      event => {new_appointment:, care_case:, changes:}
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-13-
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-14-      if new_appointment.service_line.care_guide? && changes.staffer_id.present?
--
app/models/account_team/care_guide_swap.rb-66-        group: :care_guide,
app/models/account_team/care_guide_swap.rb-67-        account: account,
app/models/account_team/care_guide_swap.rb:68:        care_case: care_case,
app/models/account_team/care_guide_swap.rb-69-        due_date: Time.zone.now,
app/models/account_team/care_guide_swap.rb-70-        reminder_assignments: [TaskManagement::ReminderAssignment.build(staffer: prior_care_guide, claimed_at: Time.zone.now, unclaimed_at: nil)]
--
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-88-      if clinical_role.present?
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-89-        # UPDATE CLINICAL ROLES ON CARE CASE
app/models/account_team/care_guide_swap.rb:90:        add_result = ClinicalTeam::AddStafferToCareCase.call(care_case: care_case, staffer: care_guide, primary: clinical_role.primary?)
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-91-        raise "failed to add care guide" unless add_result.success?
app/models/account_team/care_guide_swap.rb:92:        remove_result = ClinicalTeam::RemoveStafferFromCareCase.call(care_case: care_case, staffer: prior_care_guide)
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-93-        raise "failed to remove care guide" unless remove_result.success?
/Users/jschuss/Brightline/reef/app/models/account_team/care_guide_swap.rb-94-
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/assessment_component.rb-26-      def before_render
app/components/members/care_navigation/assessment_component.rb-27-        Analytics::Event::CareNavigation::Assessment::Started.track(
app/components/members/care_navigation/assessment_component.rb:28:          care_case: care_case,
app/components/members/care_navigation/assessment_component.rb-29-          assessment_id: assessment_assignment.assessment_id,
app/components/members/care_navigation/assessment_component.rb-30-          display_language_id: journey.member.display_language_id,
--
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_summary_component.rb-11-      ADDITIONAL_STATUSES = [AppointmentStatus.no_show, AppointmentStatus.canceled, AppointmentStatus.completed]
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_summary_component.rb-12-
app/components/staffers/appointments/appointments_table_summary_component.rb:13:      def initialize(care_case:, filters: {})
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_summary_component.rb-14-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_summary_component.rb-15-        @filters = filters
--
app/components/staffers/healthie/linkable_appointments_modal_component.rb-6-      attr_reader :note_id, :care_case, :appointments
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal_component.rb-7-
app/components/staffers/healthie/linkable_appointments_modal_component.rb:8:      def initialize(care_case:, note_id:, appointments:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal_component.rb-9-        @note_id = note_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal_component.rb-10-        @care_case = care_case
--
app/components/staffers/healthie/error_component.rb-6-      attr_reader :care_case_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/error_component.rb-7-
app/components/staffers/healthie/error_component.rb:8:      def initialize(care_case_id: nil)
app/components/staffers/healthie/error_component.rb:9:        @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/error_component.rb-10-      end
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/error_component.rb-11-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_care_journey_activities_controller.rb-8-
app/controllers/staffers/care_case_care_journey_activities_controller.rb-9-    @care_case = CareCase.find(params[:care_case_id])
app/controllers/staffers/care_case_care_journey_activities_controller.rb:10:    @pagy, @activities = pagy_array(policy_scope(CareJourney::ActivityRecord).where(care_case: @care_case).order(created_at: :desc), items: 20)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_care_journey_activities_controller.rb-11-    @secondary_tab = "care_journey_activities"
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_care_journey_activities_controller.rb-12-  end
--
app/components/staffers/healthie/assignment_component.rb-6-      attr_reader :care_case, :document_type_id, :exercise_id, :form_url, :title
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-7-
app/components/staffers/healthie/assignment_component.rb:8:      def initialize(care_case:, document_type_id:, exercise_id:, form_url:, title:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-10-        @document_type_id = document_type_id
--
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-19-
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-20-      def assignable_members
app/components/staffers/healthie/assignment_component.rb:21:        assignees.filter { |assignee| Rules::Member::Assignable.call(member: assignee, care_case: care_case) }
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-22-      end
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/assignment_component.rb-23-
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-19-
app/components/members/care_navigation/care_options_component.rb-20-        Analytics::Event::CareNavigation::Recommendation::Viewed.track(
app/components/members/care_navigation/care_options_component.rb:21:          care_case: care_case,
app/components/members/care_navigation/care_options_component.rb-22-          offerings: offerings,
app/components/members/care_navigation/care_options_component.rb-23-          other_offerings: other_offerings,
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-49-      def available_staffers
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-50-        if offerings.recommended&.base_program && offerings.recommended.base_program != Program.care_guide
app/components/members/care_navigation/care_options_component.rb:51:          Onboarding::ProviderChoice::AvailableStaffers.for(care_case: care_case, program: offerings.recommended.base_program, source: ::Onboarding::ProviderChoice::AvailableStaffers::Source.results)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-52-        end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-53-      end
--
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-113-
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-114-      def member_experience_configuration
app/components/members/care_navigation/care_options_component.rb:115:        MemberExperience::Configuration.new(account: journey.account, care_case:)
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-116-      end
/Users/jschuss/Brightline/reef/app/components/members/care_navigation/care_options_component.rb-117-    end
--
app/components/staffers/healthie/linkable_appointments_modal/table_component.rb-7-        attr_reader :care_case, :appointments, :note_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal/table_component.rb-8-
app/components/staffers/healthie/linkable_appointments_modal/table_component.rb:9:        def initialize(care_case:, appointments:, note_id:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal/table_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal/table_component.rb-11-          @note_id = note_id
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/care_cases_component.rb-14-        @care_cases ||= account&.care_cases&.reload.to_a.map do |care_case|
app/components/staffers/phone_desk/care_cases_component.rb-15-          matching_params = care_case_params.find { |params| params[:id] == care_case.id.to_s } || {}
app/components/staffers/phone_desk/care_cases_component.rb:16:          ::PhoneDesk::CareCaseForm.new(account: account, care_case: care_case, params: matching_params)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/care_cases_component.rb-17-        end.tap do |cases|
app/components/staffers/phone_desk/care_cases_component.rb-18-          cases << ::PhoneDesk::CareCaseForm.new(account: account, params: {}) if cases.empty? && account.persisted?
--
app/components/staffers/healthie/linkable_appointments_modal/table/row_component.rb-8-          attr_reader :care_case, :appointment, :note_id
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal/table/row_component.rb-9-
app/components/staffers/healthie/linkable_appointments_modal/table/row_component.rb:10:          def initialize(care_case:, appointment:, note_id:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal/table/row_component.rb-11-            @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/linkable_appointments_modal/table/row_component.rb-12-            @appointment = appointment
--
app/components/staffers/appointments/appointments_table_filters_component.rb-8-      attr_reader :care_case, :staffer
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_filters_component.rb-9-
app/components/staffers/appointments/appointments_table_filters_component.rb:10:      def initialize(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_filters_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointments_table_filters_component.rb-12-        @staffer = staffer
--
app/components/staffers/healthie/notes_table_component.rb-6-      attr_reader :care_case, :staffer, :notes
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table_component.rb-7-
app/components/staffers/healthie/notes_table_component.rb:8:      def initialize(care_case:, staffer:, notes:)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/notes_table_component.rb-10-        @staffer = staffer
--
app/components/staffers/appointments/appointment_type_dropdown_component.rb-6-      attr_reader :form, :options, :html_options, :care_case, :service_line_ids, :always_hide_clinic_types
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-7-
app/components/staffers/appointments/appointment_type_dropdown_component.rb:8:      def initialize(form:, options: {}, html_options: {}, care_case: nil, service_line_ids: nil, always_hide_clinic_types: false)
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-9-        @form = form
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-10-        @options = options
--
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-24-          # Remove clinic types if not clinic model (but don't do filtering other way for now)
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-25-          # Clinic scheduling interfaces are already specific to clinic types
app/components/staffers/appointments/appointment_type_dropdown_component.rb:26:          if always_hide_clinic_types || CareModel.new(care_case:).id != :clinic
app/components/staffers/appointments/appointment_type_dropdown_component.rb-27-            types -= AppointmentType.for_care_model(:clinic)
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-28-          end
--
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-51-        return if care_case.blank? || care_case.account.blank?
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-52-
app/components/staffers/appointments/appointment_type_dropdown_component.rb:53:        MemberExperience::Configuration.new(account: care_case.account, care_case: care_case)
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-54-      end
/Users/jschuss/Brightline/reef/app/components/staffers/appointments/appointment_type_dropdown_component.rb-55-
--
app/components/staffers/healthie/scheduling_preferences_form.rb-5-      alias_method :disabled?, :readonly
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/scheduling_preferences_form.rb-6-
app/components/staffers/healthie/scheduling_preferences_form.rb:7:      def initialize(care_case:, scheduling_preferences:, form_url:, readonly: false)
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/scheduling_preferences_form.rb-8-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/healthie/scheduling_preferences_form.rb-9-        @scheduling_preferences = scheduling_preferences
--
app/components/staffers/phone_desk/tabs_component.rb-6-      attr_reader :account, :care_case, :tab, :confirmation_message
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-7-
app/components/staffers/phone_desk/tabs_component.rb:8:      def initialize(account: nil, care_case: nil, tab: "account", confirmation_message: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-9-        @account = account
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-10-        @care_case = care_case || account&.care_cases&.first
--
app/components/staffers/phone_desk/tabs_component.rb-17-          build_tab(name: "Account", href: root_tab_href),
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-18-          *account_tab_items,
app/components/staffers/phone_desk/tabs_component.rb:19:          build_tab(name: "FAQ", href: phone_desk_faqs_path(account_id:, care_case_id:))
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-20-        ]
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-21-      end
--
app/components/staffers/phone_desk/tabs_component.rb-55-        if SupportedRegion.clinic_supported?(region: account&.region)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-56-          tabs += [
app/components/staffers/phone_desk/tabs_component.rb:57:            build_tab(name: "Payment", href: new_phone_desk_account_payment_path(account, care_case_id:)),
app/components/staffers/phone_desk/tabs_component.rb:58:            build_tab(name: "Schedule", href: new_phone_desk_account_scheduling_appointment_bundle_path(account, care_case_id:))
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-59-          ]
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-60-        end
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-61-
app/components/staffers/phone_desk/tabs_component.rb:62:        tabs << build_tab(name: "Call Notes", href: new_phone_desk_account_call_log_path(account, care_case_id:))
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-63-        tabs
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/tabs_component.rb-64-      end
--
app/components/staffers/phone_desk/care_case_select_component.rb-5-      delegate :care_cases, to: :account
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/care_case_select_component.rb-6-
app/components/staffers/phone_desk/care_case_select_component.rb:7:      def initialize(url:, account:, selected_care_case:, param_id: "care_case_id")
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/care_case_select_component.rb-8-        @url = url
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/care_case_select_component.rb-9-        @account = account
--
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match/selection.rb-13-      }
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match/selection.rb-14-
app/models/account_team/coach_match/selection.rb:15:      def initialize(criteria, care_case_id: nil)
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match/selection.rb-16-        @criteria = criteria
app/models/account_team/coach_match/selection.rb:17:        @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match/selection.rb-18-      end
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match/selection.rb-19-
--
/Users/jschuss/Brightline/reef/app/models/account_team/coach_match/selection.rb-42-          {
app/models/account_team/coach_match/selection.rb-43-            step: "coach_selection",
app/models/account_team/coach_match/selection.rb:44:            care_case_id: care_case_id,
app/models/account_team/coach_match/selection.rb-45-            input_staffer_ids: criteria.coaches.map(&:id),
app/models/account_team/coach_match/selection.rb-46-            selected_staffer_ids: sorted.map(&:id),
--
app/components/staffers/phone_desk/wait_list/add_button_component.rb-7-        attr_reader :care_case, :root_appointment_type
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-8-
app/components/staffers/phone_desk/wait_list/add_button_component.rb:9:        def initialize(care_case:, root_appointment_type:)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-11-          @root_appointment_type = root_appointment_type
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-13-
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-14-        def render?
app/components/staffers/phone_desk/wait_list/add_button_component.rb:15:          !::WaitList::Entry.active.where(care_case_id: care_case.id).exists?
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-16-        end
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-17-
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-18-        def modal_path
app/components/staffers/phone_desk/wait_list/add_button_component.rb:19:          new_phone_desk_wait_list_entry_path(care_case_id: care_case.id, root_appointment_type_id: root_appointment_type.id)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-20-        end
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_button_component.rb-21-
--
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-69-      care_cases.each do |care_case|
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-70-        next if care_case.cared_for_by?(staffer)
app/models/account_team/member_support.rb:71:        ClinicalTeam::AddStafferToCareCase.call(care_case: care_case, staffer: staffer, primary: false)
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-72-      end
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-73-    end
--
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-77-        next unless care_case.cared_for_by?(staffer)
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-78-
app/models/account_team/member_support.rb:79:        result = ClinicalTeam::RemoveStafferFromCareCase.call(care_case: care_case, staffer: staffer)
app/models/account_team/member_support.rb-80-        result.on_error do |errors:|
/Users/jschuss/Brightline/reef/app/models/account_team/member_support.rb-81-          raise CareCaseRemovalError.new(errors.join(", "))
--
app/components/staffers/phone_desk/wait_list/badge_component.rb-7-        attr_reader :care_case, :root_appointment_type
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/badge_component.rb-8-
app/components/staffers/phone_desk/wait_list/badge_component.rb:9:        def initialize(care_case:, root_appointment_type: nil, classes: "")
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/badge_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/badge_component.rb-11-          @root_appointment_type = root_appointment_type
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/badge_component.rb-14-
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/badge_component.rb-15-        def render?
app/components/staffers/phone_desk/wait_list/badge_component.rb:16:          filters = {care_case_id: care_case.id, root_appointment_type_id: root_appointment_type&.id}.compact_blank
app/components/staffers/phone_desk/wait_list/badge_component.rb-17-          ::WaitList::Entry.active.where(**filters).exists?
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/badge_component.rb-18-        end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-9-    authorize AssignedExercise
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-10-
app/controllers/staffers/assigned_exercises_controller.rb:11:    exercises = ::Assignments::Logic.new(member: member, care_case: current_care_case, exercise_id: assigned_exercise_params[:exercise_id]).assign!
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-12-
app/controllers/staffers/assigned_exercises_controller.rb-13-    staffers_ahoy_track("DigitalContent:Assigned", {
app/controllers/staffers/assigned_exercises_controller.rb-14-      content_id: assigned_exercise_params[:exercise_id],
app/controllers/staffers/assigned_exercises_controller.rb-15-      content_type: params[:assigned_exercise][:document_type_id],
app/controllers/staffers/assigned_exercises_controller.rb:16:      care_case_id: params[:care_case_id]
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-17-    })
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-18-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-26-      redirect_to edit_members_care_case_assigned_exercise_url(
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_exercises_controller.rb-27-        matching_exercise,
app/controllers/staffers/assigned_exercises_controller.rb:28:        care_case_id: current_care_case,
app/controllers/staffers/assigned_exercises_controller.rb-29-        subdomain: "app"
app/controllers/staffers/assigned_exercises_controller.rb-30-      ), allow_other_host: true
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_to_wait_list_modal_component.rb-6-      class AddToWaitListModalComponent < ApplicationComponent
app/components/staffers/phone_desk/wait_list/add_to_wait_list_modal_component.rb-7-        attr_reader :care_case, :root_appointment_type
app/components/staffers/phone_desk/wait_list/add_to_wait_list_modal_component.rb:8:        def initialize(care_case:, root_appointment_type:)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_to_wait_list_modal_component.rb-9-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/wait_list/add_to_wait_list_modal_component.rb-10-          @root_appointment_type = root_appointment_type
--
app/components/members/patient_information/safety_resources_component.rb-8-      delegate :patient_preferred_name, to: :care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_resources_component.rb-9-
app/components/members/patient_information/safety_resources_component.rb:10:      def initialize(care_case:, safety_check:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_resources_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_resources_component.rb-12-        @safety_check = safety_check
--
app/components/members/patient_information/safety_resources_component.rb-21-          ahoy_event: "OnboardingSafetyResourcesOtherChild:Clicked",
app/components/members/patient_information/safety_resources_component.rb-22-          ahoy_metadata: {
app/components/members/patient_information/safety_resources_component.rb:23:            care_case_id: care_case.id,
app/components/members/patient_information/safety_resources_component.rb-24-            safety_check_id: safety_check.id
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_resources_component.rb-25-          }.to_json
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/account_form_component.rb-135-      def care_cases
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/account_form_component.rb-136-        @care_cases ||= account&.care_cases&.reload.to_a.map do |care_case|
app/components/staffers/phone_desk/account_form_component.rb:137:          ::PhoneDesk::CareCaseForm.new(account: account, care_case: care_case, params: care_case_attributes_for(care_case))
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/account_form_component.rb-138-        end.tap do |cases|
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/account_form_component.rb-139-          if cases.empty?
--
app/components/members/patient_information/single_safety_check_component.rb-8-      delegate :patient_preferred_name, to: :care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/single_safety_check_component.rb-9-
app/components/members/patient_information/single_safety_check_component.rb:10:      def initialize(care_case:, back_path:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/single_safety_check_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/single_safety_check_component.rb-12-        @back_path = back_path
--
app/presenters/care_navigation/assessment_results/base_presenter.rb-8-      attr_reader :care_case, :assessment_results
/Users/jschuss/Brightline/reef/app/presenters/care_navigation/assessment_results/base_presenter.rb-9-
app/presenters/care_navigation/assessment_results/base_presenter.rb:10:      def initialize(care_case:, assessment_results:)
/Users/jschuss/Brightline/reef/app/presenters/care_navigation/assessment_results/base_presenter.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/presenters/care_navigation/assessment_results/base_presenter.rb-12-        @assessment_results = assessment_results
--
/Users/jschuss/Brightline/reef/app/presenters/family/assigned_exercise_presenter.rb-7-    def as_json(*args)
/Users/jschuss/Brightline/reef/app/presenters/family/assigned_exercise_presenter.rb-8-      {
app/presenters/family/assigned_exercise_presenter.rb:9:        care_case_id: care_case_id,
app/presenters/family/assigned_exercise_presenter.rb-10-        member_id: member_id,
app/presenters/family/assigned_exercise_presenter.rb-11-        assignable_type: "AssignedExercise",
--
app/presenters/family/assigned_exercise_presenter.rb-16-        completed_at: completed_at,
app/presenters/family/assigned_exercise_presenter.rb-17-        name: exercise.title,
app/presenters/family/assigned_exercise_presenter.rb:18:        url: edit_members_care_case_assigned_exercise_path(care_case_id: care_case_id, id: id),
app/presenters/family/assigned_exercise_presenter.rb-19-        should_link: !completed? || ongoing? || handout?,
app/presenters/family/assigned_exercise_presenter.rb-20-        created_at: created_at&.to_time&.iso8601
--
app/components/members/patient_information/safety_check_component.rb-8-      delegate :patient_preferred_name, to: :care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_check_component.rb-9-
app/components/members/patient_information/safety_check_component.rb:10:      def initialize(care_case:, back_path:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_check_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/safety_check_component.rb-12-        @back_path = back_path
--
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-100-            end
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-101-          elsif missing_payment_method?
app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb:102:            caseload_appointment_slots_payment_method_reminders_path(staffer, care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-103-          else
app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb:104:            caseload_appointment_slot_reservations_path(staffer, care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-105-          end
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-106-        end
--
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-110-            new_care_case_appointment_slot_reservations_path(care_case)
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-111-          else
app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb:112:            new_caseload_appointment_slot_reservations_path(staffer, care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-113-          end
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/appointment_slot/slot_reservation_form_component.rb-114-        end
--
/Users/jschuss/Brightline/reef/app/presenters/family/care_document_presenter.rb-7-    def as_json(*args)
/Users/jschuss/Brightline/reef/app/presenters/family/care_document_presenter.rb-8-      {
app/presenters/family/care_document_presenter.rb:9:        care_case_id: care_case_id,
app/presenters/family/care_document_presenter.rb-10-        member_id: care_case.patient.id,
app/presenters/family/care_document_presenter.rb-11-        assignable_type: type.constantize.name,
--
/Users/jschuss/Brightline/reef/app/presenters/family/care_document_presenter.rb-29-      the_type = type.constantize
app/presenters/family/care_document_presenter.rb-30-      if the_type == CareDocuments::TherapyCarePlan
app/presenters/family/care_document_presenter.rb:31:        members_care_case_therapy_care_plan_path(care_case, self, ahoy: {_event_name: "#{document_type_name}:Clicked", care_case_id: care_case.id})
app/presenters/family/care_document_presenter.rb-32-      elsif the_type == CareDocuments::DischargeSummary
app/presenters/family/care_document_presenter.rb:33:        members_care_case_discharge_summary_path(care_case, self, ahoy: {_event_name: "#{document_type_name}:Clicked", care_case_id: care_case.id})
/Users/jschuss/Brightline/reef/app/presenters/family/care_document_presenter.rb-34-      else
/Users/jschuss/Brightline/reef/app/presenters/family/care_document_presenter.rb-35-        raise NotImplementedError, "routes are not supported for #{type}"
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/supervisor_trainee_relationships_controller.rb-60-      trainee.care_cases.each do |care_case|
app/controllers/staffers/supervisor_trainee_relationships_controller.rb-61-        if care_case.clinical_roles.exists?(staffer: supervisor, primary: false)
app/controllers/staffers/supervisor_trainee_relationships_controller.rb:62:          ClinicalTeam::RemoveStafferFromCareCase.call(care_case: care_case, staffer: supervisor)
/Users/jschuss/Brightline/reef/app/controllers/staffers/supervisor_trainee_relationships_controller.rb-63-        end
/Users/jschuss/Brightline/reef/app/controllers/staffers/supervisor_trainee_relationships_controller.rb-64-      end
--
app/components/staffers/phone_desk/scheduling/step_header_component.rb-46-            appointment_index: index,
app/components/staffers/phone_desk/scheduling/step_header_component.rb-47-            filters: {
app/components/staffers/phone_desk/scheduling/step_header_component.rb:48:              care_case_id: availability_form.care_case_id,
app/components/staffers/phone_desk/scheduling/step_header_component.rb-49-              appointment_bundle_id: availability_form.appointment_bundle_id,
app/components/staffers/phone_desk/scheduling/step_header_component.rb-50-              staffer_id: availability_form.staffer&.id,
--
/Users/jschuss/Brightline/reef/app/presenters/family/personal_safety_plan_presenter.rb-8-    def as_json(*args)
/Users/jschuss/Brightline/reef/app/presenters/family/personal_safety_plan_presenter.rb-9-      {
app/presenters/family/personal_safety_plan_presenter.rb:10:        care_case_id:,
app/presenters/family/personal_safety_plan_presenter.rb-11-        member_id:,
app/presenters/family/personal_safety_plan_presenter.rb-12-        assignable_type:,
--
/Users/jschuss/Brightline/reef/app/models/invoice/document/adapter.rb-21-
/Users/jschuss/Brightline/reef/app/models/invoice/document/adapter.rb-22-      def candid_adapter
app/models/invoice/document/adapter.rb:23:        ::Candid::SuperbillAdapter.new(care_case:, start_date:, end_date:)
/Users/jschuss/Brightline/reef/app/models/invoice/document/adapter.rb-24-      end
/Users/jschuss/Brightline/reef/app/models/invoice/document/adapter.rb-25-    end
--
/Users/jschuss/Brightline/reef/app/presenters/family/completed_exercise_presenter.rb-11-    def as_json(*args)
/Users/jschuss/Brightline/reef/app/presenters/family/completed_exercise_presenter.rb-12-      {
app/presenters/family/completed_exercise_presenter.rb:13:        care_case_id: assigned_exercise.care_case_id,
app/presenters/family/completed_exercise_presenter.rb-14-        member_id: assigned_exercise.member_id,
app/presenters/family/completed_exercise_presenter.rb-15-        assignable_type: "AssignedExercise",
--
app/components/staffers/coco/activity_preview_description_component.rb-51-      # TODO: Update these to not make unexpected SQL queries?
/Users/jschuss/Brightline/reef/app/components/staffers/coco/activity_preview_description_component.rb-52-      def bundle
app/components/staffers/coco/activity_preview_description_component.rb:53:        @bundle ||= ::Coco::Bundle.find_by(care_case: helpers.current_care_case, id: bundle_id)
/Users/jschuss/Brightline/reef/app/components/staffers/coco/activity_preview_description_component.rb-54-      end
/Users/jschuss/Brightline/reef/app/components/staffers/coco/activity_preview_description_component.rb-55-
--
app/controllers/staffers/duplicate_care_cases_controller.rb-7-    authorize current_care_case, policy_class: CareCasePolicy
app/controllers/staffers/duplicate_care_cases_controller.rb-8-    duplicate_care_case = DevTools::DuplicateCareCase.new(
app/controllers/staffers/duplicate_care_cases_controller.rb:9:      care_case_id: current_care_case.id,
app/controllers/staffers/duplicate_care_cases_controller.rb-10-      staffer_id: current_staffer.id
/Users/jschuss/Brightline/reef/app/controllers/staffers/duplicate_care_cases_controller.rb-11-    )
--
/Users/jschuss/Brightline/reef/app/presenters/family/session_summary_presenter.rb-8-    def as_json(*args)
/Users/jschuss/Brightline/reef/app/presenters/family/session_summary_presenter.rb-9-      {
app/presenters/family/session_summary_presenter.rb:10:        care_case_id:,
app/presenters/family/session_summary_presenter.rb-11-        member_id:,
app/presenters/family/session_summary_presenter.rb-12-        assignable_type:,
--
app/presenters/family/library_resource_presenter.rb-12-        required_pre_appointment:,
app/presenters/family/library_resource_presenter.rb-13-        assignable_id:,
app/presenters/family/library_resource_presenter.rb:14:        care_case_id:,
app/presenters/family/library_resource_presenter.rb-15-        member_id:,
app/presenters/family/library_resource_presenter.rb-16-        name:,
--
app/components/staffers/phone_desk/payment_summary.rb-1-class Staffers::PhoneDesk::PaymentSummary < ApplicationComponent
app/components/staffers/phone_desk/payment_summary.rb:2:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-3-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-4-  end
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-5-
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-6-  def insurance_coverage
app/components/staffers/phone_desk/payment_summary.rb:7:    @insurance_coverage ||= ::PhoneDesk::InsuranceCoverage.for(care_case: @care_case)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-8-  end
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-9-
--
app/components/staffers/phone_desk/payment_summary.rb-30-      tag.p "Credit card: #{active_payment_method.brand} #{active_payment_method.last4}"
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-31-    else
app/components/staffers/phone_desk/payment_summary.rb:32:      render(PaymentAlert.new(care_case: @care_case))
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-33-    end
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-34-  end
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-66-
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-67-  class PaymentAlert < ApplicationComponent
app/components/staffers/phone_desk/payment_summary.rb:68:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-69-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-70-    end
--
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-75-
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-76-        <span class="prism-text-small prism-text-bold">
app/components/staffers/phone_desk/payment_summary.rb:77:          <%= link_to "Add credit card", new_phone_desk_account_payment_path(@care_case.account, care_case_id: @care_case) %>
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-78-        </p>
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payment_summary.rb-79-      </div>
--
app/components/staffers/phone_desk/header_component.rb-6-      attr_reader :title, :account, :care_case, :tab, :confirmation_message
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/header_component.rb-7-
app/components/staffers/phone_desk/header_component.rb:8:      def initialize(title:, account: nil, care_case: nil, tab: "account", confirmation_message: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/header_component.rb-9-        @title = title
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/header_component.rb-10-        @account = account
--
/Users/jschuss/Brightline/reef/app/presenters/family/paperwork_presenter.rb-5-    def as_json(*args)
/Users/jschuss/Brightline/reef/app/presenters/family/paperwork_presenter.rb-6-      {
app/presenters/family/paperwork_presenter.rb:7:        care_case_id:,
app/presenters/family/paperwork_presenter.rb-8-        member_id:,
app/presenters/family/paperwork_presenter.rb-9-        assignable_type:,
--
app/components/members/patient_information/crisis_resources/modal_component.rb-7-        attr_reader :care_case, :member_experience_version
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/modal_component.rb-8-
app/components/members/patient_information/crisis_resources/modal_component.rb:9:        def initialize(care_case:, member_experience_version:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/modal_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/modal_component.rb-11-          @member_experience_version = member_experience_version
--
/Users/jschuss/Brightline/reef/app/presenters/assessment_results.rb-11-    template = assessment_assignment.assessment_version.template
app/presenters/assessment_results.rb-12-    "CareNavigation::AssessmentResults::#{template.to_s.camelize}Presenter".constantize.new(
app/presenters/assessment_results.rb:13:      care_case: assessment_assignment.care_case,
app/presenters/assessment_results.rb-14-      assessment_results: self.for(assessment_assignment)
/Users/jschuss/Brightline/reef/app/presenters/assessment_results.rb-15-    )
--
app/components/members/patient_information/crisis_resources/recommended_resources_component.rb-7-        attr_reader :care_case, :with_header
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/recommended_resources_component.rb-8-
app/components/members/patient_information/crisis_resources/recommended_resources_component.rb:9:        def initialize(care_case:, is_book_of_business:, with_header: true, onboarding: true)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/recommended_resources_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/recommended_resources_component.rb-11-          @is_book_of_business = is_book_of_business
--
app/components/members/patient_information/crisis_resources/page_component.rb-9-        delegate :patient_preferred_name, :patient_age, to: :care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/page_component.rb-10-
app/components/members/patient_information/crisis_resources/page_component.rb:11:        def initialize(care_case:, safety_check:, member_experience_version:, director:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/page_component.rb-12-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/page_component.rb-13-          @safety_check = safety_check
--
app/components/members/patient_information/crisis_resources/page_component.rb-68-            ahoy_metadata: {
app/components/members/patient_information/crisis_resources/page_component.rb-69-              member_experience_version: member_experience_version,
app/components/members/patient_information/crisis_resources/page_component.rb:70:              care_case_id: care_case&.id,
app/components/members/patient_information/crisis_resources/page_component.rb-71-              button_text: next_text
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/page_component.rb-72-            }.to_json
--
app/components/members/patient_information/crisis_resources/resource_card_component.rb-7-        attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/resource_card_component.rb-8-
app/components/members/patient_information/crisis_resources/resource_card_component.rb:9:        def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/resource_card_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/resource_card_component.rb-11-        end
--
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/resource_card_component.rb-43-        def ahoy_metadata
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/resource_card_component.rb-44-          {
app/components/members/patient_information/crisis_resources/resource_card_component.rb:45:            care_case_id: care_case&.id,
app/components/members/patient_information/crisis_resources/resource_card_component.rb-46-            card_name: resource_id
/Users/jschuss/Brightline/reef/app/components/members/patient_information/crisis_resources/resource_card_component.rb-47-          }
--
app/components/members/patient_information/crisis_resources/resource_card_component.rb-54-            ahoy_event: "CrisisResource:Clicked",
app/components/members/patient_information/crisis_resources/resource_card_component.rb-55-            ahoy_metadata: {
app/components/members/patient_information/crisis_resources/resource_card_component.rb:56:              care_case_id: care_case&.id,
app/components/members/patient_information/crisis_resources/resource_card_component.rb-57-              card_name: resource_id,
app/components/members/patient_information/crisis_resources/resource_card_component.rb-58-              button_text: button_text
--
app/components/staffers/eligibility/check_eligibility_form_component.rb-4-      attr_reader :care_case, :contracts, :form_url
/Users/jschuss/Brightline/reef/app/components/staffers/eligibility/check_eligibility_form_component.rb-5-
app/components/staffers/eligibility/check_eligibility_form_component.rb:6:      def initialize(care_case:, contracts:, form_url:)
/Users/jschuss/Brightline/reef/app/components/staffers/eligibility/check_eligibility_form_component.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/eligibility/check_eligibility_form_component.rb-8-        @contracts = contracts
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb-16-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb-17-        # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb:18:        def self.build(care_case_id:, assessment_id:, sections:, **kwargs)
app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb:19:          proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb-20-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb-21-          new(
app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb:22:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb:23:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb-24-            assessment_id: assessment_id,
app/models/analytics/event/care_navigation_assessment_results_page/rendered.rb-25-            sections: sections
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb-15-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb-16-        # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb:17:        def self.build(cta:, care_case_id:, **kwargs)
app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb:18:          proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb-19-          new(
app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb:20:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb:21:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb-22-            cta: cta
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_page/clicked.rb-23-          )
--
app/components/members/patient_information/focus_areas_component.rb-6-      attr_reader :care_case, :back_path, :render_back_button
/Users/jschuss/Brightline/reef/app/components/members/patient_information/focus_areas_component.rb-7-
app/components/members/patient_information/focus_areas_component.rb:8:      def initialize(care_case:, back_path:, render_back_button:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/focus_areas_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/focus_areas_component.rb-10-        @back_path = back_path
--
app/components/members/patient_information/engagement_strategies_component.rb-6-      attr_reader :care_case, :back_path
/Users/jschuss/Brightline/reef/app/components/members/patient_information/engagement_strategies_component.rb-7-
app/components/members/patient_information/engagement_strategies_component.rb:8:      def initialize(care_case:, back_path:)
/Users/jschuss/Brightline/reef/app/components/members/patient_information/engagement_strategies_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/patient_information/engagement_strategies_component.rb-10-        @back_path = back_path
--
app/components/staffers/phone_desk/payments/payment_form_wrapper.rb-6-        alias_method :editing?, :editing
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payments/payment_form_wrapper.rb-7-
app/components/staffers/phone_desk/payments/payment_form_wrapper.rb:8:        def initialize(care_case:, editing: false)
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payments/payment_form_wrapper.rb-9-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/phone_desk/payments/payment_form_wrapper.rb-10-          @editing = editing
--
/Users/jschuss/Brightline/reef/app/components/members/patient_information/patient_details_component.rb-31-      def selected_patient
/Users/jschuss/Brightline/reef/app/components/members/patient_information/patient_details_component.rb-32-        @patients.each.find do |patient|
app/components/members/patient_information/patient_details_component.rb:33:          patient.care_case_id == flow_state.data["care_case_id"]
/Users/jschuss/Brightline/reef/app/components/members/patient_information/patient_details_component.rb-34-        end
/Users/jschuss/Brightline/reef/app/components/members/patient_information/patient_details_component.rb-35-      end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb-13-          care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb-14-
app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb:15:          def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb-16-            new(
app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb:17:              care_case_id: care_case.id,
app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb:18:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb-19-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/removed.rb-20-          end
--
app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb-14-          attribute :interpretation_language, DryTypes::Coercible::String.meta(description: "The name of the selected language")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb-15-
app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb:16:          def self.build(care_case:, interpretation_language:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb-17-            new(
app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb:18:              care_case_id: care_case.id,
app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb:19:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb-20-              interpretation_language: interpretation_language
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking_interpretation/language/selected.rb-21-            )
--
app/models/analytics/event/paperwork/viewed.rb-18-        attribute :member_is_teen, DryTypes::Bool.meta(description: "Whether the member is a teen")
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/viewed.rb-19-
app/models/analytics/event/paperwork/viewed.rb:20:        def self.build(account:, care_case:, while_onboarding:, member_is_teen:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/viewed.rb-21-          new(
app/models/analytics/event/paperwork/viewed.rb-22-            account_id: account.id,
app/models/analytics/event/paperwork/viewed.rb:23:            care_case_id: care_case.id,
app/models/analytics/event/paperwork/viewed.rb:24:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/paperwork/viewed.rb-25-            while_onboarding: while_onboarding,
app/models/analytics/event/paperwork/viewed.rb-26-            member_is_teen: member_is_teen
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment_question/completed.rb-16-
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment_question/completed.rb-17-          # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/paperwork/assessment_question/completed.rb:18:          def self.build(care_case_id:, assessment_id:, question_index:, **kwargs)
app/models/analytics/event/paperwork/assessment_question/completed.rb:19:            proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment_question/completed.rb-20-
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment_question/completed.rb-21-            new(
app/models/analytics/event/paperwork/assessment_question/completed.rb:22:              care_case_id: care_case_id,
app/models/analytics/event/paperwork/assessment_question/completed.rb:23:              proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/paperwork/assessment_question/completed.rb-24-              question_index: question_index,
app/models/analytics/event/paperwork/assessment_question/completed.rb-25-              assessment_id: assessment_id
--
app/presenters/invoices/invoice_details_presenter.rb-53-      text = billing_failed? ? "Retry billing" : "Bill card"
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-54-      confirm_message = "Do you really want to bill #{number_to_currency(billable_cents_in_dollars)}?"
app/presenters/invoices/invoice_details_presenter.rb:55:      link_to text, care_case_square_payments_path(invoice_id: invoice.id, care_case_id: care_case_id), method: :post, class: "prism-button-primary", data: {confirm: confirm_message}
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-56-    end
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-57-
--
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-78-    def refund_button
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-79-      return unless invoice.billed_successfully?
app/presenters/invoices/invoice_details_presenter.rb:80:      link_to("Refund", care_case_square_refunds_path(care_case_id: care_case_id, invoice_id: invoice.id), method: :post, data: {confirm: "Are you sure you want to refund this invoice?"}, class: "prism-button-danger")
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-81-    end
/Users/jschuss/Brightline/reef/app/presenters/invoices/invoice_details_presenter.rb-82-
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment/completed.rb-18-
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment/completed.rb-19-          # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/paperwork/assessment/completed.rb:20:          def self.build(care_case_id:, assessment_id:, display_language_id:, **kwargs)
app/models/analytics/event/paperwork/assessment/completed.rb-21-            care_case = CareCase.find_by(id: care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment/completed.rb-22-            account_id = care_case.account_id
app/models/analytics/event/paperwork/assessment/completed.rb:23:            proxy_care_case_id = care_case&.proxy_id
app/models/analytics/event/paperwork/assessment/completed.rb-24-            intake = ::Assessment.intake.map(&:id).include?(assessment_id.to_sym)
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment/completed.rb-25-
/Users/jschuss/Brightline/reef/app/models/analytics/event/paperwork/assessment/completed.rb-26-            new(
app/models/analytics/event/paperwork/assessment/completed.rb:27:              care_case_id: care_case_id,
app/models/analytics/event/paperwork/assessment/completed.rb:28:              proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/paperwork/assessment/completed.rb-29-              display_language_id: display_language_id,
app/models/analytics/event/paperwork/assessment/completed.rb-30-              assessment_id: assessment_id,
--
app/presenters/care_case_presenter.rb-12-  delegate_missing_to :care_case
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-13-
app/presenters/care_case_presenter.rb:14:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-15-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-16-  end
--
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-45-
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-46-  def unfinished_paperwork_badge
app/presenters/care_case_presenter.rb:47:    return unless Rules::CareCase::DuePaperwork.call(care_case: care_case)
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-48-
app/presenters/care_case_presenter.rb-49-    tag.span("Incomplete paperwork", class: "mt-2 badge badge-warning")
--
app/presenters/care_case_presenter.rb-108-  # TODO: This results in a N+1 query in care_cases/index
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-109-  def upcoming_appointment
app/presenters/care_case_presenter.rb:110:    @upcoming_appointment ||= Appointment.upcoming.not_canceled.chronological.where(care_case: care_case).first
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-111-  end
/Users/jschuss/Brightline/reef/app/presenters/care_case_presenter.rb-112-
--
app/controllers/staffers/clinical_roles_controller.rb-10-    primary = as_boolean(clinical_role_params[:primary])
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-11-
app/controllers/staffers/clinical_roles_controller.rb:12:    unless Rules::CareCase::CanStafferProvideCare.call(care_case: current_care_case, staffer: staffer)
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-13-      raise ArgumentError.new("#{staffer.full_name} is not allowed to provide care for this case")
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-14-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-15-
app/controllers/staffers/clinical_roles_controller.rb:16:    ClinicalTeam::AddStafferToCareCase.call(staffer: staffer, care_case: current_care_case, primary: primary)
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-17-      .on_success { redirect_to care_case_roles_path(current_care_case) }
app/controllers/staffers/clinical_roles_controller.rb-18-      .on_error { redirect_to care_case_roles_path(current_care_case), flash: {error: "Could not add staffer to care case"} }
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-25-    authorize clinical_role
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-26-
app/controllers/staffers/clinical_roles_controller.rb:27:    result = ClinicalTeam::RemoveStafferFromCareCase.call(care_case: current_care_case, staffer: staffer)
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-28-
/Users/jschuss/Brightline/reef/app/controllers/staffers/clinical_roles_controller.rb-29-    result.on_success { |**_|
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_exercise_presenter.rb-42-
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_exercise_presenter.rb-43-    def path_params
app/presenters/assignments/assigned_exercise_presenter.rb:44:      {id: assigned_exercise.id, care_case_id: assigned_exercise.care_case_id}
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_exercise_presenter.rb-45-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_exercise_presenter.rb-46-
--
app/components/members/care_documents/discharge_summary/additional_support.rb-7-        attr_reader :account, :member, :care_case
/Users/jschuss/Brightline/reef/app/components/members/care_documents/discharge_summary/additional_support.rb-8-
app/components/members/care_documents/discharge_summary/additional_support.rb:9:        def initialize(account:, member:, care_case:)
/Users/jschuss/Brightline/reef/app/components/members/care_documents/discharge_summary/additional_support.rb-10-          @account = account
/Users/jschuss/Brightline/reef/app/components/members/care_documents/discharge_summary/additional_support.rb-11-          @member = member
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_yes/clicked.rb-12-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_yes/clicked.rb-13-
app/models/analytics/event/coverage_indication_yes/clicked.rb:14:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_yes/clicked.rb-15-          new(
app/models/analytics/event/coverage_indication_yes/clicked.rb:16:            care_case_id: care_case.id,
app/models/analytics/event/coverage_indication_yes/clicked.rb:17:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_yes/clicked.rb-18-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_yes/clicked.rb-19-        end
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/square_payment_method_presenter.rb-30-
/Users/jschuss/Brightline/reef/app/presenters/assignments/square_payment_method_presenter.rb-31-    def clipboard_url
app/presenters/assignments/square_payment_method_presenter.rb:32:      new_members_care_case_payment_method_url(care_case_id: square_payment_method.square_customer.care_case_id)
/Users/jschuss/Brightline/reef/app/presenters/assignments/square_payment_method_presenter.rb-33-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/square_payment_method_presenter.rb-34-
--
app/components/members/care_documents/therapy_care_plan.rb-9-      delegate :document_data, to: :therapy_plan_document
/Users/jschuss/Brightline/reef/app/components/members/care_documents/therapy_care_plan.rb-10-
app/components/members/care_documents/therapy_care_plan.rb:11:      def initialize(therapy_plan_document:, care_case:, mobile_app_web_view: false, turbo_native_android: false)
/Users/jschuss/Brightline/reef/app/components/members/care_documents/therapy_care_plan.rb-12-        @therapy_plan_document = therapy_plan_document
/Users/jschuss/Brightline/reef/app/components/members/care_documents/therapy_care_plan.rb-13-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_connect_content_presenter.rb-18-
app/presenters/assignments/assigned_connect_content_presenter.rb-19-    def destroy_link(css_classes: "prism-button-danger mb-2")
app/presenters/assignments/assigned_connect_content_presenter.rb:20:      link_to "Remove", care_case_assigned_connect_content_path(id: assigned_content.id, care_case_id: assigned_content.care_case_id), data: {confirm: "Are you sure?", controller: "refreshable", "refreshable-target": "form"}, method: :delete, remote: true, class: css_classes
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_connect_content_presenter.rb-21-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_connect_content_presenter.rb-22-
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_connect_content_presenter.rb-23-    def clipboard_url
app/presenters/assignments/assigned_connect_content_presenter.rb:24:      members_content_url({id: assigned_content.content.id, care_case_id: assigned_content.care_case_id})
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_connect_content_presenter.rb-25-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/assigned_connect_content_presenter.rb-26-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_navigation/resets_controller.rb-4-  class ResetsController < BaseController
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_navigation/resets_controller.rb-5-    def create
app/controllers/staffers/care_navigation/resets_controller.rb:6:      @reset = CareNavigation::Reset.new(care_case_id: care_case_id, current_staffer: current_staffer, allow_self_schedule: params[:allow_self_schedule])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_navigation/resets_controller.rb-7-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_navigation/resets_controller.rb-8-      if @reset.enact
--
app/components/staffers/calendaring/one_off_scheduling_reminder_component.rb-8-      renders_one :body
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/one_off_scheduling_reminder_component.rb-9-
app/components/staffers/calendaring/one_off_scheduling_reminder_component.rb:10:      def initialize(care_case:, title: "")
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/one_off_scheduling_reminder_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/calendaring/one_off_scheduling_reminder_component.rb-12-        @title = title
--
app/components/members/care_documents/discharge_summary.rb-53-        members_account_chat_path(account, support_chat_channel, ahoy: {
app/components/members/care_documents/discharge_summary.rb-54-          _event_name: "DischargeSummaryMemberSupportChat:Clicked",
app/components/members/care_documents/discharge_summary.rb:55:          care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/components/members/care_documents/discharge_summary.rb-56-        })
/Users/jschuss/Brightline/reef/app/components/members/care_documents/discharge_summary.rb-57-      end
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/questionnaire_submission_presenter.rb-40-
/Users/jschuss/Brightline/reef/app/presenters/assignments/questionnaire_submission_presenter.rb-41-    def path_params
app/presenters/assignments/questionnaire_submission_presenter.rb:42:      {id: questionnaire_submission.id, care_case_id: questionnaire_submission.care_case_id}
/Users/jschuss/Brightline/reef/app/presenters/assignments/questionnaire_submission_presenter.rb-43-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/questionnaire_submission_presenter.rb-44-
--
app/components/members/intake/safety_question_response_component.rb-17-          ahoy_metadata: {
app/components/members/intake/safety_question_response_component.rb-18-            answer: answer,
app/components/members/intake/safety_question_response_component.rb:19:            care_case_id: care_case.id,
app/components/members/intake/safety_question_response_component.rb-20-            program: care_case.program
/Users/jschuss/Brightline/reef/app/components/members/intake/safety_question_response_component.rb-21-          }.to_json,
--
app/controllers/staffers/care_cases_controller.rb-137-    turbo_stream.replace(:care_case_sidebar,
app/controllers/staffers/care_cases_controller.rb-138-      Staffers::CareCases::SidebarComponent.new(
app/controllers/staffers/care_cases_controller.rb:139:        care_case: current_care_case.reload,
app/controllers/staffers/care_cases_controller.rb-140-        current_staffer: current_staffer,
app/controllers/staffers/care_cases_controller.rb-141-        coverage_context: CoverageContext.care_case_sidebar(current_care_case)
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/payment_form_assignment_presenter.rb-52-
/Users/jschuss/Brightline/reef/app/presenters/assignments/payment_form_assignment_presenter.rb-53-    def form_path_params
app/presenters/assignments/payment_form_assignment_presenter.rb:54:      {id: payment_form_assignment.id, care_case_id: payment_form_assignment.care_case_id}
/Users/jschuss/Brightline/reef/app/presenters/assignments/payment_form_assignment_presenter.rb-55-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/payment_form_assignment_presenter.rb-56-
--
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-4-  module Intake
app/components/members/intake/appointment_summary_component.rb-5-    class AppointmentSummaryComponent < ViewComponent::Base
app/components/members/intake/appointment_summary_component.rb:6:      def initialize(care_case:, appointment_reservation:, timezone:, promotion: nil)
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-8-        @appointment_reservation = appointment_reservation
--
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-18-
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-19-      def price
app/components/members/intake/appointment_summary_component.rb:20:        @_price ||= MemberCostShare::PriceRequest.for_care_case_in_program(care_case: care_case, appointment_type: appointment_reservation.appointment_type, program: program, promotion: promotion)
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-21-      end
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary_component.rb-22-
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_insurance_provider/viewed.rb-13-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_insurance_provider/viewed.rb-14-
app/models/analytics/event/onboarding_insurance_provider/viewed.rb:15:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_insurance_provider/viewed.rb-16-          new(
app/models/analytics/event/onboarding_insurance_provider/viewed.rb:17:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_insurance_provider/viewed.rb:18:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_insurance_provider/viewed.rb-19-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_insurance_provider/viewed.rb-20-        end
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/assessment_assignment_presenter.rb-40-
/Users/jschuss/Brightline/reef/app/presenters/assignments/assessment_assignment_presenter.rb-41-    def path_params
app/presenters/assignments/assessment_assignment_presenter.rb:42:      {id: assessment_assignment.id, care_case_id: assessment_assignment.care_case_id}
/Users/jschuss/Brightline/reef/app/presenters/assignments/assessment_assignment_presenter.rb-43-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/assessment_assignment_presenter.rb-44-
--
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/appointment_details_component.rb-5-    module AppointmentSummary
app/components/members/intake/appointment_summary/appointment_details_component.rb-6-      class AppointmentDetailsComponent < ViewComponent::Base
app/components/members/intake/appointment_summary/appointment_details_component.rb:7:        def initialize(care_case:, appointment_reservation:, timezone:)
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/appointment_details_component.rb-8-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/appointment_details_component.rb-9-          @appointment_reservation = appointment_reservation
--
app/components/staffers/task_management/table/condensed_reminder_table_row.rb-13-        attr_reader :care_case, :staffer, :reminder, :account, :show_care_case_link, :show_clinic
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/table/condensed_reminder_table_row.rb-14-
app/components/staffers/task_management/table/condensed_reminder_table_row.rb:15:        def initialize(reminder:, staffer:, account:, care_case: nil, show_care_case_link: nil, show_clinic: false)
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/table/condensed_reminder_table_row.rb-16-          @account = account
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/table/condensed_reminder_table_row.rb-17-          @reminder = reminder
--
/Users/jschuss/Brightline/reef/app/components/members/appointments/cancelation_form_modal.rb-30-        members_care_case_appointment_cancelations_path(
app/components/members/appointments/cancelation_form_modal.rb-31-          appointment_id: appointment.id,
app/components/members/appointments/cancelation_form_modal.rb:32:          care_case_id: appointment.care_case_id
/Users/jschuss/Brightline/reef/app/components/members/appointments/cancelation_form_modal.rb-33-        )
/Users/jschuss/Brightline/reef/app/components/members/appointments/cancelation_form_modal.rb-34-      end
--
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/preview_component.rb-4-  module DigitalContent
app/components/staffers/digital_content/preview_component.rb-5-    class PreviewComponent < ViewComponent::Base
app/components/staffers/digital_content/preview_component.rb:6:      def initialize(care_case:, content_id:)
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/preview_component.rb-7-        @care_case = care_case
app/components/staffers/digital_content/preview_component.rb-8-        @digital_content = DigitalContents::DigitalContent.find(content_id)
--
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/preview_component.rb-10-
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/preview_component.rb-11-      def source
app/components/staffers/digital_content/preview_component.rb:12:        digital_content_preview_path(@digital_content, care_case_id: @care_case.id)
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/preview_component.rb-13-      end
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/preview_component.rb-14-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/accounts/members/outreaches_controller.rb-15-
app/controllers/staffers/accounts/members/outreaches_controller.rb-16-        user_messages = Iterable::Api::Single.user_messages(email: current_member.email)
app/controllers/staffers/accounts/members/outreaches_controller.rb:17:        provider_outreaches = Iterable::WebhookRecord.where(care_case_id: current_account.care_cases)
/Users/jschuss/Brightline/reef/app/controllers/staffers/accounts/members/outreaches_controller.rb-18-
app/controllers/staffers/accounts/members/outreaches_controller.rb-19-        @outreaches = Array.wrap(user_messages).select(&:itself).filter_map do |message|
--
/Users/jschuss/Brightline/reef/app/presenters/assignments/signature_request_presenter.rb-47-
/Users/jschuss/Brightline/reef/app/presenters/assignments/signature_request_presenter.rb-48-    def path_params
app/presenters/assignments/signature_request_presenter.rb:49:      {id: signature_request.id, care_case_id: signature_request.care_case_id}
/Users/jschuss/Brightline/reef/app/presenters/assignments/signature_request_presenter.rb-50-    end
/Users/jschuss/Brightline/reef/app/presenters/assignments/signature_request_presenter.rb-51-
--
app/components/members/appointments/buttons_component.rb-88-        render(Prism::Button.new(
app/components/members/appointments/buttons_component.rb-89-          size: :sm,
app/components/members/appointments/buttons_component.rb:90:          url: members_care_case_appointment_meeting_path(care_case_id: appointment.care_case_id, appointment_id: appointment.id),
app/components/members/appointments/buttons_component.rb-91-          variation: :primary,
app/components/members/appointments/buttons_component.rb-92-          classes: "py-3"
--
app/models/analytics/event/onboarding_safety_check_next/clicked.rb-15-        attribute :clicked_none_of_the_above, DryTypes::Bool.meta(description: "Boolean specifying whether or not the member clicked 'None of the above' on the safety screen")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check_next/clicked.rb-16-
app/models/analytics/event/onboarding_safety_check_next/clicked.rb:17:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check_next/clicked.rb-18-          new(
app/models/analytics/event/onboarding_safety_check_next/clicked.rb:19:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_safety_check_next/clicked.rb:20:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check_next/clicked.rb-21-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check_next/clicked.rb-22-          )
--
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-5-    module AppointmentSummary
app/components/members/intake/appointment_summary/card_component.rb-6-      class CardComponent < ViewComponent::Base
app/components/members/intake/appointment_summary/card_component.rb:7:        def initialize(care_case:, appointment_reservation:, timezone:, promotion: nil, start_expanded: false)
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-8-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-9-          @appointment_reservation = appointment_reservation
--
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-20-
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-21-        def price
app/components/members/intake/appointment_summary/card_component.rb:22:          @_price ||= MemberCostShare::PriceRequest.for_care_case_in_program(care_case: care_case, appointment_type: appointment_reservation.appointment_type, program: program, promotion: promotion)
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-23-        end
/Users/jschuss/Brightline/reef/app/components/members/intake/appointment_summary/card_component.rb-24-
--
app/components/staffers/task_management/reminder_form_component.rb-7-      delegate :account, :new_record?, to: :reminder
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/reminder_form_component.rb-8-
app/components/staffers/task_management/reminder_form_component.rb:9:      def initialize(reminder:, staffer:, care_case: nil, member: nil, form_url: nil, style: {})
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/reminder_form_component.rb-10-        @reminder = reminder
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/reminder_form_component.rb-11-        @staffer = staffer
--
app/components/staffers/task_management/reminders_list_component.rb-8-      attr_reader :account, :reminders, :care_case, :staffer
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/reminders_list_component.rb-9-
app/components/staffers/task_management/reminders_list_component.rb:10:      def initialize(account:, reminders:, staffer: nil, care_case: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/reminders_list_component.rb-11-        @account = account
/Users/jschuss/Brightline/reef/app/components/staffers/task_management/reminders_list_component.rb-12-        @reminders = reminders || []
--
app/components/members/appointments/timeslots/date_picker_component.rb-7-        attr_reader :care_case_id, :selected_date, :min_date, :max_date, :date_picker_data_attrs
/Users/jschuss/Brightline/reef/app/components/members/appointments/timeslots/date_picker_component.rb-8-
app/components/members/appointments/timeslots/date_picker_component.rb:9:        def initialize(care_case_id: nil, selected_date: nil, min_date: nil, max_date: nil, date_picker_data_attrs: {})
app/components/members/appointments/timeslots/date_picker_component.rb:10:          @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/components/members/appointments/timeslots/date_picker_component.rb-11-          @selected_date = selected_date || Time.zone.today
/Users/jschuss/Brightline/reef/app/components/members/appointments/timeslots/date_picker_component.rb-12-          @min_date = min_date
--
app/components/staffers/digital_content/cards/swiper_content_card.rb-10-        delegate :styles, :current_account, to: :helpers
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-11-
app/components/staffers/digital_content/cards/swiper_content_card.rb:12:        def initialize(digital_content:, staffer:, variation: :default, topic: nil, care_case_id: nil, open_in_new_tab: false, **kargs)
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-13-          @digital_content = digital_content
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-14-          @content = digital_content.content
--
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-16-          @topic = topic
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-17-          @variation = variation
app/components/staffers/digital_content/cards/swiper_content_card.rb:18:          @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-19-          @open_in_new_tab = open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-20-          @attributes = kargs
--
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-50-          digital_content_path(
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-51-            @digital_content,
app/components/staffers/digital_content/cards/swiper_content_card.rb:52:            params: {care_case_id: care_case_id || params[:care_case_id]}
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-53-          )
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/cards/swiper_content_card.rb-54-        end
--
app/components/staffers/assignments/exercise_assignment_form_component.rb-6-      attr_reader :care_case, :exercises, :submission_path, :turbo, :type, :style, :open_assign_view_in_new_tab, :return_path
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/exercise_assignment_form_component.rb-7-
app/components/staffers/assignments/exercise_assignment_form_component.rb:8:      def initialize(care_case:, submission_path:, return_path: nil, exercises: Exercise.digital_exercises, open_assign_view_in_new_tab: false, turbo: false, type: "exercise", style: {})
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/exercise_assignment_form_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/exercise_assignment_form_component.rb-10-        @exercises = exercises
--
app/components/staffers/digital_content/assign_exercise_form_component.rb-9-      alias_method :show_care_cases?, :show_care_cases
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/assign_exercise_form_component.rb-10-
app/components/staffers/digital_content/assign_exercise_form_component.rb:11:      def initialize(staffer:, digital_content:, care_case_id: nil, member_id: nil, redirect_path: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/assign_exercise_form_component.rb-12-        @staffer = staffer
app/components/staffers/digital_content/assign_exercise_form_component.rb:13:        @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/assign_exercise_form_component.rb-14-        @member_id = member_id
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/assign_exercise_form_component.rb-15-        @digital_content = digital_content
--
app/components/members/intake/provider_choice/week_range_component.rb-27-            "IntakeProviderChoiceBookingWeek:Viewed",
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/week_range_component.rb-28-            {
app/components/members/intake/provider_choice/week_range_component.rb:29:              care_case_id: care_case_id,
app/components/members/intake/provider_choice/week_range_component.rb-30-              staffer_id: selected_staffer.id,
app/components/members/intake/provider_choice/week_range_component.rb-31-              program_id: helpers.program.id,
--
app/components/members/intake/provider_choice/week_range_component.rb-72-            date_viewed: day,
app/components/members/intake/provider_choice/week_range_component.rb-73-            times_viewed: times,
app/components/members/intake/provider_choice/week_range_component.rb:74:            care_case_id: care_case_id,
app/components/members/intake/provider_choice/week_range_component.rb-75-            staffer_id: selected_staffer.id,
app/components/members/intake/provider_choice/week_range_component.rb-76-            program_id: helpers.program.id,
--
app/components/members/appointments/timeslots/appointment_scheduling_request_component.rb-7-        attr_reader :appointment_scheduling_request, :appointment_slots, :date, :care_case, :member
/Users/jschuss/Brightline/reef/app/components/members/appointments/timeslots/appointment_scheduling_request_component.rb-8-
app/components/members/appointments/timeslots/appointment_scheduling_request_component.rb:9:        def initialize(appointment_scheduling_request:, availability_data:, care_case:, member:, show_date_picker: false)
/Users/jschuss/Brightline/reef/app/components/members/appointments/timeslots/appointment_scheduling_request_component.rb-10-          @appointment_scheduling_request = appointment_scheduling_request
/Users/jschuss/Brightline/reef/app/components/members/appointments/timeslots/appointment_scheduling_request_component.rb-11-          @appointment_slots = availability_data.slots
--
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/favorites_carousel_component.rb-23-        digital_contents_staffer_saves_path(
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/favorites_carousel_component.rb-24-          staffer,
app/components/staffers/digital_content/favorites_carousel_component.rb:25:          params: {care_case_id: params[:care_case_id]}
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/favorites_carousel_component.rb-26-        )
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/favorites_carousel_component.rb-27-      end
--
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/has_assignable_members.rb-6-        @assignable_members ||= CareCaseMember
app/components/staffers/assignments/has_assignable_members.rb-7-          .for(care_case, members: care_case.members)
app/components/staffers/assignments/has_assignable_members.rb:8:          .filter { Rules::Member::Assignable.call(member: it, care_case:) }
app/components/staffers/assignments/has_assignable_members.rb-9-          .sort_by(&:full_name_with_roles)
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/has_assignable_members.rb-10-      end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/availability_date_picker/opened.rb-25-        ).optional
/Users/jschuss/Brightline/reef/app/models/analytics/event/availability_date_picker/opened.rb-26-
app/models/analytics/event/availability_date_picker/opened.rb:27:        def self.build(care_case_id: nil, date: nil, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/availability_date_picker/opened.rb-28-          # Check for unexpected attributes, ignoring common JS parameters
app/models/analytics/event/availability_date_picker/opened.rb-29-          check_unexpected_attributes([:care_case_id, :date], from_js: true, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/availability_date_picker/opened.rb-30-
app/models/analytics/event/availability_date_picker/opened.rb:31:          new(care_case_id: care_case_id, date: date)
/Users/jschuss/Brightline/reef/app/models/analytics/event/availability_date_picker/opened.rb-32-        end
/Users/jschuss/Brightline/reef/app/models/analytics/event/availability_date_picker/opened.rb-33-      end
--
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-13-      MAX_CARDS_PER_TOPIC = 12
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-14-
app/components/staffers/digital_content/topic_card_carousel_component.rb:15:      def initialize(topics:, digital_contents:, staffer:, variation: :default, care_case_id: nil, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-16-        @topics = topics
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-17-        @digital_contents = digital_contents
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-18-        @staffer = staffer
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-19-        @variation = VARIATIONS.fetch(variation)
app/components/staffers/digital_content/topic_card_carousel_component.rb:20:        @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-21-        @open_in_new_tab = open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/digital_content/topic_card_carousel_component.rb-22-      end
--
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_list_component.rb-68-
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_list_component.rb-69-        def derived_topics
app/components/members/intake/provider_choice/provider_list_component.rb:70:          @derived_topics ||= ::PatientInformation::DerivedTopics.new(care_case: helpers.current_care_case)
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_list_component.rb-71-        end
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_list_component.rb-72-      end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_no/clicked.rb-12-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_no/clicked.rb-13-
app/models/analytics/event/coverage_indication_no/clicked.rb:14:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_no/clicked.rb-15-          new(
app/models/analytics/event/coverage_indication_no/clicked.rb:16:            care_case_id: care_case.id,
app/models/analytics/event/coverage_indication_no/clicked.rb:17:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_no/clicked.rb-18-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication_no/clicked.rb-19-        end
--
app/components/staffers/assignments/overview_component.rb-6-      attr_reader :care_case, :assignments_data, :staffer, :return_path
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-7-
app/components/staffers/assignments/overview_component.rb:8:      def initialize(care_case:, assignments_data:, staffer:, return_path:)
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-10-        @assignments_data = assignments_data
--
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-68-
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-69-      def clinic_patient?
app/components/staffers/assignments/overview_component.rb:70:        @_clinic_patient ||= CareModel.new(care_case:).clinic?
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-71-      end
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/overview_component.rb-72-
--
app/components/members/intake/provider_choice/times_component.rb-19-              date_viewed: selected_date,
app/components/members/intake/provider_choice/times_component.rb-20-              times_viewed: times_for_selected_staffer,
app/components/members/intake/provider_choice/times_component.rb:21:              care_case_id: care_case_id,
app/components/members/intake/provider_choice/times_component.rb-22-              staffer_id: selected_staffer.id,
app/components/members/intake/provider_choice/times_component.rb-23-              program_id: helpers.program.id,
--
app/components/staffers/assignments/connect_content_assignment_form_component.rb-8-      attr_reader :care_case, :connect_contents, :submission_path, :turbo, :return_path
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/connect_content_assignment_form_component.rb-9-
app/components/staffers/assignments/connect_content_assignment_form_component.rb:10:      def initialize(care_case:, submission_path:, return_path:, turbo: false)
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/connect_content_assignment_form_component.rb-11-        @care_case = care_case
app/components/staffers/assignments/connect_content_assignment_form_component.rb-12-        @connect_contents = Connect::Content.all.sort_by(&:name)
--
app/components/staffers/assignments/quick_assign_component.rb-8-      attr_reader :care_case, :staffer, :topic, :age_range_id, :kind, :open_in_new_tab
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/quick_assign_component.rb-9-
app/components/staffers/assignments/quick_assign_component.rb:10:      def initialize(care_case:, staffer:, topic: nil, age_range_id: nil, kind: nil, open_in_new_tab: false)
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/quick_assign_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/quick_assign_component.rb-12-        @staffer = staffer
--
/Users/jschuss/Brightline/reef/app/policies/appointment_policy.rb-37-    def scoped_records
app/policies/appointment_policy.rb-38-      scope.where(staffer:).or(
app/policies/appointment_policy.rb:39:        scope.where(care_case: (
app/policies/appointment_policy.rb-40-          staffer.coach? ? CareCase.accessible_to_coach(staffer.id) : CareCase.cared_for_by(staffer.id)
/Users/jschuss/Brightline/reef/app/policies/appointment_policy.rb-41-        ))
--
app/components/members/invoices/superbill/modal_component.rb-8-        delegate :patient, to: :care_case
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/modal_component.rb-9-
app/components/members/invoices/superbill/modal_component.rb:10:        def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/modal_component.rb-11-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/modal_component.rb-12-          @member = member
--
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/modal_component.rb-19-        def form_data
app/components/members/invoices/superbill/modal_component.rb-20-          ::Invoice::Document::Adapter.new(
app/components/members/invoices/superbill/modal_component.rb:21:            care_case_id: care_case.id,
app/components/members/invoices/superbill/modal_component.rb-22-            start_date: nil,
app/components/members/invoices/superbill/modal_component.rb-23-            end_date: nil
--
/Users/jschuss/Brightline/reef/app/policies/square_payment_policy.rb-21-    def scoped_records
/Users/jschuss/Brightline/reef/app/policies/square_payment_policy.rb-22-      if staffer.coach?
app/policies/square_payment_policy.rb:23:        scope.joins(square_customer: :care_case).where(square_customer: {care_case: CareCase.accessible_to_coach(staffer)})
/Users/jschuss/Brightline/reef/app/policies/square_payment_policy.rb-24-      else
app/policies/square_payment_policy.rb-25-        scope.joins(square_customer: :care_case).where(square_customer: {care_cases: {id: ClinicalRole.where(staffer_id: staffer.id).select(:care_case_id)}})
--
app/components/members/intake/provider_choice/language_interpretation_modal_component.rb-7-        attr_reader :care_case, :selected_staffer, :providers
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/language_interpretation_modal_component.rb-8-
app/components/members/intake/provider_choice/language_interpretation_modal_component.rb:9:        def initialize(care_case:, selected_staffer:, providers:)
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/language_interpretation_modal_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/language_interpretation_modal_component.rb-11-          @selected_staffer = selected_staffer
--
app/components/staffers/assignments/assignment_card_component.rb-6-      attr_reader :care_case, :assignments, :staffer, :return_path
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/assignment_card_component.rb-7-
app/components/staffers/assignments/assignment_card_component.rb:8:      def initialize(care_case:, assignments:, staffer:, return_path:)
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/assignment_card_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/assignments/assignment_card_component.rb-10-        @assignments = assignments
--
app/components/members/invoices/superbill/form_component.rb-5-        attr_reader :care_case, :form_data, :form_attributes
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-6-
app/components/members/invoices/superbill/form_component.rb:7:        def initialize(care_case:, form_data:, form_attributes: {})
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-8-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-9-          @form_data = form_data
--
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-12-
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-13-        def form_url
app/components/members/invoices/superbill/form_component.rb:14:          members_care_case_invoices_superbills_path(care_case_id: care_case, format: :pdf)
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-15-        end
/Users/jschuss/Brightline/reef/app/components/members/invoices/superbill/form_component.rb-16-
--
app/components/staffers/care_cases/care_case_tabs_component.rb-8-      attr_reader :care_case, :current_staffer, :tab
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-9-
app/components/staffers/care_cases/care_case_tabs_component.rb:10:      def initialize(care_case:, current_staffer:, tab: "overview")
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-12-        @current_staffer = current_staffer
--
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-15-
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-16-      def tab_items
app/components/staffers/care_cases/care_case_tabs_component.rb:17:        assignments_tab_name = sanitize("Assignments#{' <span class="badge badge-warning">Incomplete</span>' if Rules::CareCase::DuePaperwork.call(care_case: care_case)}")
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-18-
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_case_tabs_component.rb-19-        [
--
app/components/staffers/care_cases/status_badges_component.rb-6-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-7-
app/components/staffers/care_cases/status_badges_component.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-10-      end
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-11-
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-12-      def badges
app/components/staffers/care_cases/status_badges_component.rb:13:        CareCase::DerivedExtraCapabilities.new(care_case: care_case).all.map(&:id)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-14-      end
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/status_badges_component.rb-15-
--
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_display_component.rb-77-
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_display_component.rb-78-        def member_experience_configuration
app/components/members/intake/provider_choice/provider_display_component.rb:79:          @member_experience_configuration ||= MemberExperience::Configuration.new(account: care_case.account, care_case: care_case)
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_display_component.rb-80-        end
/Users/jschuss/Brightline/reef/app/components/members/intake/provider_choice/provider_display_component.rb-81-      end
--
app/components/staffers/care_cases/medical_history_request/modal_component.rb-10-        delegate :patient, to: :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/modal_component.rb-11-
app/components/staffers/care_cases/medical_history_request/modal_component.rb:12:        def initialize(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/modal_component.rb-13-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/modal_component.rb-14-          @staffer = staffer
--
app/components/staffers/care_cases/scheduling_preferences_card.rb-8-      attr_reader :care_case, :clinical_recommendation
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/scheduling_preferences_card.rb-9-
app/components/staffers/care_cases/scheduling_preferences_card.rb:10:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/scheduling_preferences_card.rb-11-        @care_case = care_case
app/components/staffers/care_cases/scheduling_preferences_card.rb:12:        @clinical_recommendation = CareCase::OngoingCareRecommendation.requested_for(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/scheduling_preferences_card.rb-13-      end
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/scheduling_preferences_card.rb-14-
--
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-85-        def analytics_data_for_date(date, slot_times, staffer_ids)
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-86-          {
app/components/members/intake/care_guide/week_range_component.rb:87:            care_case_id: care_case.id,
app/components/members/intake/care_guide/week_range_component.rb:88:            proxy_care_case_id: care_case.proxy_id,
app/components/members/intake/care_guide/week_range_component.rb-89-            date_viewed: date,
app/components/members/intake/care_guide/week_range_component.rb-90-            appointment_type_id: appointment_type.id,
--
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-97-        def analytics_data_for_week
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-98-          {
app/components/members/intake/care_guide/week_range_component.rb:99:            care_case: care_case,
app/components/members/intake/care_guide/week_range_component.rb-100-            monday_of_week: range_key_date,
app/components/members/intake/care_guide/week_range_component.rb-101-            number_of_timeslots: all_timeslots_viewed.count,
--
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-147-        def analytics_metadata
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-148-          {
app/components/members/intake/care_guide/week_range_component.rb:149:            care_case_id: care_case.id,
app/components/members/intake/care_guide/week_range_component.rb:150:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-151-          }
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/week_range_component.rb-152-        end
--
app/components/staffers/care_cases/medical_history_request/begin_download_component.rb-7-        attr_reader :care_case, :form_data
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/begin_download_component.rb-8-
app/components/staffers/care_cases/medical_history_request/begin_download_component.rb:9:        def initialize(care_case:, form_data:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/begin_download_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/begin_download_component.rb-11-          @form_data = form_data
--
app/components/staffers/care_cases/sidebar/service_line_enrollments_component.rb-9-        attr_reader :care_case, :staffer
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/sidebar/service_line_enrollments_component.rb-10-
app/components/staffers/care_cases/sidebar/service_line_enrollments_component.rb:11:        def initialize(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/sidebar/service_line_enrollments_component.rb-12-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/sidebar/service_line_enrollments_component.rb-13-          @staffer = staffer
--
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/display_component.rb-68-        def analytics_metadata
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/display_component.rb-69-          {
app/components/members/intake/care_guide/display_component.rb:70:            care_case_id: care_case.id,
app/components/members/intake/care_guide/display_component.rb:71:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/display_component.rb-72-          }
/Users/jschuss/Brightline/reef/app/components/members/intake/care_guide/display_component.rb-73-        end
--
app/components/staffers/care_cases/medical_history_request/form_component.rb-7-        attr_reader :care_case, :form_data, :form_attributes
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/form_component.rb-8-
app/components/staffers/care_cases/medical_history_request/form_component.rb:9:        def initialize(care_case:, form_data:, form_attributes: {})
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/form_component.rb-10-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/medical_history_request/form_component.rb-11-          @form_data = form_data
--
app/components/staffers/care_cases/sidebar_component.rb-29-      delegate :coverage_details, to: :coverage_context
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/sidebar_component.rb-30-
app/components/staffers/care_cases/sidebar_component.rb:31:      def initialize(care_case:, current_staffer:, coverage_context:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/sidebar_component.rb-32-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/sidebar_component.rb-33-        @current_staffer = current_staffer
--
app/controllers/staffers/digital_contents_controller.rb-22-      content_id: @digital_content.id,
app/controllers/staffers/digital_contents_controller.rb-23-      topic_ids: @content_data.topic_ids,
app/controllers/staffers/digital_contents_controller.rb:24:      care_case_id: params[:care_case_id]
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents_controller.rb-25-    })
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents_controller.rb-26-  end
--
app/components/staffers/critical_note_badge.rb-7-    attr_reader :account, :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/critical_note_badge.rb-8-
app/components/staffers/critical_note_badge.rb:9:    def initialize(account: nil, care_case: nil)
/Users/jschuss/Brightline/reef/app/components/staffers/critical_note_badge.rb-10-      @account = account
/Users/jschuss/Brightline/reef/app/components/staffers/critical_note_badge.rb-11-      @care_case = care_case
--
app/components/staffers/care_cases/chats/tabs_component.rb-8-      attr_reader :care_case, :tab
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/chats/tabs_component.rb-9-
app/components/staffers/care_cases/chats/tabs_component.rb:10:      def initialize(care_case:, tab:, channels:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/chats/tabs_component.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/chats/tabs_component.rb-12-        @tab = tab
--
/Users/jschuss/Brightline/reef/app/policies/base_assignable_policy.rb-23-    def scoped_records
/Users/jschuss/Brightline/reef/app/policies/base_assignable_policy.rb-24-      if staffer.coach?
app/policies/base_assignable_policy.rb:25:        scope.joins(:care_case).where(care_case: CareCase.accessible_to_coach(staffer))
/Users/jschuss/Brightline/reef/app/policies/base_assignable_policy.rb-26-      else
app/policies/base_assignable_policy.rb:27:        scope.joins(:care_case).where(care_case: CareCase.cared_for_by(staffer))
/Users/jschuss/Brightline/reef/app/policies/base_assignable_policy.rb-28-      end
/Users/jschuss/Brightline/reef/app/policies/base_assignable_policy.rb-29-    end
--
app/controllers/staffers/care_case_medical_history_request_controller.rb-13-            :medical_history_request_modal_content,
app/controllers/staffers/care_case_medical_history_request_controller.rb-14-            Staffers::CareCases::MedicalHistoryRequest::BeginDownloadComponent.new(
app/controllers/staffers/care_case_medical_history_request_controller.rb:15:              care_case: current_care_case,
app/controllers/staffers/care_case_medical_history_request_controller.rb-16-              form_data: document_data
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_medical_history_request_controller.rb-17-            ).render_in(view_context)
--
/Users/jschuss/Brightline/reef/app/policies/care_journey/activity_record_policy.rb-26-      def scoped_records
/Users/jschuss/Brightline/reef/app/policies/care_journey/activity_record_policy.rb-27-        if staffer.coach?
app/policies/care_journey/activity_record_policy.rb:28:          scope.joins(:care_case).where(care_case: CareCase.accessible_to_coach(staffer))
/Users/jschuss/Brightline/reef/app/policies/care_journey/activity_record_policy.rb-29-        else
app/policies/care_journey/activity_record_policy.rb:30:          scope.joins(:care_case).where(care_case: {id: ClinicalRole.where(staffer_id: staffer.id).select(:care_case_id)})
/Users/jschuss/Brightline/reef/app/policies/care_journey/activity_record_policy.rb-31-        end
/Users/jschuss/Brightline/reef/app/policies/care_journey/activity_record_policy.rb-32-      end
--
/Users/jschuss/Brightline/reef/app/components/staffers/wait_list/entry_modal.rb-10-      def root_appointment_types_list
app/components/staffers/wait_list/entry_modal.rb-11-        ::WaitList::Api.root_appointment_types_for(
app/components/staffers/wait_list/entry_modal.rb:12:          CareModel.new(care_case: @entry.care_case).id
/Users/jschuss/Brightline/reef/app/components/staffers/wait_list/entry_modal.rb-13-        )
/Users/jschuss/Brightline/reef/app/components/staffers/wait_list/entry_modal.rb-14-      end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_role_members_controller.rb-13-    authorize CaseRole
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_role_members_controller.rb-14-
app/controllers/staffers/care_case_role_members_controller.rb:15:    @member_case_role = NewMemberCaseRole.new(case_role_params.merge(care_case: current_care_case))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_role_members_controller.rb-16-
app/controllers/staffers/care_case_role_members_controller.rb-17-    CareCaseRoles::AssignNewMemberToCareCase.call(new_member_case_role: @member_case_role, staffer: current_staffer)
--
app/controllers/staffers/care_case_role_members_controller.rb-25-    case_role = CaseRole.find params[:id]
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_role_members_controller.rb-26-    member = case_role.member
app/controllers/staffers/care_case_role_members_controller.rb:27:    request = CareCaseRoles::RemoveMemberFromCareCase.new(care_case: current_care_case, member: member, case_role: case_role).call
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_role_members_controller.rb-28-    flash = if request.failed
app/controllers/staffers/care_case_role_members_controller.rb-29-      {error: "Failed to remove case role. #{request.errors.join(", ")}"}
--
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-14-          helpers.ahoy_track(
app/components/members/signup_progress/nux/confirmation_screen_component.rb-15-            "#{flow_type.camelize}PostEligibilityCheck:Viewed",
app/components/members/signup_progress/nux/confirmation_screen_component.rb:16:            care_case_id: care_case.id,
app/components/members/signup_progress/nux/confirmation_screen_component.rb-17-            screen_type: screen_type
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-18-          )
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-19-        end
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-20-
app/components/members/signup_progress/nux/confirmation_screen_component.rb:21:        def initialize(care_case:, exit_route:, flow_type:, matching_info: nil)
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-22-          @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-23-          @exit_route = exit_route
--
app/components/members/signup_progress/nux/confirmation_screen_component.rb-50-            ahoy_event: "#{flow_type.camelize}PostEligibilityCheckNext:Clicked",
app/components/members/signup_progress/nux/confirmation_screen_component.rb-51-            ahoy_metadata: {
app/components/members/signup_progress/nux/confirmation_screen_component.rb:52:              care_case_id: care_case.id,
app/components/members/signup_progress/nux/confirmation_screen_component.rb-53-              screen_type: screen_type
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-54-            }.to_json
--
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-78-
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-79-        def confirmation_screen_i18n_scope
app/components/members/signup_progress/nux/confirmation_screen_component.rb:80:          MemberExperience::Configuration.new(account: care_case.account, care_case: care_case).confirmation_screen_i18n_scope
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-81-        end
/Users/jschuss/Brightline/reef/app/components/members/signup_progress/nux/confirmation_screen_component.rb-82-      end
--
app/models/analytics/event/account_benefit_coverage_indication/viewed.rb-11-        attribute :care_case_id, DryTypes::Coercible::String.meta(description: "description goes here")
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication/viewed.rb-12-
app/models/analytics/event/account_benefit_coverage_indication/viewed.rb:13:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication/viewed.rb-14-          new(
app/models/analytics/event/account_benefit_coverage_indication/viewed.rb:15:            care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication/viewed.rb-16-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication/viewed.rb-17-        end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/dev_tools/duplicate_care_cases_controller.rb-15-      if @duplicate_care_case.delete
app/controllers/staffers/dev_tools/duplicate_care_cases_controller.rb-16-        flash[:notice] = "Duplicate Care Case and Associations Deleted"
app/controllers/staffers/dev_tools/duplicate_care_cases_controller.rb:17:        redirect_to new_dev_tools_duplicate_care_case_path(care_case_id: @duplicate_care_case.care_case_id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/dev_tools/duplicate_care_cases_controller.rb-18-      else
app/controllers/staffers/dev_tools/duplicate_care_cases_controller.rb-19-        flash.now[:error] = "Error: Cannot delete care case. See errors below."
--
app/models/analytics/event/onboarding_benefit_providers/viewed.rb-13-        care_case_id_attributes optional: true
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_benefit_providers/viewed.rb-14-
app/models/analytics/event/onboarding_benefit_providers/viewed.rb:15:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_benefit_providers/viewed.rb-16-          new(
app/models/analytics/event/onboarding_benefit_providers/viewed.rb:17:            care_case_id: care_case&.id,
app/models/analytics/event/onboarding_benefit_providers/viewed.rb:18:            proxy_care_case_id: care_case&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_benefit_providers/viewed.rb-19-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_benefit_providers/viewed.rb-20-        end
--
/Users/jschuss/Brightline/reef/app/components/members/logo_component.rb-50-
/Users/jschuss/Brightline/reef/app/components/members/logo_component.rb-51-    def logo
app/components/members/logo_component.rb:52:      @logo ||= MemberExperience::Configuration.new(account: account, referrer_path: referrer_path, care_case: care_case, is_visitor_testing: helpers.visitor_testing?).logo
/Users/jschuss/Brightline/reef/app/components/members/logo_component.rb-53-    end
/Users/jschuss/Brightline/reef/app/components/members/logo_component.rb-54-
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb-11-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb-12-
app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb:13:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb-14-          new(
app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb:15:            care_case_id: care_case.id,
app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb:16:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb-17-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_care_guide_chat/clicked.rb-18-        end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/dev_tools/california_coverages_controller.rb-14-      if @california_coverage.enact
app/controllers/staffers/dev_tools/california_coverages_controller.rb-15-        flash[:notice] = "California coverage created."
app/controllers/staffers/dev_tools/california_coverages_controller.rb:16:        redirect_to new_dev_tools_california_coverage_path(care_case_id: @california_coverage.care_case_id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/dev_tools/california_coverages_controller.rb-17-      else
app/controllers/staffers/dev_tools/california_coverages_controller.rb-18-        flash.now[:error] = "Error: issue adding California coverage"
--
app/components/staffers/care_cases/booking_modal_component.rb-4-      attr_reader :care_case, :datetime, :root_appointment_type, :staffer_appointment_type_pairs
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/booking_modal_component.rb-5-
app/components/staffers/care_cases/booking_modal_component.rb:6:      def initialize(care_case:, root_appointment_type:, datetime:, staffer_appointment_type_pairs:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/booking_modal_component.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/booking_modal_component.rb-8-        @root_appointment_type = root_appointment_type
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/dev_tools/care_guide_referrals_controller.rb-18-      if @care_guide_referral.enact
app/controllers/staffers/dev_tools/care_guide_referrals_controller.rb-19-        flash[:notice] = "Care Case referred to Care Guide."
app/controllers/staffers/dev_tools/care_guide_referrals_controller.rb:20:        redirect_to new_dev_tools_care_guide_referral_path(care_case_id: @care_guide_referral.care_case_id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/dev_tools/care_guide_referrals_controller.rb-21-      else
app/controllers/staffers/dev_tools/care_guide_referrals_controller.rb-22-        flash.now[:error] = "Error: care care was not referred to Care Guide."
--
app/models/analytics/event/behavioral_therapy_appointment/completed.rb-19-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/behavioral_therapy_appointment/completed.rb-20-
app/models/analytics/event/behavioral_therapy_appointment/completed.rb:21:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/behavioral_therapy_appointment/completed.rb-22-          new(
app/models/analytics/event/behavioral_therapy_appointment/completed.rb-23-            account_id: account.id,
app/models/analytics/event/behavioral_therapy_appointment/completed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/behavioral_therapy_appointment/completed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/behavioral_therapy_appointment/completed.rb-26-            appointment_id: appointment.id,
app/models/analytics/event/behavioral_therapy_appointment/completed.rb-27-            appointment_type_id: appointment.appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/policies/goal_policy.rb-25-    def scoped_records
/Users/jschuss/Brightline/reef/app/policies/goal_policy.rb-26-      if staffer.coach?
app/policies/goal_policy.rb:27:        scope.joins(:care_case).where(care_case: CareCase.accessible_to_coach(staffer))
/Users/jschuss/Brightline/reef/app/policies/goal_policy.rb-28-      else
app/policies/goal_policy.rb:29:        scope.joins(:care_case).where(care_case: {id: ClinicalRole.where(staffer_id: staffer.id).select(:care_case_id)})
/Users/jschuss/Brightline/reef/app/policies/goal_policy.rb-30-      end
/Users/jschuss/Brightline/reef/app/policies/goal_policy.rb-31-    end
--
app/components/staffers/care_cases/service_line_enrollment/edit_form_modal_component.rb-7-        attr_reader :enrollment, :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/service_line_enrollment/edit_form_modal_component.rb-8-
app/components/staffers/care_cases/service_line_enrollment/edit_form_modal_component.rb:9:        def initialize(care_case:, service_line_enrollment:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/service_line_enrollment/edit_form_modal_component.rb-10-          @enrollment = service_line_enrollment
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/service_line_enrollment/edit_form_modal_component.rb-11-          @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/policies/medical_history_policy.rb-21-    def scoped_records
/Users/jschuss/Brightline/reef/app/policies/medical_history_policy.rb-22-      if staffer.coach?
app/policies/medical_history_policy.rb:23:        scope.joins(:care_case).where(care_case: CareCase.accessible_to_coach(staffer))
/Users/jschuss/Brightline/reef/app/policies/medical_history_policy.rb-24-      else
app/policies/medical_history_policy.rb-25-        scope.joins(:care_case).where(care_cases: {id: ClinicalRole.where(staffer_id: staffer.id).select(:care_case_id)})
--
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb-20-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb-21-
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb:22:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb-23-          new(
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb-24-            account_id: account.id,
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb:25:            care_case_id: care_case.id,
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb:26:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb-27-            appointment_id: appointment.id,
app/models/analytics/event/behavioral_therapy_appointment/scheduled.rb-28-            appointment_type_id: appointment.appointment_type_id,
--
app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-38-        attr_reader :current_tab, :care_case, :additional_tab_params
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-39-
app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb:40:        def initialize(current_tab:, care_case:, additional_tab_params: {})
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-41-          @current_tab = current_tab
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-42-          @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-58-
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-59-        def care_case_tabs
app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb:60:          if CareModel.new(care_case:).clinic? && Flipper.enabled?(:mirah_assessments)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-61-            clinic_preappointment_tabs
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/preappointments/preappointments_tabs_component.rb-62-          else
--
app/controllers/staffers/reminder_claims_controller.rb-58-          reminder: reminder,
app/controllers/staffers/reminder_claims_controller.rb-59-          staffer: current_staffer,
app/controllers/staffers/reminder_claims_controller.rb:60:          care_case: reminder.care_case,
app/controllers/staffers/reminder_claims_controller.rb-61-          account: reminder.account,
app/controllers/staffers/reminder_claims_controller.rb-62-          show_care_case_link: account_referrer?,
--
app/components/staffers/care_cases/care_model_tag_component.rb-4-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-5-
app/components/staffers/care_cases/care_model_tag_component.rb:6:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-7-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-8-      end
--
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-29-
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-30-      def care_model
app/components/staffers/care_cases/care_model_tag_component.rb:31:        @care_model ||= CareModel.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-32-      end
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/care_model_tag_component.rb-33-    end
--
app/components/staffers/care_cases/edit_tags_modal.rb-6-      attr_reader :care_case, :tags
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/edit_tags_modal.rb-7-
app/components/staffers/care_cases/edit_tags_modal.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/staffers/care_cases/edit_tags_modal.rb-9-        @care_case = care_case
app/components/staffers/care_cases/edit_tags_modal.rb-10-        @tags = CareCaseTagging::Tag.all
--
/Users/jschuss/Brightline/reef/app/policies/calendaring/hold_policy.rb-24-      def scoped_records
app/policies/calendaring/hold_policy.rb-25-        scope.where(staffer:).or(
app/policies/calendaring/hold_policy.rb:26:          scope.where(care_case: (
app/policies/calendaring/hold_policy.rb-27-            staffer.coach? ? CareCase.accessible_to_coach(staffer.id) : CareCase.cared_for_by(staffer.id)
/Users/jschuss/Brightline/reef/app/policies/calendaring/hold_policy.rb-28-          ))
--
app/components/exercise/react_component.rb-7-    attr_reader :completed_exercise, :assigned_exercise, :care_case, :account, :is_preview
/Users/jschuss/Brightline/reef/app/components/exercise/react_component.rb-8-
app/components/exercise/react_component.rb:9:    def initialize(care_case:, assigned_exercise:, completed_exercise:, is_preview: false, mobile_app_web_view: false, turbo_native_android: false)
/Users/jschuss/Brightline/reef/app/components/exercise/react_component.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/exercise/react_component.rb-11-      @assigned_exercise = assigned_exercise
--
/Users/jschuss/Brightline/reef/app/components/exercise/react_component.rb-25-      helpers.react_component "Exercises", helpers.as_props(
app/components/exercise/react_component.rb-26-        {assigned_exercise_id: assigned_exercise.id,
app/components/exercise/react_component.rb:27:         care_case_id: care_case.id,
app/components/exercise/react_component.rb-28-         patient_first_name: care_case.patient_ensured_first_name,
app/components/exercise/react_component.rb-29-         patient_last_name: care_case.patient_ensured_last_name,
--
app/components/exercise/rails_component.rb-7-    attr_reader :completed_exercise, :care_case, :assigned_exercise, :is_preview
/Users/jschuss/Brightline/reef/app/components/exercise/rails_component.rb-8-
app/components/exercise/rails_component.rb:9:    def initialize(care_case:, assigned_exercise:, completed_exercise:, is_preview: false, mobile_app_web_view: false, turbo_native_android: false)
/Users/jschuss/Brightline/reef/app/components/exercise/rails_component.rb-10-      @completed_exercise = completed_exercise
/Users/jschuss/Brightline/reef/app/components/exercise/rails_component.rb-11-      @assigned_exercise = assigned_exercise
--
/Users/jschuss/Brightline/reef/app/policies/calendaring/appointment_slot/reservation_policy.rb-25-        def scoped_records
app/policies/calendaring/appointment_slot/reservation_policy.rb-26-          scope.where(staffer:).or(
app/policies/calendaring/appointment_slot/reservation_policy.rb:27:            scope.where(care_case: (
app/policies/calendaring/appointment_slot/reservation_policy.rb-28-              staffer.coach? ? CareCase.accessible_to_coach(staffer.id) : CareCase.cared_for_by(staffer.id)
/Users/jschuss/Brightline/reef/app/policies/calendaring/appointment_slot/reservation_policy.rb-29-            ))
--
app/controllers/staffers/signature_request_notifications_controller.rb-7-    signature_request = current_care_case.signature_requests.find(params[:signature_request_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/signature_request_notifications_controller.rb-8-
app/controllers/staffers/signature_request_notifications_controller.rb:9:    CareCaseMemberMailer.with(care_case: current_care_case, member: signature_request.member)
app/controllers/staffers/signature_request_notifications_controller.rb-10-      .new_signature_request_email(signature_request: signature_request).deliver_later
/Users/jschuss/Brightline/reef/app/controllers/staffers/signature_request_notifications_controller.rb-11-  end
--
app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb-14-        attribute :contract_id, DryTypes::Coercible::String.meta(description: "Which contract is coverage being obtained for, optional").optional
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb-15-
app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb:16:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb-17-          new(
app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb:18:            care_case_id: care_case&.id,
app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb:19:            proxy_care_case_id: care_case&.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb-20-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/skipped.rb-21-          )
--
app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb-16-        attribute :contract_id, DryTypes::Coercible::String.meta(description: "Which contract is coverage being obtained for, optional").optional
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb-17-
app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb:18:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb-19-          new(
app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb:20:            care_case_id: care_case&.id,
app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb:21:            proxy_care_case_id: care_case&.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb-22-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_organization/entered.rb-23-          )
--
app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-10-      @members_with_email = CareCaseMember.for(current_care_case, members: care_case_members.with_email).sort_by(&:full_name_with_roles)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-11-      @covered_by_california = member_experience_configuration&.care_case_covered_by_program?
app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb:12:      @existing_appointment_requests = Calendaring::AppointmentSchedulingRequest.where(care_case: current_care_case).order(created_at: :desc)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-13-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-14-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-16-      # the allow_multiple ability is not currently supported on the frontend.
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-17-      # we've left it on the model in case we want to re-establish this feature in the future.
app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb:18:      @scheduling_request = Calendaring::AppointmentSchedulingRequest.create!(create_params.merge(care_case: current_care_case))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-19-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-20-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-32-
app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-33-    helper_method def primary_care_case_member?(member:)
app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb:34:      CareCaseMember.new(care_case: current_care_case, member:).primary_role?
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-35-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_scheduling_requests_controller.rb-36-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/exclusions_controller.rb-8-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/exclusions_controller.rb-9-    def index
app/controllers/staffers/care_cases/exclusions_controller.rb:10:      @evaluator = CareGuide::Evaluator.evaluate(care_case: current_care_case)
app/controllers/staffers/care_cases/exclusions_controller.rb-11-      @endorsements = @evaluator.endorsements.group_by { |e| e[:category] }
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/exclusions_controller.rb-12-    end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/goals_and_questionnaires_controller.rb-9-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/goals_and_questionnaires_controller.rb-10-          render Staffers::Preappointment::GoalsAndQuestionnairesTabComponent.new(
app/controllers/staffers/care_cases/preappointment/goals_and_questionnaires_controller.rb:11:            care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/goals_and_questionnaires_controller.rb-12-            source: params[:source]&.to_sym
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/goals_and_questionnaires_controller.rb-13-          )
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb-12-
app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb-13-        render Staffers::Preappointment::AssessmentsListComponent.new(
app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb:14:          care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb-15-          member: @member,
app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb:16:          assigned_assessment_groups: AssessmentAssignment.grouped_by_assessment_for(care_case: current_care_case, member: @member)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb-17-        )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessment_lists_controller.rb-18-      end
--
app/controllers/staffers/care_cases/preappointment/exercises_lists_controller.rb-11-        @member = Member.find(params[:member_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/exercises_lists_controller.rb-12-
app/controllers/staffers/care_cases/preappointment/exercises_lists_controller.rb:13:        render Staffers::Preappointment::ExercisesListComponent.new(care_case: current_care_case, member: @member, exercises: exercises)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/exercises_lists_controller.rb-14-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/exercises_lists_controller.rb-15-
--
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-110-
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-111-      def assessment_completed_event
app/components/members/nux/assessment_component.rb:112:        EVENT_PREFIXES[event_prefix][:complete].merge({ahoy_metadata: {care_case_id: care_case.id, assessment_id: assessment_id, display_language_id: care_case.account_owner&.display_language_id}, controller: "ahoy"})
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-113-      end
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-114-
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-115-      def question_completed_event(index)
app/components/members/nux/assessment_component.rb:116:        EVENT_PREFIXES[event_prefix][:question].merge({ahoy_metadata: {question_index: index, care_case_id: care_case.id, assessment_id: assessment_id}, controller: "ahoy"})
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-117-      end
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_component.rb-118-    end
--
/Users/jschuss/Brightline/reef/app/components/family/section_header_component.rb-5-    include Rails.application.routes.url_helpers
/Users/jschuss/Brightline/reef/app/components/family/section_header_component.rb-6-
app/components/family/section_header_component.rb:7:    def initialize(section:, care_case:)
/Users/jschuss/Brightline/reef/app/components/family/section_header_component.rb-8-      @section = section
/Users/jschuss/Brightline/reef/app/components/family/section_header_component.rb-9-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/policies/care_documents/care_document_policy.rb-28-      def scoped_records
/Users/jschuss/Brightline/reef/app/policies/care_documents/care_document_policy.rb-29-        if staffer.coach?
app/policies/care_documents/care_document_policy.rb:30:          scope.joins(:care_case).where(care_case: CareCase.accessible_to_coach(staffer))
/Users/jschuss/Brightline/reef/app/policies/care_documents/care_document_policy.rb-31-        else
app/policies/care_documents/care_document_policy.rb:32:          scope.joins(:care_case).where(care_case: {id: ClinicalRole.where(staffer_id: staffer.id).select(:care_case_id)})
/Users/jschuss/Brightline/reef/app/policies/care_documents/care_document_policy.rb-33-        end
/Users/jschuss/Brightline/reef/app/policies/care_documents/care_document_policy.rb-34-      end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/goals_controller.rb-11-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/goals_controller.rb-12-          render Staffers::Preappointment::GoalsTabComponent.new(
app/controllers/staffers/care_cases/preappointment/goals_controller.rb:13:            care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/goals_controller.rb-14-            goals: current_care_case.goals.order(active: :desc),
app/controllers/staffers/care_cases/preappointment/goals_controller.rb-15-            current_staffer: current_staffer,
--
app/components/members/nux/assessment_intro_component.rb-6-      attr_reader :assessment_assignment, :care_case, :event_prefix
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_intro_component.rb-7-
app/components/members/nux/assessment_intro_component.rb:8:      def initialize(assessment_assignment:, care_case:, event_prefix: "CareNavigation")
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_intro_component.rb-9-        @assessment_assignment = assessment_assignment
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_intro_component.rb-10-        @care_case = care_case
--
app/components/members/nux/assessment_intro_component.rb-79-          controller: "ahoy analytics",
app/components/members/nux/assessment_intro_component.rb-80-          ahoy_event: "CareNavigation:AssessmentQuestions:Started",
app/components/members/nux/assessment_intro_component.rb:81:          ahoy_metadata: {care_case_id: care_case.id, assessment_id: assessment_assignment.assessment_id, display_language_id: care_case.account_owner&.display_language_id},
app/components/members/nux/assessment_intro_component.rb-82-          action: "click->ahoy#track click->intro#start"
/Users/jschuss/Brightline/reef/app/components/members/nux/assessment_intro_component.rb-83-        }
--
app/models/analytics/event/care_guide_appointment/completed.rb-19-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment/completed.rb-20-
app/models/analytics/event/care_guide_appointment/completed.rb:21:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment/completed.rb-22-          new(
app/models/analytics/event/care_guide_appointment/completed.rb-23-            account_id: account.id,
app/models/analytics/event/care_guide_appointment/completed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/care_guide_appointment/completed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_guide_appointment/completed.rb-26-            appointment_id: appointment.id,
app/models/analytics/event/care_guide_appointment/completed.rb-27-            appointment_type_id: appointment.appointment_type_id,
--
app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb-19-            dom_id(specified_member, :assessment_list),
app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb-20-            Staffers::Preappointment::AssessmentsListComponent.new(
app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb:21:              care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb-22-              member: specified_member,
app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb:23:              assigned_assessment_groups: AssessmentAssignment.grouped_by_assessment_for(care_case: current_care_case, member: specified_member)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb-24-            ).render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessment_types_controller.rb-25-          )
--
/Users/jschuss/Brightline/reef/app/components/family/appointment_copy_info_component.rb-11-
/Users/jschuss/Brightline/reef/app/components/family/appointment_copy_info_component.rb-12-  def text_to_copy
app/components/family/appointment_copy_info_component.rb:13:    members_care_case_appointment_meeting_url(care_case_id: appointment.care_case_id, appointment_id: appointment.id)
/Users/jschuss/Brightline/reef/app/components/family/appointment_copy_info_component.rb-14-  end
/Users/jschuss/Brightline/reef/app/components/family/appointment_copy_info_component.rb-15-end
--
app/models/analytics/event/care_guide_appointment/scheduled.rb-20-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment/scheduled.rb-21-
app/models/analytics/event/care_guide_appointment/scheduled.rb:22:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment/scheduled.rb-23-          new(
app/models/analytics/event/care_guide_appointment/scheduled.rb-24-            account_id: account.id,
app/models/analytics/event/care_guide_appointment/scheduled.rb:25:            care_case_id: care_case.id,
app/models/analytics/event/care_guide_appointment/scheduled.rb:26:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_guide_appointment/scheduled.rb-27-            appointment_id: appointment.id,
app/models/analytics/event/care_guide_appointment/scheduled.rb-28-            appointment_type_id: appointment.appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/paperwork_controller.rb-10-      def show
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/paperwork_controller.rb-11-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/paperwork_controller.rb:12:          render Staffers::Preappointment::PaperworkTabComponent.new(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/paperwork_controller.rb-13-        else
app/controllers/staffers/care_cases/preappointment/paperwork_controller.rb-14-          redirect_to care_case_preappointment_path(current_care_case, tab: :paperwork)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-10-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-11-      def show
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb:12:        render Staffers::Preappointment::AssignPaperworkComponent.new(care_case: current_care_case, assignment_type: "paperwork")
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-13-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-14-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-15-      def create
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-16-        Assignments::AssignPaperwork.assign!(
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb:17:          care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-18-          document_type_id: params[:document_type_id],
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-19-          form_id: params[:form_id],
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-27-          turbo_stream.update(
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-28-            dom_id(member, :assignment_list),
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb:29:            Staffers::Preappointment::AssignmentsListComponent.new(care_case: current_care_case, member: member, assignments: assignments).render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-30-          ),
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-31-          turbo_stream.update(
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-32-            "assign_paperwork_form",
app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb:33:            Staffers::Preappointment::AssignPaperworkComponent.new(care_case: current_care_case, assignment_type: "paperwork").render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-34-          )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_paperwork_forms_controller.rb-35-        ]
--
app/components/family/no_appointments_component.rb-4-  attr_reader :care_case
/Users/jschuss/Brightline/reef/app/components/family/no_appointments_component.rb-5-
app/components/family/no_appointments_component.rb:6:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/components/family/no_appointments_component.rb-7-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/components/family/no_appointments_component.rb-8-  end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/notes_controller.rb-11-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/notes_controller.rb-12-          render Staffers::Preappointment::NotesTabComponent.new(
app/controllers/staffers/care_cases/preappointment/notes_controller.rb:13:            care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/notes_controller.rb-14-            vitals: current_care_case.medical_histories,
app/controllers/staffers/care_cases/preappointment/notes_controller.rb-15-            initial_consultations: current_care_case.initial_consultations,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-20-          assignment = assignments.find { it.member_id == member.id }
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-21-
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb:22:          url = edit_members_care_case_assigned_exercise_url(id: assignment.id, care_case_id: current_care_case, subdomain: "app")
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-23-          redirect_to url, allow_other_host: true
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-24-        else
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-31-      def assign_to_member!
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-32-        Assignments::AssignPaperwork.assign!(
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb:33:          care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-34-          document_type_id: document_type_id,
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-35-          form_id: form_id,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-37-        ).tap do
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-38-          staffers_ahoy_track("DigitalContent:Assigned", {
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb:39:            care_case_id: current_care_case.id,
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-40-            content_id: form_id,
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-41-            content_type: document_type_id
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-48-          turbo_stream.update(
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-49-            dom_id(member, :exercises_list),
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb:50:            Staffers::Preappointment::ExercisesListComponent.new(care_case: current_care_case, member:, exercises:)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-51-          ),
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-52-          turbo_stream.update(
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-63-      def assign_paperwork_component
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-64-        Staffers::Assignments::ExerciseAssignmentFormComponent.new(
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb:65:          care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-66-          exercises: [Exercise.handouts, Exercise.digital_exercises].flatten,
app/controllers/staffers/care_cases/preappointment/assign_exercises_forms_controller.rb-67-          submission_path: care_case_preappointment_assign_exercises_form_path,
--
app/components/members/intake_child_coverage_component.rb-5-    attr_reader :care_case, :program
/Users/jschuss/Brightline/reef/app/components/members/intake_child_coverage_component.rb-6-
app/components/members/intake_child_coverage_component.rb:7:    def initialize(program:, care_case: nil, **button_options)
/Users/jschuss/Brightline/reef/app/components/members/intake_child_coverage_component.rb-8-      @program = program
/Users/jschuss/Brightline/reef/app/components/members/intake_child_coverage_component.rb-9-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/components/members/intake_child_coverage_component.rb-38-      {
app/components/members/intake_child_coverage_component.rb-39-        account_id: care_case.account.id,
app/components/members/intake_child_coverage_component.rb:40:        care_case_id: care_case.id,
app/components/members/intake_child_coverage_component.rb-41-        program_id: program.id
/Users/jschuss/Brightline/reef/app/components/members/intake_child_coverage_component.rb-42-      }
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessments_controller.rb-10-      def show
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessments_controller.rb-11-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/assessments_controller.rb:12:          render Staffers::Preappointment::AssessmentsTabComponent.new(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessments_controller.rb-13-        else
app/controllers/staffers/care_cases/preappointment/assessments_controller.rb-14-          redirect_to care_case_preappointment_path(current_care_case, tab: :assessments)
--
/Users/jschuss/Brightline/reef/app/policies/service_line/enrollment_policy.rb-22-      def scoped_records
/Users/jschuss/Brightline/reef/app/policies/service_line/enrollment_policy.rb-23-        if staffer.coach?
app/policies/service_line/enrollment_policy.rb:24:          scope.joins(:care_case).where(care_case: CareCase.accessible_to_coach(staffer))
/Users/jschuss/Brightline/reef/app/policies/service_line/enrollment_policy.rb-25-        else
app/policies/service_line/enrollment_policy.rb:26:          scope.joins(:care_case).where(care_case: {id: ClinicalRole.where(staffer_id: staffer.id).select(:care_case_id)})
/Users/jschuss/Brightline/reef/app/policies/service_line/enrollment_policy.rb-27-        end
/Users/jschuss/Brightline/reef/app/policies/service_line/enrollment_policy.rb-28-      end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies/viewed.rb-13-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies/viewed.rb-14-
app/models/analytics/event/onboarding_engagement_strategies/viewed.rb:15:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies/viewed.rb-16-          new(
app/models/analytics/event/onboarding_engagement_strategies/viewed.rb:17:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_engagement_strategies/viewed.rb:18:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies/viewed.rb-19-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies/viewed.rb-20-        end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessments_and_goals_controller.rb-9-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/assessments_and_goals_controller.rb-10-          render Staffers::Preappointment::AssessmentsAndGoalsTabComponent.new(
app/controllers/staffers/care_cases/preappointment/assessments_and_goals_controller.rb:11:            care_case: current_care_case
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessments_and_goals_controller.rb-12-          )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assessments_and_goals_controller.rb-13-        else
--
app/controllers/staffers/care_cases/preappointment/assignment_lists_controller.rb-11-        @member = Member.find(params[:member_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assignment_lists_controller.rb-12-
app/controllers/staffers/care_cases/preappointment/assignment_lists_controller.rb:13:        render Staffers::Preappointment::AssignmentsListComponent.new(care_case: current_care_case, member: @member, assignments: current_care_case.assignments_for(@member))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assignment_lists_controller.rb-14-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assignment_lists_controller.rb-15-    end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check/viewed.rb-13-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check/viewed.rb-14-
app/models/analytics/event/onboarding_safety_check/viewed.rb:15:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check/viewed.rb-16-          new(
app/models/analytics/event/onboarding_safety_check/viewed.rb:17:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_safety_check/viewed.rb:18:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check/viewed.rb-19-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_check/viewed.rb-20-          )
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-10-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-11-      def show
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb:12:        render Staffers::Preappointment::AssignPaperworkComponent.new(care_case: current_care_case, assignment_type: "assessment")
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-13-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-14-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-15-      def create
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-16-        Assignments::AssignPaperwork.assign!(
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb:17:          care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-18-          document_type_id: params[:document_type_id],
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-19-          form_id: params[:form_id],
--
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-27-            dom_id(member, :assessment_list),
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-28-            Staffers::Preappointment::AssessmentsListComponent.new(
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb:29:              care_case: current_care_case,
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-30-              member: member,
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb:31:              assigned_assessment_groups: AssessmentAssignment.grouped_by_assessment_for(care_case: current_care_case, member: member)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-32-            ).render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-33-          ),
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-34-          turbo_stream.update(
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-35-            "assign_assessments_form",
app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb:36:            Staffers::Preappointment::AssignPaperworkComponent.new(care_case: current_care_case, assignment_type: "assessment").render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-37-          )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/assign_assessments_forms_controller.rb-38-        ]
--
app/models/analytics/event/onboarding_child_details/viewed.rb-14-        attribute :position_on_page, DryTypes::Coercible::Integer.meta(description: "What position on the page the user is on. Hardcoded to 0.")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-15-
app/models/analytics/event/onboarding_child_details/viewed.rb:16:        def self.build(care_case: nil, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-17-          # This is a hack to allow us to pass in a care_case_id instead of a care_case from javascript.
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-18-          if care_case.nil?
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-21-          end
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-22-          new(
app/models/analytics/event/onboarding_child_details/viewed.rb:23:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_child_details/viewed.rb:24:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-25-            **kwargs
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details/viewed.rb-26-          )
--
/Users/jschuss/Brightline/reef/app/components/family/assignments/grouped_assignments.rb-4-  Styles = Enum.new(%w[account care_case])
/Users/jschuss/Brightline/reef/app/components/family/assignments/grouped_assignments.rb-5-
app/components/family/assignments/grouped_assignments.rb:6:  def initialize(style:, assignments:, account:, care_case_context:, care_case: nil, selected_tab: nil)
/Users/jschuss/Brightline/reef/app/components/family/assignments/grouped_assignments.rb-7-    @all_assignments = assignments
/Users/jschuss/Brightline/reef/app/components/family/assignments/grouped_assignments.rb-8-    @account = account
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/exercises_controller.rb-10-      def show
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/exercises_controller.rb-11-        if turbo_frame_request?
app/controllers/staffers/care_cases/preappointment/exercises_controller.rb:12:          render Staffers::Preappointment::ExercisesTabComponent.new(care_case: current_care_case, staffer: current_staffer, open_in_new_tab: open_in_new_tab?)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/exercises_controller.rb-13-        else
app/controllers/staffers/care_cases/preappointment/exercises_controller.rb-14-          redirect_to care_case_preappointment_path(current_care_case, tab: :exercises)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/upcoming_appointment_cards_controller.rb-9-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/upcoming_appointment_cards_controller.rb-10-      def show
app/controllers/staffers/care_cases/preappointment/upcoming_appointment_cards_controller.rb:11:        render Staffers::Preappointment::UpcomingAppointmentCard.new(care_case: current_care_case, open_in_new_tab: open_in_new_tab?)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/upcoming_appointment_cards_controller.rb-12-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/preappointment/upcoming_appointment_cards_controller.rb-13-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-12-
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-13-      @reservation_form = Calendaring::AppointmentSlot::ReservationForm.new(
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb:14:        care_case: current_care_case,
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-15-        appointment_slot_reservation_params: params.permit!,
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-16-        available_slot_params:
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-27-
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-28-      @reservation_form = Calendaring::AppointmentSlot::ReservationForm.new(
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb:29:        care_case: current_care_case,
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-30-        appointment_slot_reservation_params:,
app/controllers/staffers/care_cases/appointment_slot_reservations_controller.rb-31-        available_slot_params:
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/email_reminders_controller.rb-8-    if template == "paperwork_incomplete_email"
/Users/jschuss/Brightline/reef/app/controllers/staffers/email_reminders_controller.rb-9-      ReminderMailer.with(
app/controllers/staffers/email_reminders_controller.rb:10:        care_case: current_care_case,
app/controllers/staffers/email_reminders_controller.rb-11-        member: current_care_case.caregiver
/Users/jschuss/Brightline/reef/app/controllers/staffers/email_reminders_controller.rb-12-      ).paperwork_incomplete_email.deliver_later
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/chats_controller.rb-40-  def channels_for_member(member)
app/controllers/staffers/care_cases/chats_controller.rb-41-    Chat::AccessibleStafferChannel.for(account: current_care_case.account, staffer: current_staffer, member: member)
app/controllers/staffers/care_cases/chats_controller.rb:42:      .select { |channel| channel.sendbird_chat_channel.care_case_id == current_care_case.id }
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/chats_controller.rb-43-  end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/chats_controller.rb-44-
--
app/controllers/staffers/care_cases/scheduling_preferences_controller.rb-28-        render turbo_stream: [
app/controllers/staffers/care_cases/scheduling_preferences_controller.rb-29-          turbo_stream.update(:modal, ""),
app/controllers/staffers/care_cases/scheduling_preferences_controller.rb:30:          turbo_stream.update(dom_id(current_care_case, :scheduling_preferences_card), Staffers::CareCases::SchedulingPreferencesCard.new(care_case: current_care_case)),
app/controllers/staffers/care_cases/scheduling_preferences_controller.rb-31-          turbo_stream.append("flash", Staffers::FlashMessage.new("Scheduling preferences have been updated", type: :success))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/scheduling_preferences_controller.rb-32-        ]
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/covered_entities_controller.rb-32-    def form_params
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/covered_entities_controller.rb-33-      {
app/controllers/staffers/care_cases/covered_entities_controller.rb:34:        care_case: current_care_case,
app/controllers/staffers/care_cases/covered_entities_controller.rb-35-        account: current_care_case.account,
app/controllers/staffers/care_cases/covered_entities_controller.rb-36-        covered_entity: params[:id] ? CoveredEntity.find(params[:id]) : nil,
--
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-24-        participants = current_care_case.members.where(id: contract[:participant_ids])
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-25-        interpretation_language = Language.find(contract[:interpretation_language_id])
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb:26:        scheduling_context = Calendaring::SchedulingContext.new(appointment_type: appointment_type, member: member, care_case: current_care_case, staffer: staffer, admin: admin, interpretation_language: interpretation_language, additional_participants: participants, clinic: staffer.clinic)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-27-        appointment_time = datetime_input(contract, member)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-28-
--
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-111-        booking_staffer_id: current_staffer.id,
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-112-        appointment_staffer_id: staffer.id,
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb:113:        care_case_id: current_care_case.id,
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-114-        region_id: region.id,
app/controllers/staffers/care_cases/scheduled_appointments_controller.rb-115-        appointment_id: appointment.id,
--
app/controllers/staffers/assigned_connect_contents_controller.rb-8-    authorize Connect::Assignment
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_connect_contents_controller.rb-9-
app/controllers/staffers/assigned_connect_contents_controller.rb:10:    ::Assignments::Logic.new(member: member, care_case: care_case, content_id: connect_assignment_params[:content_id]).assign!
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_connect_contents_controller.rb-11-
app/controllers/staffers/assigned_connect_contents_controller.rb-12-    staffers_ahoy_track("DigitalContent:Assigned", {
app/controllers/staffers/assigned_connect_contents_controller.rb-13-      content_id: connect_assignment_params[:content_id],
app/controllers/staffers/assigned_connect_contents_controller.rb-14-      content_type: "connect_content",
app/controllers/staffers/assigned_connect_contents_controller.rb:15:      care_case_id: current_care_case.id
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_connect_contents_controller.rb-16-    })
/Users/jschuss/Brightline/reef/app/controllers/staffers/assigned_connect_contents_controller.rb-17-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-19-      authorize Goal
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-20-
app/controllers/staffers/care_cases/goals_controller.rb:21:      Progress::NewGoal.create!(goal_params: goal_params, care_case: current_care_case, staffer: current_staffer)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-22-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-23-      redirect_to care_case_goals_path(current_care_case)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-49-    helper_method def clinic_patient?
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-50-      # This is used to distinguish goals functionality between clinic and non-clinic patients
app/controllers/staffers/care_cases/goals_controller.rb:51:      @_is_clinic_patient ||= CareModel.new(care_case: current_care_case).clinic?
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-52-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/goals_controller.rb-53-
--
app/controllers/staffers/care_cases/member_email_changes_controller.rb-16-      if Member::EmailAddress.change(member: member, new_email: new_email, old_email: old_email)
app/controllers/staffers/care_cases/member_email_changes_controller.rb-17-        flash.now[:success] = "Member email address changed"
app/controllers/staffers/care_cases/member_email_changes_controller.rb:18:        care_case_member = CareCaseMember.new(care_case: current_care_case, member: member)
app/controllers/staffers/care_cases/member_email_changes_controller.rb-19-        render turbo_stream: [
app/controllers/staffers/care_cases/member_email_changes_controller.rb-20-          turbo_stream.update(:change_email_modal, ""),
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/member_email_changes_controller.rb-29-          turbo_stream.update(
app/controllers/staffers/care_cases/member_email_changes_controller.rb-30-            :change_email_modal,
app/controllers/staffers/care_cases/member_email_changes_controller.rb:31:            Staffers::MemberEmailChangeFormModalComponent.new(care_case: current_care_case, member: member).render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/member_email_changes_controller.rb-32-          )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/member_email_changes_controller.rb-33-        ]
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/member_email_changes_controller.rb-41-        turbo_stream.update(
app/controllers/staffers/care_cases/member_email_changes_controller.rb-42-          :change_email_modal,
app/controllers/staffers/care_cases/member_email_changes_controller.rb:43:          Staffers::MemberEmailChangeFormModalComponent.new(care_case: current_care_case, member: member).render_in(view_context)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/member_email_changes_controller.rb-44-        )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/member_email_changes_controller.rb-45-      ]
--
app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb-15-          attribute :recommended, DryTypes::Bool.meta(description: "Indicates whether this was the recommended program")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb-16-
app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb:17:          def self.build(care_case:, program_id:, program_variant_id:, recommended:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb-18-            new(
app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb:19:              care_case_id: care_case.id,
app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb:20:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb-21-              program_id: program_id,
app/models/analytics/event/care_navigation_recommendation/program_card/viewed.rb-22-              program_variant_id: program_variant_id,
--
app/controllers/staffers/care_cases/bookings_controller.rb-16-      render turbo_stream: turbo_stream.update(:modal,
app/controllers/staffers/care_cases/bookings_controller.rb-17-        Staffers::CareCases::BookingModalComponent.new(
app/controllers/staffers/care_cases/bookings_controller.rb:18:          care_case: current_care_case,
app/controllers/staffers/care_cases/bookings_controller.rb-19-          root_appointment_type: root_appointment_type,
app/controllers/staffers/care_cases/bookings_controller.rb-20-          datetime: datetime,
--
app/controllers/staffers/care_cases/bookings_controller.rb-68-        datetime: selection.datetime,
app/controllers/staffers/care_cases/bookings_controller.rb-69-        scheduling_context: Calendaring::SchedulingContext.new(
app/controllers/staffers/care_cases/bookings_controller.rb:70:          care_case: current_care_case,
app/controllers/staffers/care_cases/bookings_controller.rb-71-          member: current_care_case.patient,
app/controllers/staffers/care_cases/bookings_controller.rb-72-          appointment_type: selection.appointment_type,
--
app/controllers/staffers/care_recommendations_controller.rb-71-    CareCase::OngoingCareRecommendation.in_review
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_recommendations_controller.rb-72-      .includes(
app/controllers/staffers/care_recommendations_controller.rb:73:        care_case: [
app/controllers/staffers/care_recommendations_controller.rb-74-          {patient: :caregiver_provided_patient_information},
app/controllers/staffers/care_recommendations_controller.rb-75-          :scheduling_preferences,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_recommendations_controller.rb-92-  def ongoing_care_recommendation
app/controllers/staffers/care_recommendations_controller.rb-93-    @ongoing_care_recommendation ||= CareCase::OngoingCareRecommendation.includes(
app/controllers/staffers/care_recommendations_controller.rb:94:      care_case: [:patient, :account]
app/controllers/staffers/care_recommendations_controller.rb-95-    ).find(params[:id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_recommendations_controller.rb-96-  end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb-16-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb-17-        # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb:18:        def self.build(care_case_id:, assessment_id:, sections:, **kwargs)
app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb:19:          proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb-20-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb-21-          new(
app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb:22:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb:23:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb-24-            assessment_id: assessment_id,
app/models/analytics/event/care_navigation_assessment_results_modal/rendered.rb-25-            sections: sections
--
/Users/jschuss/Brightline/reef/app/models/registration/teen_invitation.rb-21-    def deliver_welcome_email
app/models/registration/teen_invitation.rb-22-      link = brightline_link(utm_parameters: {utm_medium: "email"})
app/models/registration/teen_invitation.rb:23:      CareCaseMemberMailer.with(care_case: care_case, member: member).teen_welcome_email(
app/models/registration/teen_invitation.rb-24-        password_reset_url: link
/Users/jschuss/Brightline/reef/app/models/registration/teen_invitation.rb-25-      ).deliver_later
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/call_logs_controller.rb-83-        if call_log.notes.blank?
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/call_logs_controller.rb-84-          call_log.notes = current_account.care_cases
app/controllers/staffers/phone_desk/call_logs_controller.rb:85:            .map { ::Note.build(account: current_account, care_case: it) }
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/call_logs_controller.rb-86-        end
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/call_logs_controller.rb-87-      end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots_controller.rb-17-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots_controller.rb-18-    helper_method def appointment_types_list
app/controllers/staffers/care_cases/appointment_slots_controller.rb:19:      care_model = CareModel.new(care_case: current_care_case).id
app/controllers/staffers/care_cases/appointment_slots_controller.rb-20-      policy_scope(Calendaring::AppointmentSlot::RootAppointmentTypes).select { it.care_models.include?(care_model.to_s) }
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots_controller.rb-21-    end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots_controller.rb-78-      @defaults ||= begin
app/controllers/staffers/care_cases/appointment_slots_controller.rb-79-        scoped_staffers = policy_scope(Staffer.active, policy_scope_class: Calendaring::AvailableStaffersPolicy::Scope)
app/controllers/staffers/care_cases/appointment_slots_controller.rb:80:        care_model = CareModel.new(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots_controller.rb-81-        default_root_appointment_type = case care_model.id
app/controllers/staffers/care_cases/appointment_slots_controller.rb-82-        when :brightlife_kids
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/digital_contents_controller.rb-20-
app/controllers/staffers/care_cases/digital_contents_controller.rb-21-      staffers_ahoy_track("DigitalContents:Visited", {
app/controllers/staffers/care_cases/digital_contents_controller.rb:22:        care_case_id: current_care_case.id,
app/controllers/staffers/care_cases/digital_contents_controller.rb-23-        topic_ids: [@active_topic_id],
app/controllers/staffers/care_cases/digital_contents_controller.rb-24-        content_format: @kind,
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment_questions/started.rb-17-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment_questions/started.rb-18-        # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/care_navigation/assessment_questions/started.rb:19:        def self.build(care_case_id:, assessment_id:, display_language_id:, **kwargs)
app/models/analytics/event/care_navigation/assessment_questions/started.rb:20:          proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment_questions/started.rb-21-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment_questions/started.rb-22-          new(
app/models/analytics/event/care_navigation/assessment_questions/started.rb:23:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation/assessment_questions/started.rb:24:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation/assessment_questions/started.rb-25-            display_language_id: display_language_id,
app/models/analytics/event/care_navigation/assessment_questions/started.rb-26-            assessment_id: assessment_id
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-14-    def new
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-15-      @contracts = fetch_contracts
app/controllers/staffers/phone_desk/payments_controller.rb:16:      @insurance_coverage = ::PhoneDesk::InsuranceCoverage.for(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-17-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-18-
--
app/controllers/staffers/phone_desk/payments_controller.rb-23-        render turbo_stream: [
app/controllers/staffers/phone_desk/payments_controller.rb-24-          turbo_stream.update(:payment_method_list, Staffers::PhoneDesk::Payments::PaymentMethodTitle.new(payment_method: current_care_case.square_payment_methods.last)),
app/controllers/staffers/phone_desk/payments_controller.rb:25:          turbo_stream.update(:payment_form_wrapper, Staffers::PhoneDesk::Payments::PaymentFormWrapper.new(care_case: current_care_case, editing: false))
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-26-        ]
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-27-      else
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-31-
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-32-    def show_form
app/controllers/staffers/phone_desk/payments_controller.rb:33:      render turbo_stream: turbo_stream.update(:payment_form_wrapper, Staffers::PhoneDesk::Payments::PaymentFormWrapper.new(care_case: current_care_case, editing: true))
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-34-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-35-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-42-    def redirect_to_first_care_case_if_not_provided
app/controllers/staffers/phone_desk/payments_controller.rb-43-      if params[:care_case_id].blank? && current_account.care_cases&.any?
app/controllers/staffers/phone_desk/payments_controller.rb:44:        redirect_to new_phone_desk_account_payment_path(current_account, care_case_id: current_account.care_cases.first.id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-45-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments_controller.rb-46-    end
--
app/models/analytics/event/care_navigation/assessment/started.rb-22-        attribute :service_line_recommendation_id, DryTypes::Coercible::String.meta(description: "The id of the service line recommendation")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment/started.rb-23-
app/models/analytics/event/care_navigation/assessment/started.rb:24:        def self.build(care_case:, assessment_id:, display_language_id:, service_line_recommendation:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment/started.rb-25-          patient_info = care_case.patient.caregiver_provided_patient_information
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/assessment/started.rb-26-          new(
app/models/analytics/event/care_navigation/assessment/started.rb:27:            care_case_id: care_case.id,
app/models/analytics/event/care_navigation/assessment/started.rb:28:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_navigation/assessment/started.rb-29-            account_id: care_case.account.id,
app/models/analytics/event/care_navigation/assessment/started.rb-30-            display_language_id: display_language_id,
--
/Users/jschuss/Brightline/reef/app/models/registration/member_invitation.rb-58-          return members_paperwork_index_url unless care_case.present?
/Users/jschuss/Brightline/reef/app/models/registration/member_invitation.rb-59-
app/models/registration/member_invitation.rb:60:          token = Paperwork::AccessToken.find_or_generate_active_token(care_case:, member:)
app/models/registration/member_invitation.rb-61-          new_members_limited_paperwork_verification_url(token: token.value)
/Users/jschuss/Brightline/reef/app/models/registration/member_invitation.rb-62-        end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/scheduling_controller.rb-26-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/scheduling_controller.rb-27-    def set_bundle
app/controllers/staffers/care_cases/coco/bundles/scheduling_controller.rb:28:      @bundle = ::Coco::Bundle.where(care_case_id: current_care_case.id).find(params[:bundle_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/scheduling_controller.rb-29-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/scheduling_controller.rb-30-
--
app/models/analytics/event/care_navigation/recommendation/viewed.rb-22-          attribute :assigned_coach_capabilities, DryTypes::Array.of(DryTypes::Coercible::String).meta(description: "Assigned coach capabilities").optional
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/recommendation/viewed.rb-23-
app/models/analytics/event/care_navigation/recommendation/viewed.rb:24:          def self.build(care_case:, offerings:, other_offerings:, other_offerings_hidden_on_load:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/recommendation/viewed.rb-25-            account = care_case.account
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation/recommendation/viewed.rb-26-            new(
app/models/analytics/event/care_navigation/recommendation/viewed.rb:27:              care_case_id: care_case.id,
app/models/analytics/event/care_navigation/recommendation/viewed.rb:28:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_navigation/recommendation/viewed.rb-29-              account_id: account.id,
app/models/analytics/event/care_navigation/recommendation/viewed.rb-30-              recommendation: offerings.recommendation,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/single_activities_controller.rb-8-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/single_activities_controller.rb-9-    def new
app/controllers/staffers/care_cases/coco/bundles/single_activities_controller.rb:10:      @bundle = ::Coco::Bundle.where(care_case_id: current_care_case.id).find(params[:bundle_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/single_activities_controller.rb-11-      @filters = filter_params
app/controllers/staffers/care_cases/coco/bundles/single_activities_controller.rb-12-      @results = DigitalContents::Filter.new({
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-12-          turbo_stream.update(
app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-13-            :modal,
app/controllers/staffers/phone_desk/wait_list/entries_controller.rb:14:            Staffers::PhoneDesk::WaitList::AddToWaitListModalComponent.new(care_case:, root_appointment_type:)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-15-          )
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-16-        ]
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-27-            turbo_stream.replace(
app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-28-              :waitlist_button,
app/controllers/staffers/phone_desk/wait_list/entries_controller.rb:29:              Staffers::PhoneDesk::WaitList::AddButtonComponent.new(care_case:, root_appointment_type:)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-30-            ),
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-31-            turbo_stream.update(
app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-32-              :waitlist_status,
app/controllers/staffers/phone_desk/wait_list/entries_controller.rb:33:              Staffers::PhoneDesk::WaitList::BadgeComponent.new(care_case:)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-34-            ),
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/wait_list/entries_controller.rb-35-            turbo_stream.update(
--
app/models/analytics/event/exercise/updated.rb-17-        attribute :assigned_exercise_id, DryTypes::String.meta(description: "Id for the assigned exercise")
/Users/jschuss/Brightline/reef/app/models/analytics/event/exercise/updated.rb-18-
app/models/analytics/event/exercise/updated.rb:19:        def self.build(account:, care_case:, assigned_exercise:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/exercise/updated.rb-20-          new(
app/models/analytics/event/exercise/updated.rb-21-            account_id: account.id,
app/models/analytics/event/exercise/updated.rb:22:            care_case_id: care_case.id,
app/models/analytics/event/exercise/updated.rb:23:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/exercise/updated.rb-24-            exercise_id: assigned_exercise.exercise_id,
app/models/analytics/event/exercise/updated.rb-25-            assigned_exercise_id: assigned_exercise.id
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/skills/selections_controller.rb-16-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/skills/selections_controller.rb-17-      def bundle
app/controllers/staffers/care_cases/coco/bundles/skills/selections_controller.rb:18:        ::Coco::Bundle.where(care_case_id: current_care_case).find(params[:bundle_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/skills/selections_controller.rb-19-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles/skills/selections_controller.rb-20-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/step_bookings_controller.rb-16-              if @booking_form.book!
app/controllers/staffers/phone_desk/scheduling/step_bookings_controller.rb-17-                render turbo_stream: [
app/controllers/staffers/phone_desk/scheduling/step_bookings_controller.rb:18:                  turbo_stream.action(:redirect, phone_desk_account_scheduling_confirmation_path(current_account, care_case_id: @booking_form.care_case_id, selections: {appointments: @booking_form.appointments}))
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/step_bookings_controller.rb-19-                ]
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/step_bookings_controller.rb-20-              else
--
app/models/staffers/ongoing_care_recommendation_request.rb-27-          due_date: 1.day.from_now,
app/models/staffers/ongoing_care_recommendation_request.rb-28-          account:,
app/models/staffers/ongoing_care_recommendation_request.rb:29:          care_case:,
app/models/staffers/ongoing_care_recommendation_request.rb-30-          requester: requested_by,
app/models/staffers/ongoing_care_recommendation_request.rb-31-          priority: :high,
--
app/models/analytics/event/exercise/completed.rb-17-        attribute :assigned_exercise_id, DryTypes::String.meta(description: "Id for the assigned exercise")
/Users/jschuss/Brightline/reef/app/models/analytics/event/exercise/completed.rb-18-
app/models/analytics/event/exercise/completed.rb:19:        def self.build(account:, care_case:, assigned_exercise:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/exercise/completed.rb-20-          new(
app/models/analytics/event/exercise/completed.rb-21-            account_id: account.id,
app/models/analytics/event/exercise/completed.rb:22:            care_case_id: care_case.id,
app/models/analytics/event/exercise/completed.rb:23:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/exercise/completed.rb-24-            exercise_id: assigned_exercise.exercise_id,
app/models/analytics/event/exercise/completed.rb-25-            assigned_exercise_id: assigned_exercise.id
--
app/controllers/staffers/care_case_roles_controller.rb-19-    case_role = case_role_params[:role_name]
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_roles_controller.rb-20-
app/controllers/staffers/care_case_roles_controller.rb:21:    if CaseRole.find_by(care_case: current_care_case, member: existing_member, role_name: case_role)
app/controllers/staffers/care_case_roles_controller.rb-22-      redirect_to(care_case_roles_path, flash: {error: "Member with email #{email} has role #{case_role} for this case"}) && return
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_roles_controller.rb-23-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_roles_controller.rb-24-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_roles_controller.rb-25-    if existing_member.present?
app/controllers/staffers/care_case_roles_controller.rb:26:      CareCaseRoles::AssignExistingMemberToCareCase.call(care_case: current_care_case, staffer: current_staffer, member: existing_member, role_name: case_role)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_roles_controller.rb-27-      redirect_to care_case_roles_path
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_case_roles_controller.rb-28-    else
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-10-    # For now, just find or create one and redirect
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-11-    def index
app/controllers/staffers/care_cases/coco/care_plans_controller.rb:12:      @care_plan = ::Coco::CarePlan.find_or_create_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-13-      redirect_to care_case_coco_care_plan_path(current_care_case, @care_plan)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-14-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-15-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-16-    def show
app/controllers/staffers/care_cases/coco/care_plans_controller.rb:17:      @care_plan = ::Coco::CarePlan.find_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-18-      @recent_assessments = recent_assessments
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-19-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-20-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-21-    def edit
app/controllers/staffers/care_cases/coco/care_plans_controller.rb:22:      @care_plan = ::Coco::CarePlan.find_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-23-
app/controllers/staffers/care_cases/coco/care_plans_controller.rb-24-      render turbo_stream: turbo_stream.replace(:summary_section, Staffers::CareCases::Coco::CarePlans::SummaryFormComponent.new(care_plan: @care_plan).render_in(view_context))
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-26-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-27-    def update
app/controllers/staffers/care_cases/coco/care_plans_controller.rb:28:      @care_plan = ::Coco::CarePlan.find_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-29-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans_controller.rb-30-      if @care_plan.update(care_plan_params)
--
app/models/analytics/event/exercise/viewed.rb-17-        attribute :assigned_exercise_id, DryTypes::String.meta(description: "Id for the assigned exercise")
/Users/jschuss/Brightline/reef/app/models/analytics/event/exercise/viewed.rb-18-
app/models/analytics/event/exercise/viewed.rb:19:        def self.build(account:, care_case:, assigned_exercise:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/exercise/viewed.rb-20-          new(
app/models/analytics/event/exercise/viewed.rb-21-            account_id: account.id,
app/models/analytics/event/exercise/viewed.rb:22:            care_case_id: care_case.id,
app/models/analytics/event/exercise/viewed.rb:23:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/exercise/viewed.rb-24-            exercise_id: assigned_exercise.exercise_id,
app/models/analytics/event/exercise/viewed.rb-25-            assigned_exercise_id: assigned_exercise.id
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/assignments_controller.rb-6-  def index
app/controllers/staffers/assignments_controller.rb-7-    @assignees = CareCaseMember.for(current_care_case, members: current_care_case.members).sort_by(&:full_name_with_roles)
app/controllers/staffers/assignments_controller.rb:8:    @assignable_members = @assignees.filter { Rules::Member::Assignable.call(member: it, care_case: current_care_case) }
app/controllers/staffers/assignments_controller.rb-9-    @assignees_with_email = @assignees.filter(&:email?)
/Users/jschuss/Brightline/reef/app/controllers/staffers/assignments_controller.rb-10-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/activity_assignments_controller.rb-39-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/activity_assignments_controller.rb-40-      def bundle
app/controllers/staffers/care_cases/coco/activity_assignments_controller.rb:41:        ::Coco::Bundle.where(care_case_id: current_care_case.id).find(activity_assignment_params[:bundle_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/activity_assignments_controller.rb-42-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/activity_assignments_controller.rb-43-
--
app/controllers/staffers/assessment_assignments_controller.rb-9-      assessment = Assessment.find(assessment_assignment_params[:assessment_id])
app/controllers/staffers/assessment_assignments_controller.rb-10-      member = Member.find(assessment_assignment_params[:member_id])
app/controllers/staffers/assessment_assignments_controller.rb:11:      Assessment::CareCaseAssignment.assign!(care_case: current_care_case, member:, assessment:)
/Users/jschuss/Brightline/reef/app/controllers/staffers/assessment_assignments_controller.rb-12-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/assessment_assignments_controller.rb-13-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/payments/eligibility_requests_controller.rb-10-
app/controllers/staffers/phone_desk/payments/eligibility_requests_controller.rb-11-        insurance_coverage = PhoneDesk::InsuranceCoverage.verify(
app/controllers/staffers/phone_desk/payments/eligibility_requests_controller.rb:12:          care_case: current_care_case,
app/controllers/staffers/phone_desk/payments/eligibility_requests_controller.rb-13-          contract: Contract.find_by(id: eligibility_request_params[:contract_id]),
app/controllers/staffers/phone_desk/payments/eligibility_requests_controller.rb-14-          patient_legal_info:
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/available_appointments/steps_controller.rb-138-            redirect_to new_phone_desk_account_scheduling_appointment_bundle_path(
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/available_appointments/steps_controller.rb-139-              current_account,
app/controllers/staffers/phone_desk/scheduling/available_appointments/steps_controller.rb:140:              care_case_id: filter_params[:care_case_id]
app/controllers/staffers/phone_desk/scheduling/available_appointments/steps_controller.rb-141-            ), flash: {
app/controllers/staffers/phone_desk/scheduling/available_appointments/steps_controller.rb-142-              notice: "We're sorry, your selections have expired. Please try again."
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-8-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-9-    def index
app/controllers/staffers/care_cases/coco/bundles_controller.rb:10:      bundles = ::Coco::Bundle.where(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-11-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-12-      @drafts = bundles.drafts
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-23-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-24-
app/controllers/staffers/care_cases/coco/bundles_controller.rb:25:      @bundle = ::Coco::Bundle.find_by(id: params[:bundle_id]) || ::Coco::Bundle.where(care_case: current_care_case).drafts.last ||
app/controllers/staffers/care_cases/coco/bundles_controller.rb:26:        ::Coco::Bundle::Seed.new(care_case: current_care_case, staffer: current_staffer, care_plan: @care_plan).from(skill: @care_plan.skills.first)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-27-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/bundles_controller.rb-28-
--
app/models/invoice.rb-11-#  created_at    :datetime         not null
app/models/invoice.rb-12-#  updated_at    :datetime         not null
app/models/invoice.rb:13:#  care_case_id  :uuid             not null
/Users/jschuss/Brightline/reef/app/models/invoice.rb-14-#
/Users/jschuss/Brightline/reef/app/models/invoice.rb-15-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/invoice.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/invoice.rb-20-#
app/models/invoice.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/invoice.rb-22-#
/Users/jschuss/Brightline/reef/app/models/invoice.rb-23-class Invoice < ApplicationRecord
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-10-
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-11-      @reservation_form = Calendaring::AppointmentSlot::ReservationForm.new(
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb:12:        care_case: care_case,
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-13-        appointment_slot_reservation_params: params.permit!,
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-14-        available_slot_params:
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-27-
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-28-      @reservation_form = Calendaring::AppointmentSlot::ReservationForm.new(
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb:29:        care_case: care_case,
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-30-        appointment_slot_reservation_params:,
app/controllers/staffers/caseloads/appointment_slot_reservations_controller.rb-31-        available_slot_params:
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/appointment_join_button/clicked.rb-29-        )
/Users/jschuss/Brightline/reef/app/models/analytics/event/appointment_join_button/clicked.rb-30-
app/models/analytics/event/appointment_join_button/clicked.rb:31:        def self.build(appointment_type:, button_status:, appointment_id:, care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/appointment_join_button/clicked.rb-32-          # Check for any remaining unexpected attributes
app/models/analytics/event/appointment_join_button/clicked.rb-33-          check_unexpected_attributes([:appointment_type, :button_status, :appointment_id, :care_case_id], **kwargs)
--
app/models/analytics/event/appointment_join_button/clicked.rb-37-            button_status: button_status,
app/models/analytics/event/appointment_join_button/clicked.rb-38-            appointment_id: appointment_id,
app/models/analytics/event/appointment_join_button/clicked.rb:39:            care_case_id: care_case_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/appointment_join_button/clicked.rb-40-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/appointment_join_button/clicked.rb-41-        end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-19-
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-20-      def create
app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb:21:        filters = {care_case_id: form_params[:care_case_id], appointment_bundle_id: form_params[:appointment_bundle_id]}
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-22-
app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-23-        path = if Flipper.enabled?(:multi_step_pd_scheduling_flow, current_staffer)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-48-      def redirect_to_first_care_case_if_not_provided
app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-49-        if params[:care_case_id].blank? && current_account&.care_cases&.any?
app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb:50:          redirect_to new_phone_desk_account_scheduling_appointment_bundle_path(current_account, care_case_id: current_account.care_cases.first.id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-51-        end
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-52-      end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-56-
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-57-        path = if care_case.appointments.scheduled.exists?
app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb:58:          phone_desk_account_scheduling_confirmation_path(current_account, care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-59-        else
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/appointment_bundles_controller.rb-60-          cookies["phone_desk_account_scheduling_#{care_case.id}"]
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-7-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-8-    def new
app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb:9:      @care_plan = ::Coco::CarePlan.find_by(care_case: current_care_case)
app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-10-      @focus = ::Coco::Focus.find(params[:focus_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-11-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-12-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-13-    def create
app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb:14:      @care_plan = ::Coco::CarePlan.find_by(care_case: current_care_case)
app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-15-      @focus = ::Coco::Focus.find(care_plan_params[:focus_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-16-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-29-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-30-    def update
app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb:31:      care_plan = ::Coco::CarePlan.find_by(care_case: current_care_case)
app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-32-      goal = ::Coco::Goal.find(care_plan_params[:goal_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/coco/care_plans/goals_controller.rb-33-      goal.focus
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/bookings_controller.rb-21-
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/bookings_controller.rb-22-        if @form.book!
app/controllers/staffers/phone_desk/scheduling/bookings_controller.rb:23:          redirect_to phone_desk_account_scheduling_confirmation_path(current_account, care_case_id: @form.care_case_id, selections: {appointments: @form.appointments})
/Users/jschuss/Brightline/reef/app/controllers/staffers/phone_desk/scheduling/bookings_controller.rb-24-        else
app/controllers/staffers/phone_desk/scheduling/bookings_controller.rb-25-          render :new
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/caseloads/appointment_slots/payment_method_reminders_controller.rb-8-      def create
app/controllers/staffers/caseloads/appointment_slots/payment_method_reminders_controller.rb-9-        @reservation_form = Calendaring::AppointmentSlot::ReservationForm.new(
app/controllers/staffers/caseloads/appointment_slots/payment_method_reminders_controller.rb:10:          care_case: care_case,
app/controllers/staffers/caseloads/appointment_slots/payment_method_reminders_controller.rb-11-          appointment_slot_reservation_params:,
app/controllers/staffers/caseloads/appointment_slots/payment_method_reminders_controller.rb-12-          available_slot_params:
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/appointments_controller.rb-57-
/Users/jschuss/Brightline/reef/app/controllers/staffers/appointments_controller.rb-58-    appointments
app/controllers/staffers/appointments_controller.rb:59:      .includes(care_case: [:patient, :caregivers, :account, :case_roles, :covered_entities])
app/controllers/staffers/appointments_controller.rb-60-      .includes(:staffer)
app/controllers/staffers/appointments_controller.rb-61-      .includes(:appointment_acceptance)
--
app/controllers/staffers/ongoing_eligibility_checks_controller.rb-16-        :adjudicator,
app/controllers/staffers/ongoing_eligibility_checks_controller.rb-17-        account: :owner,
app/controllers/staffers/ongoing_eligibility_checks_controller.rb:18:        care_case: :next_appointment,
app/controllers/staffers/ongoing_eligibility_checks_controller.rb-19-        covered_entity: {contract: [:payer, :sponsor]}
/Users/jschuss/Brightline/reef/app/controllers/staffers/ongoing_eligibility_checks_controller.rb-20-      )
--
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_new_member_to_care_case.rb-13-    def call
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_new_member_to_care_case.rb-14-      if new_member_case_role.save
app/models/care_case_roles/assign_new_member_to_care_case.rb:15:        EventSystem::Publisher.broadcast(MemberAssignedToCareCaseEvent.new(member: member, care_case: care_case, staffer: staffer, role_name: role_name))
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_new_member_to_care_case.rb-16-        result.success
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_new_member_to_care_case.rb-17-      else
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_overview_controller.rb-8-
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_overview_controller.rb-9-  def show
app/controllers/staffers/coverage_overview_controller.rb:10:    @athena_patient = CareCase::AthenaPatient.find_by(care_case: current_care_case)
app/controllers/staffers/coverage_overview_controller.rb-11-    @candid_patient = current_care_case.candid_patients.order(created_at: :desc).first
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_overview_controller.rb-12-    @unscoped_private_care_case_covered_entities = unscoped_care_case_covered_entities.select { |covered_entity| covered_entity.private_benefit? }
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_overview_controller.rb-26-  def link_account_covered_entities
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_overview_controller.rb-27-    account_active_covered_entity = active_account_specific_covered_entity(current_care_case.account)
app/controllers/staffers/coverage_overview_controller.rb:28:    CareCaseCoveredEntity.find_or_create_by!(care_case: current_care_case, covered_entity: account_active_covered_entity)
app/controllers/staffers/coverage_overview_controller.rb-29-    flash[:success] = "Account covered entities linked successfully"
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_overview_controller.rb-30-
--
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-9-
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-10-    on(MemberRemovedFromCareCaseEvent) do |event|
app/models/care_case_roles/remove_member_from_care_case_appointments.rb:11:      call!(care_case: event.care_case, member: event.member)
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-12-    end
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-13-
app/models/care_case_roles/remove_member_from_care_case_appointments.rb-14-    attr_reader :care_case, :member
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-15-
app/models/care_case_roles/remove_member_from_care_case_appointments.rb:16:    def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-17-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case_appointments.rb-18-      @member = member
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_infos_controller.rb-7-  def index
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_infos_controller.rb-8-    @search = CoverageInfo
app/controllers/staffers/coverage_infos_controller.rb:9:      .where(care_case_id: nil)
app/controllers/staffers/coverage_infos_controller.rb:10:      .or(CoverageInfo.where(care_case: CareCase.where(deleted_at: nil))).ransack(filter_params)
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_infos_controller.rb-11-    @search.sorts = "created_at asc" if @search.sorts.empty?
/Users/jschuss/Brightline/reef/app/controllers/staffers/coverage_infos_controller.rb-12-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/previews_controller.rb-37-
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/previews_controller.rb-38-    helper_method def assigned_exercise
app/controllers/staffers/digital_contents/previews_controller.rb:39:      @assigned_exercise ||= AssignedExercise.new(care_case: care_case, exercise_id: content_id, member_id: preview_params[:member_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/previews_controller.rb-40-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/previews_controller.rb-41-
--
app/controllers/staffers/care_cases/appointments_controller.rb-11-      @slots = policy_scope(Calendaring::AppointmentSlot::Reservation)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointments_controller.rb-12-        .active
app/controllers/staffers/care_cases/appointments_controller.rb:13:        .where(care_case: current_care_case)
app/controllers/staffers/care_cases/appointments_controller.rb-14-        .order(start_time: :desc, id: :desc)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointments_controller.rb-15-    end
--
app/models/care_case_roles/remove_member_from_care_case.rb-7-    attr_reader :care_case, :member
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case.rb-8-
app/models/care_case_roles/remove_member_from_care_case.rb:9:    def initialize(care_case:, member:, case_role: nil)
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case.rb-11-      @member = member
--
app/models/care_case_roles/remove_member_from_care_case.rb-74-      EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/care_case_roles/remove_member_from_care_case.rb-75-        MemberRemovedFromCareCaseEvent.new(
app/models/care_case_roles/remove_member_from_care_case.rb:76:          care_case: care_case,
app/models/care_case_roles/remove_member_from_care_case.rb-77-          member: member,
app/models/care_case_roles/remove_member_from_care_case.rb-78-          role_name: case_role.role_name
--
app/models/care_case_roles/assign_existing_member_to_care_case.rb-7-    attr_reader :care_case, :staffer, :member, :role_name
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_existing_member_to_care_case.rb-8-
app/models/care_case_roles/assign_existing_member_to_care_case.rb:9:    def initialize(care_case:, staffer:, member:, role_name:)
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_existing_member_to_care_case.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_existing_member_to_care_case.rb-11-      @staffer = staffer
--
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_existing_member_to_care_case.rb-16-    def call
app/models/care_case_roles/assign_existing_member_to_care_case.rb-17-      care_case.case_roles.create!(member: member, role_name: role_name)
app/models/care_case_roles/assign_existing_member_to_care_case.rb:18:      EventSystem::Publisher.broadcast(MemberAssignedToCareCaseEvent.new(member: member, care_case: care_case, staffer: staffer, role_name: role_name))
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_existing_member_to_care_case.rb-19-    end
/Users/jschuss/Brightline/reef/app/models/care_case_roles/assign_existing_member_to_care_case.rb-20-  end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/cadence_transitions_controller.rb-18-        if transition_form.valid?
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/cadence_transitions_controller.rb-19-          @new_slot = transition_form.save
app/controllers/staffers/care_cases/appointment_slots/cadence_transitions_controller.rb:20:          @slots = Calendaring::AppointmentSlot::Reservation.active.where(care_case: current_care_case).order(start_time: :desc, id: :desc)
app/controllers/staffers/care_cases/appointment_slots/cadence_transitions_controller.rb-21-          render :create
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/cadence_transitions_controller.rb-22-        else
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-14-
app/controllers/staffers/digital_contents/assignments_controller.rb-15-      staffers_ahoy_track("DigitalContent:Assigned", {
app/controllers/staffers/digital_contents/assignments_controller.rb:16:        care_case_id: care_case.id,
app/controllers/staffers/digital_contents/assignments_controller.rb-17-        content_id: exercise_id,
app/controllers/staffers/digital_contents/assignments_controller.rb-18-        content_type: digital_content.content.kind
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-20-
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-21-      assigned = if digital_content.connect_content?
app/controllers/staffers/digital_contents/assignments_controller.rb:22:        ::Assignments::Logic.new(member: member, care_case: care_case, content_id: exercise_id).assign!
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-23-      else
app/controllers/staffers/digital_contents/assignments_controller.rb:24:        ::Assignments::Logic.new(member: member, care_case: care_case, exercise_id: exercise_id).assign!
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-25-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-26-
--
app/controllers/staffers/digital_contents/assignments_controller.rb-28-        impersonate(create_exercise_params[:member_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-29-
app/controllers/staffers/digital_contents/assignments_controller.rb:30:        redirect_to edit_members_care_case_assigned_exercise_url(id: assigned, care_case_id: care_case, subdomain: "app"), allow_other_host: true
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-31-      else
app/controllers/staffers/digital_contents/assignments_controller.rb:32:        redirect_to (params[:redirect_path] || digital_contents_path({care_case_id: care_case.id})), flash: {success: "Exercise was successfully assigned."}
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-33-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-34-    end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/digital_contents/assignments_controller.rb-39-      {
app/controllers/staffers/digital_contents/assignments_controller.rb-40-        content_id: create_exercise_params[:exercise_id],
app/controllers/staffers/digital_contents/assignments_controller.rb:41:        care_case_id: create_exercise_params[:care_case_id],
app/controllers/staffers/digital_contents/assignments_controller.rb-42-        member_id: create_exercise_params[:member_id],
app/controllers/staffers/digital_contents/assignments_controller.rb-43-        assigned_at: Time.zone.now
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-31-          format.turbo_stream do
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-32-            if submitted? && @form.save
app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb:33:              @slots = Calendaring::AppointmentSlot::Reservation.active.where(care_case: current_care_case).order(start_time: :desc, id: :desc)
app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-34-              render :create
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-35-            else
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-51-
app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-52-        flash.now[:error] = "Slot has already been released."
app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb:53:        @slots = Calendaring::AppointmentSlot::Reservation.active.where(care_case: current_care_case).order(start_time: :desc, id: :desc)
app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-54-        render :already_released
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/releases_controller.rb-55-      end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/reminders_controller.rb-10-        begin
app/controllers/staffers/care_cases/appointment_slots/reminders_controller.rb-11-          @reminder = Calendaring::AppointmentSlot::MemberSupportReminder.create!(
app/controllers/staffers/care_cases/appointment_slots/reminders_controller.rb:12:            care_case: current_care_case,
app/controllers/staffers/care_cases/appointment_slots/reminders_controller.rb-13-            staffer: current_staffer,
app/controllers/staffers/care_cases/appointment_slots/reminders_controller.rb-14-            title: title
--
app/controllers/staffers/healthie/scheduling_preferences_controller.rb-2-  class SchedulingPreferencesController < Healthie::BaseController
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-3-    def show
app/controllers/staffers/healthie/scheduling_preferences_controller.rb:4:      @scheduling_preferences = CareCase::SchedulingPreferences.find_or_initialize_by(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-5-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-6-
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-7-    def create
app/controllers/staffers/healthie/scheduling_preferences_controller.rb-8-      @scheduling_preferences = CareCase::SchedulingPreferences.new(
app/controllers/staffers/healthie/scheduling_preferences_controller.rb:9:        care_case: current_care_case,
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-10-        **scheduling_preferences_params
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-11-      )
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-35-    helper_method def scheduling_preferences_form_component
app/controllers/staffers/healthie/scheduling_preferences_controller.rb-36-      Staffers::Healthie::SchedulingPreferencesForm.new(
app/controllers/staffers/healthie/scheduling_preferences_controller.rb:37:        care_case: current_care_case,
app/controllers/staffers/healthie/scheduling_preferences_controller.rb-38-        scheduling_preferences: @scheduling_preferences,
app/controllers/staffers/healthie/scheduling_preferences_controller.rb:39:        form_url: healthie_scheduling_preferences_path(care_case_id: current_care_case),
app/controllers/staffers/healthie/scheduling_preferences_controller.rb-40-        readonly: @scheduling_preferences.persisted?
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/scheduling_preferences_controller.rb-41-      )
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/referrals/conversions_controller.rb-48-    def add_state_sponsored_coverage(account)
/Users/jschuss/Brightline/reef/app/controllers/staffers/referrals/conversions_controller.rb-49-      account.care_cases.each do |care_case|
app/controllers/staffers/referrals/conversions_controller.rb:50:        ::Eligibility::StateSponsoredCoverage.verify_and_create!(care_case: care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/referrals/conversions_controller.rb-51-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/referrals/conversions_controller.rb-52-    end
--
app/controllers/staffers/invoices_controller.rb-34-      .with_status(filter_params[:status])
app/controllers/staffers/invoices_controller.rb-35-      .for_case_involving_staffer(filter_params[:staffer_id])
app/controllers/staffers/invoices_controller.rb:36:      .includes(care_case: :patient)
app/controllers/staffers/invoices_controller.rb-37-      .order(created_at: SortOrder.for(filter_params[:sort_order]), id: :asc)
/Users/jschuss/Brightline/reef/app/controllers/staffers/invoices_controller.rb-38-  end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-22-      authorize Goal
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-23-
app/controllers/staffers/healthie/goals_controller.rb:24:      Progress::NewGoal.create!(goal_params: resource_params, care_case: current_care_case, staffer: current_staffer)
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-25-
app/controllers/staffers/healthie/goals_controller.rb:26:      redirect_to healthie_goals_path(care_case_id: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-27-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-28-
--
app/controllers/staffers/healthie/goals_controller.rb-37-      @goal.update!(resource_params.merge(active: false))
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-38-
app/controllers/staffers/healthie/goals_controller.rb:39:      redirect_to healthie_goals_path(care_case_id: current_care_case_id), notice: "Goal has been retired"
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-40-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goals_controller.rb-41-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/appointment_slots/payment_method_reminders_controller.rb-8-      def create
app/controllers/staffers/care_cases/appointment_slots/payment_method_reminders_controller.rb-9-        @reservation_form = Calendaring::AppointmentSlot::ReservationForm.new(
app/controllers/staffers/care_cases/appointment_slots/payment_method_reminders_controller.rb:10:          care_case: current_care_case,
app/controllers/staffers/care_cases/appointment_slots/payment_method_reminders_controller.rb-11-          appointment_slot_reservation_params:,
app/controllers/staffers/care_cases/appointment_slots/payment_method_reminders_controller.rb-12-          available_slot_params:
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-16-
app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-17-      care_plan = CareDocuments::TherapyCarePlan.create!(
app/controllers/staffers/care_documents/therapy_care_plans_controller.rb:18:        care_case: current_care_case,
app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-19-        staffer: current_staffer,
app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-20-        form_data: form_data_params,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-33-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-34-      impersonate(current_care_case.caregiver.id)
app/controllers/staffers/care_documents/therapy_care_plans_controller.rb:35:      redirect_to members_care_case_therapy_care_plan_url(id: @care_plan.id, care_case_id: current_care_case.id), allow_other_host: true
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-36-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/therapy_care_plans_controller.rb-37-
--
app/controllers/staffers/care_cases/healthie/notes/associated_data_controller.rb-12-          :note_associated_data_modal,
app/controllers/staffers/care_cases/healthie/notes/associated_data_controller.rb-13-          Staffers::Healthie::NotesTable::AssociatedDataModalComponent.new(
app/controllers/staffers/care_cases/healthie/notes/associated_data_controller.rb:14:            care_case: current_care_case,
app/controllers/staffers/care_cases/healthie/notes/associated_data_controller.rb-15-            note: @note
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/healthie/notes/associated_data_controller.rb-16-          ).render_in(view_context)
--
app/controllers/staffers/care_cases/appointment_slots/weekly_calendars_controller.rb-15-            root_appointment_type: root_appointment_type,
app/controllers/staffers/care_cases/appointment_slots/weekly_calendars_controller.rb-16-            appointment_duration: filter_params[:appointment_duration],
app/controllers/staffers/care_cases/appointment_slots/weekly_calendars_controller.rb:17:            care_case: current_care_case,
app/controllers/staffers/care_cases/appointment_slots/weekly_calendars_controller.rb-18-            clinic: clinic,
app/controllers/staffers/care_cases/appointment_slots/weekly_calendars_controller.rb-19-            interpretation_language_id: filter_params[:interpretation_language_id]
--
app/controllers/staffers/care_cases/healthie/notes/unlock_requests_controller.rb-16-          :care_case_healthie_notes_unlock_request_modal,
app/controllers/staffers/care_cases/healthie/notes/unlock_requests_controller.rb-17-          Staffers::Healthie::UnlockNoteRequestModalComponent.new(
app/controllers/staffers/care_cases/healthie/notes/unlock_requests_controller.rb:18:            care_case: current_care_case,
app/controllers/staffers/care_cases/healthie/notes/unlock_requests_controller.rb-19-            note_id:
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/healthie/notes/unlock_requests_controller.rb-20-          ).render_in(view_context)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/wait_list/entries_controller.rb-13-    def new
app/controllers/staffers/wait_list/entries_controller.rb-14-      care_case = CareCase.find(params[:care_case_id])
app/controllers/staffers/wait_list/entries_controller.rb:15:      entry = WaitList::Entry.new(care_case:)
/Users/jschuss/Brightline/reef/app/controllers/staffers/wait_list/entries_controller.rb-16-
app/controllers/staffers/wait_list/entries_controller.rb-17-      render turbo_stream: turbo_stream.update(:modal, Staffers::WaitList::EntryModal.new(entry:))
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/discharge_summaries_controller.rb-16-
app/controllers/staffers/care_documents/discharge_summaries_controller.rb-17-      discharge_summary = CareDocuments::DischargeSummary.create!(
app/controllers/staffers/care_documents/discharge_summaries_controller.rb:18:        care_case: current_care_case,
app/controllers/staffers/care_documents/discharge_summaries_controller.rb-19-        staffer: current_staffer,
app/controllers/staffers/care_documents/discharge_summaries_controller.rb-20-        form_data: form_data_params,
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/discharge_summaries_controller.rb-33-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/discharge_summaries_controller.rb-34-      impersonate(current_care_case.caregiver.id)
app/controllers/staffers/care_documents/discharge_summaries_controller.rb:35:      redirect_to members_care_case_discharge_summary_url(id: @discharge_summary.id, care_case_id: current_care_case.id), allow_other_host: true
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/discharge_summaries_controller.rb-36-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_documents/discharge_summaries_controller.rb-37-
--
app/models/note.rb-11-#  updated_at   :datetime         not null
app/models/note.rb-12-#  account_id   :uuid
app/models/note.rb:13:#  care_case_id :uuid
/Users/jschuss/Brightline/reef/app/models/note.rb-14-#
/Users/jschuss/Brightline/reef/app/models/note.rb-15-# Indexes
--
app/controllers/staffers/care_cases/healthie/notes/linkable_appointments_controller.rb-10-          :care_case_healthie_notes_appointment_link_request_modal,
app/controllers/staffers/care_cases/healthie/notes/linkable_appointments_controller.rb-11-          Staffers::Healthie::LinkableAppointmentsModalComponent.new(
app/controllers/staffers/care_cases/healthie/notes/linkable_appointments_controller.rb:12:            care_case: current_care_case,
app/controllers/staffers/care_cases/healthie/notes/linkable_appointments_controller.rb-13-            note_id: params[:note_id],
app/controllers/staffers/care_cases/healthie/notes/linkable_appointments_controller.rb-14-            appointments: linkable_appointments
--
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb-14-          attribute :cards, DryTypes::Array.of(DryTypes::DashOrSnakeCaseString).meta(description: "The the additional support cards that were rendered, as an array of underscore strings")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb-15-
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb:16:          def self.build(care_case:, cards:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb-17-            new(
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb:18:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb:19:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb-20-              cards: cards
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/rendered.rb-21-            )
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/reminders_controller.rb-15-    def create
app/controllers/staffers/healthie/reminders_controller.rb-16-      new_reminder = TaskManagement::NewReminder.for_care_case(
app/controllers/staffers/healthie/reminders_controller.rb:17:        care_case: current_care_case,
app/controllers/staffers/healthie/reminders_controller.rb-18-        staffer: current_staffer,
app/controllers/staffers/healthie/reminders_controller.rb-19-        params: reminder_params
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/reminders_controller.rb-27-          if created_reminder
app/controllers/staffers/healthie/reminders_controller.rb-28-            flash[:success] = "You have successfully submitted a reminder."
app/controllers/staffers/healthie/reminders_controller.rb:29:            redirect_to healthie_reminders_path(care_case_id: current_care_case_id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/reminders_controller.rb-30-          else
app/controllers/staffers/healthie/reminders_controller.rb-31-            render turbo_stream: [
--
app/controllers/staffers/healthie/reminders_controller.rb-41-        reminder: @reminder,
app/controllers/staffers/healthie/reminders_controller.rb-42-        staffer: current_staffer,
app/controllers/staffers/healthie/reminders_controller.rb:43:        care_case: current_care_case,
app/controllers/staffers/healthie/reminders_controller.rb:44:        form_url: healthie_reminders_path(care_case_id: current_care_case_id),
app/controllers/staffers/healthie/reminders_controller.rb-45-        style: {
app/controllers/staffers/healthie/reminders_controller.rb-46-          custom_button_text: "Add new reminder",
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-11-      @covered_by_california = care_model.brightlife_kids?
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-12-      if show_unified_view?
app/controllers/staffers/care_cases/availabilities_controller.rb:13:        @form = Calendaring::AvailabilityForm.new(**clinic_availability_filter_params.reverse_merge(care_case_id: current_care_case.id, account_id: current_care_case.account.id))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-14-        @form.track_request
app/controllers/staffers/care_cases/availabilities_controller.rb-15-        render :unified_show, layout: "application_strapless"
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-16-      elsif show_clinic_view?
app/controllers/staffers/care_cases/availabilities_controller.rb:17:        @form = Calendaring::AvailabilityForm.new(**clinic_availability_filter_params.reverse_merge(care_case_id: current_care_case.id, account_id: current_care_case.account.id))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-18-        @form.track_request
app/controllers/staffers/care_cases/availabilities_controller.rb-19-        render :clinic_show, layout: "application_strapless"
--
app/controllers/staffers/care_cases/availabilities_controller.rb-21-        @members = CareCaseMember.for(current_care_case, members: care_case_members)
app/controllers/staffers/care_cases/availabilities_controller.rb-22-        @members_with_email = CareCaseMember.for(current_care_case, members: care_case_members.with_email)
app/controllers/staffers/care_cases/availabilities_controller.rb:23:        @additional_required_capabilities = CareCase::DerivedExtraCapabilities.new(care_case: current_care_case).all
app/controllers/staffers/care_cases/availabilities_controller.rb-24-        render :show
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-25-      end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-46-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-47-    def care_model
app/controllers/staffers/care_cases/availabilities_controller.rb:48:      @care_model ||= CareModel.new(care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-49-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-50-
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-66-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-67-    def availability_context
app/controllers/staffers/care_cases/availabilities_controller.rb:68:      Calendaring::AvailabilityContext.new(care_case: current_care_case, member: member, appointment_type: appointment_type, staffers: staffers, request_context: Calendaring::AvailabilityRequestContext.member_support_scheduling)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-69-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-70-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-71-    def staffers
app/controllers/staffers/care_cases/availabilities_controller.rb-72-      if filter_params[:staffer_id].present?
app/controllers/staffers/care_cases/availabilities_controller.rb:73:        [CareCaseStaffer.new(care_case: current_care_case, staffer: Staffer.find(filter_params[:staffer_id]))]
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-74-      else
app/controllers/staffers/care_cases/availabilities_controller.rb-75-        CareCaseStaffer.for(current_care_case, staffers: staffers_for_appointment_type)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-123-
app/controllers/staffers/care_cases/availabilities_controller.rb-124-      if filter_params[:additional_required_capabilities].nil?
app/controllers/staffers/care_cases/availabilities_controller.rb:125:        CareCase::DerivedExtraCapabilities.new(care_case: current_care_case).all
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/availabilities_controller.rb-126-      else
app/controllers/staffers/care_cases/availabilities_controller.rb-127-        Capability.all.select { |capability| filter_params[:additional_required_capabilities].include?(capability.id.to_s) }
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb:13:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb-14-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb-15-            new(
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb:16:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb:17:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb-18-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/viewed.rb-19-          end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-7-    def edit
app/controllers/staffers/care_cases/tags_controller.rb-8-      render turbo_stream: [
app/controllers/staffers/care_cases/tags_controller.rb:9:        turbo_stream.replace(:modal, Staffers::CareCases::EditTagsModal.new(care_case: current_care_case))
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-10-      ]
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-11-    end
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-12-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-13-    def update
app/controllers/staffers/care_cases/tags_controller.rb:14:      CareCaseTagging::Assignment.new(care_case: current_care_case).update_tags(care_case_tags)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-15-
app/controllers/staffers/care_cases/tags_controller.rb-16-      render turbo_stream: [
app/controllers/staffers/care_cases/tags_controller.rb-17-        turbo_stream.update(:modal, ""),
app/controllers/staffers/care_cases/tags_controller.rb-18-        turbo_stream.replace(:care_case_sidebar, Staffers::CareCases::SidebarComponent.new(
app/controllers/staffers/care_cases/tags_controller.rb:19:          care_case: current_care_case,
app/controllers/staffers/care_cases/tags_controller.rb-20-          current_staffer: current_staffer,
app/controllers/staffers/care_cases/tags_controller.rb-21-          coverage_context: CoverageContext.care_case_sidebar(current_care_case)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-25-
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-26-    def destroy
app/controllers/staffers/care_cases/tags_controller.rb:27:      CareCaseTagging::Assignment.new(care_case: current_care_case).remove_tag(params[:id].to_sym)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/tags_controller.rb-28-
app/controllers/staffers/care_cases/tags_controller.rb-29-      render turbo_stream: [
app/controllers/staffers/care_cases/tags_controller.rb-30-        turbo_stream.replace(:care_case_sidebar, Staffers::CareCases::SidebarComponent.new(
app/controllers/staffers/care_cases/tags_controller.rb:31:          care_case: current_care_case,
app/controllers/staffers/care_cases/tags_controller.rb-32-          current_staffer: current_staffer,
app/controllers/staffers/care_cases/tags_controller.rb-33-          coverage_context: CoverageContext.care_case_sidebar(current_care_case)
--
app/controllers/staffers/care_cases/notes_controller.rb-61-        notes: @notes,
app/controllers/staffers/care_cases/notes_controller.rb-62-        errors: @note.errors,
app/controllers/staffers/care_cases/notes_controller.rb:63:        care_case: current_care_case,
app/controllers/staffers/care_cases/notes_controller.rb-64-        service_line_referrals: @old_service_line_referrals
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/notes_controller.rb-65-      ).render_in(view_context)
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/reminders_controller.rb-27-    def create
app/controllers/staffers/care_cases/reminders_controller.rb-28-      new_reminder = TaskManagement::NewReminder.for_care_case(
app/controllers/staffers/care_cases/reminders_controller.rb:29:        care_case: current_care_case,
app/controllers/staffers/care_cases/reminders_controller.rb-30-        staffer: current_staffer,
app/controllers/staffers/care_cases/reminders_controller.rb-31-        params: reminder_params
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/reminders_controller.rb-45-              turbo_stream.update(
app/controllers/staffers/care_cases/reminders_controller.rb-46-                :reminder_form,
app/controllers/staffers/care_cases/reminders_controller.rb:47:                Staffers::TaskManagement::ReminderFormComponent.new(reminder: @reminder, staffer: current_staffer, care_case: current_care_case)
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/reminders_controller.rb-48-              )
/Users/jschuss/Brightline/reef/app/controllers/staffers/care_cases/reminders_controller.rb-49-            ]
--
app/models/payment_form_assignment.rb-10-#  created_at          :datetime         not null
app/models/payment_form_assignment.rb-11-#  updated_at          :datetime         not null
app/models/payment_form_assignment.rb:12:#  care_case_id        :uuid
app/models/payment_form_assignment.rb-13-#  completed_by_id     :uuid
app/models/payment_form_assignment.rb-14-#  completed_form_id   :uuid
--
/Users/jschuss/Brightline/reef/app/models/payment_form_assignment.rb-25-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/payment_form_assignment.rb-26-#
app/models/payment_form_assignment.rb:27:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/payment_form_assignment.rb-28-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/payment_form_assignment.rb-29-#
--
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-15-          attribute :account_id, DryTypes::Coercible::String.meta(description: "The account ID of the member who clicked the card")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-16-
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb:17:          def self.build(care_case_id:, card:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-18-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-19-            new(
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-20-              account_id: care_case.account.id,
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb:21:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb:22:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-23-              card: card&.underscore
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/additional_support_cards/clicked.rb-24-            )
--
app/controllers/staffers/healthie/assignments_controller.rb-23-        content_id: resource_params[:exercise_id],
app/controllers/staffers/healthie/assignments_controller.rb-24-        content_type: resource_params[:document_type_id],
app/controllers/staffers/healthie/assignments_controller.rb:25:        care_case_id: params[:care_case_id] || current_care_case_id
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/assignments_controller.rb-26-      })
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/assignments_controller.rb-27-
--
app/controllers/staffers/healthie/assignments_controller.rb-29-        impersonate(resource_params[:member_id])
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/assignments_controller.rb-30-
app/controllers/staffers/healthie/assignments_controller.rb:31:        redirect_to edit_members_care_case_assigned_exercise_url(id: assigned_exercise, care_case_id: current_care_case, subdomain: "app"), allow_other_host: true
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/assignments_controller.rb-32-      else
app/controllers/staffers/healthie/assignments_controller.rb-33-        flash[:success] = "#{assigned_exercise.exercise.section.titleize} assigned successfully."
app/controllers/staffers/healthie/assignments_controller.rb:34:        redirect_to healthie_assignments_path(care_case_id: current_care_case_id)
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/assignments_controller.rb-35-      end
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/assignments_controller.rb-36-    end
--
app/models/member_cost_share_display_log.rb-9-#  created_at   :datetime         not null
app/models/member_cost_share_display_log.rb-10-#  updated_at   :datetime         not null
app/models/member_cost_share_display_log.rb:11:#  care_case_id :uuid
/Users/jschuss/Brightline/reef/app/models/member_cost_share_display_log.rb-12-#
/Users/jschuss/Brightline/reef/app/models/member_cost_share_display_log.rb-13-# Indexes
--
app/models/care_case_covered_entity.rb-8-#  created_at        :datetime         not null
app/models/care_case_covered_entity.rb-9-#  updated_at        :datetime         not null
app/models/care_case_covered_entity.rb:10:#  care_case_id      :uuid             not null
app/models/care_case_covered_entity.rb-11-#  covered_entity_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-12-#
--
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-18-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-19-#
app/models/care_case_covered_entity.rb:20:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-21-#  fk_rails_...  (covered_entity_id => covered_entities.id)
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-22-#
--
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-43-    return if valid
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-44-
app/models/care_case_covered_entity.rb:45:    errors.add(:covered_entity, :overlapping, care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-46-  end
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-47-
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-48-  def broadcast
app/models/care_case_covered_entity.rb-49-    EventSystem::Publisher.broadcast(
app/models/care_case_covered_entity.rb:50:      CoverageAddedToCareCaseEvent.new(care_case: care_case, covered_entity: covered_entity)
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-51-    )
/Users/jschuss/Brightline/reef/app/models/care_case_covered_entity.rb-52-  end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb:13:          def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb-14-            new(
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb:15:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb:16:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb-17-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/rendered.rb-18-          end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/base_controller.rb-124-  def error_component
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/base_controller.rb-125-    error_component_class.new(
app/controllers/staffers/healthie/base_controller.rb:126:      care_case_id: current_care_case&.id
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/base_controller.rb-127-    )
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/base_controller.rb-128-  end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb:13:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb-14-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb-15-            new(
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb:16:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb:17:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb-18-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/viewed.rb-19-          end
--
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goal_entries_controller.rb-10-      current_care_case = goal.care_case
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goal_entries_controller.rb-11-      if goal_entry.save
app/controllers/staffers/healthie/goal_entries_controller.rb:12:        redirect_to healthie_goals_path(care_case_id: current_care_case), notice: "Your Goal rating has been submitted"
/Users/jschuss/Brightline/reef/app/controllers/staffers/healthie/goal_entries_controller.rb-13-      else
app/controllers/staffers/healthie/goal_entries_controller.rb-14-        redirect_to healthie_goal_path(goal), alert: "There was a problem saving your Rating"
--
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-15-          attribute :account_id, DryTypes::Coercible::String.meta(description: "The account ID of the member who clicked the card")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-16-
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb:17:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-18-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-19-            new(
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-20-              account_id: care_case.account.id,
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb:21:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb:22:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-23-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/safety_resources_card/clicked.rb-24-          end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb:13:          def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb-14-            new(
app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb:15:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb:16:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb-17-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/rendered.rb-18-          end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb-13-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb-14-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb:15:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb-16-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb-17-            new(
app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb:18:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb:19:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb-20-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/viewed.rb-21-          end
--
app/models/healthie/care_case_migration.rb-16-#  created_at                                     :datetime         not null
app/models/healthie/care_case_migration.rb-17-#  updated_at                                     :datetime         not null
app/models/healthie/care_case_migration.rb:18:#  care_case_id                                   :uuid             not null
/Users/jschuss/Brightline/reef/app/models/healthie/care_case_migration.rb-19-#
/Users/jschuss/Brightline/reef/app/models/healthie/care_case_migration.rb-20-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/healthie/care_case_migration.rb-24-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/healthie/care_case_migration.rb-25-#
app/models/healthie/care_case_migration.rb:26:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/healthie/care_case_migration.rb-27-#
/Users/jschuss/Brightline/reef/app/models/healthie/care_case_migration.rb-28-module Healthie
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb-12-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb-13-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb:14:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb-15-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb-16-            new(
app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb:17:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb:18:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb-19-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/get_care_card/clicked.rb-20-          end
--
app/models/appointment_reservation.rb-11-#  updated_at                 :datetime         not null
app/models/appointment_reservation.rb-12-#  appointment_type_id        :string
app/models/appointment_reservation.rb:13:#  care_case_id               :uuid             not null
app/models/appointment_reservation.rb-14-#  interpretation_language_id :string
app/models/appointment_reservation.rb-15-#  staffer_id                 :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/appointment_reservation.rb-22-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/appointment_reservation.rb-23-#
app/models/appointment_reservation.rb:24:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/appointment_reservation.rb-25-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/appointment_reservation.rb-26-#
--
app/models/analytics/event/onboarding_product_offerings/viewed.rb-15-        attribute :variation, DryTypes::Coercible::String.meta(description: "The variation of the page, content_forward or care_forward")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/viewed.rb-16-
app/models/analytics/event/onboarding_product_offerings/viewed.rb:17:        def self.build(care_case:, variation:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/viewed.rb-18-          new(
app/models/analytics/event/onboarding_product_offerings/viewed.rb:19:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/viewed.rb:20:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/onboarding_product_offerings/viewed.rb-21-            variation: variation
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/viewed.rb-22-          )
--
app/models/ongoing_eligibility_check.rb-12-#  account_id        :uuid             not null
app/models/ongoing_eligibility_check.rb-13-#  adjudicator_id    :uuid
app/models/ongoing_eligibility_check.rb:14:#  care_case_id      :uuid
app/models/ongoing_eligibility_check.rb-15-#  covered_entity_id :uuid
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility_check.rb-16-#
--
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility_check.rb-27-#  fk_rails_...  (account_id => accounts.id)
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility_check.rb-28-#  fk_rails_...  (adjudicator_id => staffers.id)
app/models/ongoing_eligibility_check.rb:29:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility_check.rb-30-#  fk_rails_...  (covered_entity_id => covered_entities.id)
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility_check.rb-31-#
--
app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb-13-          attribute :cards, DryTypes::Array.of(DryTypes::DashOrSnakeCaseString).meta(description: "The names of the cards that were rendered")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb-14-
app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb:15:          def self.build(care_case:, cards:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb-16-            new(
app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb:17:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb:18:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb-19-              cards: cards&.map(&:downcase)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/rendered.rb-20-            )
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb-12-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb-13-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb:14:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb-15-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb-16-            new(
app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb:17:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb:18:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb-19-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/viewed.rb-20-          end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb:13:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb-14-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb-15-            new(
app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb:16:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb:17:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb-18-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/article_cards/clicked.rb-19-          end
--
app/models/healthie/webhooks/form_answer_group.rb-63-          title: form_answer_group.custom_module_form&.name
/Users/jschuss/Brightline/reef/app/models/healthie/webhooks/form_answer_group.rb-64-        ).find_or_create_by!(
app/models/healthie/webhooks/form_answer_group.rb:65:          care_case:,
app/models/healthie/webhooks/form_answer_group.rb-66-          staffer:,
app/models/healthie/webhooks/form_answer_group.rb-67-          healthie_record_id: form_answer_group.id
--
app/models/healthie/processed_record.rb-16-#  updated_at         :datetime         not null
app/models/healthie/processed_record.rb-17-#  appointment_id     :uuid
app/models/healthie/processed_record.rb:18:#  care_case_id       :uuid             not null
app/models/healthie/processed_record.rb-19-#  healthie_record_id :string
app/models/healthie/processed_record.rb-20-#  staffer_id         :uuid
--
/Users/jschuss/Brightline/reef/app/models/healthie/processed_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/healthie/processed_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/healthie/processed_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/healthie/processed_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/healthie/processed_record.rb-33-#
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb:13:          def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb-14-            new(
app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb:15:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb:16:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb-17-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/rendered.rb-18-          end
--
app/models/healthie/records/form_answer_group_record.rb-16-#  updated_at         :datetime         not null
app/models/healthie/records/form_answer_group_record.rb-17-#  appointment_id     :uuid
app/models/healthie/records/form_answer_group_record.rb:18:#  care_case_id       :uuid             not null
app/models/healthie/records/form_answer_group_record.rb-19-#  healthie_record_id :string
app/models/healthie/records/form_answer_group_record.rb-20-#  staffer_id         :uuid
--
/Users/jschuss/Brightline/reef/app/models/healthie/records/form_answer_group_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/healthie/records/form_answer_group_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/healthie/records/form_answer_group_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/healthie/records/form_answer_group_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/healthie/records/form_answer_group_record.rb-33-#
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-5-    class DisengagedGroup
app/models/caseloads/care_case_grouping/disengaged_group.rb-6-      class CaseData < Struct.new(:care_case, :cadence, :slots_badge, :total_appointments_completed, :last_completed_appointment, :recent_activity, keyword_init: true)
app/models/caseloads/care_case_grouping/disengaged_group.rb:7:        def self.build(care_case:, appointments:, slots:, recent_activity:)
app/models/caseloads/care_case_grouping/disengaged_group.rb-8-          # TODO: Maybe add logic to only count appointments after last completed intake?  Or to take into account staffer?
app/models/caseloads/care_case_grouping/disengaged_group.rb-9-          total_appointments_completed = appointments.select(&:completed?).count
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-18-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-19-          new(
app/models/caseloads/care_case_grouping/disengaged_group.rb:20:            care_case:,
app/models/caseloads/care_case_grouping/disengaged_group.rb-21-            cadence: cadence,
app/models/caseloads/care_case_grouping/disengaged_group.rb-22-            slots_badge: !slots.blank?,
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-39-      def data
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-40-        care_cases.map do |care_case|
app/models/caseloads/care_case_grouping/disengaged_group.rb:41:          CaseData.build(care_case: care_case, appointments: appointments[care_case.id], slots: slots[care_case.id], recent_activity: recent_activity_by_care_case[care_case.id])
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-42-        end.sort_by { |case_data| case_data.last_completed_appointment.start_time }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-43-      end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-46-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-47-      def recent_activity_by_care_case
app/models/caseloads/care_case_grouping/disengaged_group.rb:48:        Caseloads::RecentActivity.new(staffer:, appointments_by_care_case: appointments).last_n_weeks(5)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-49-      end
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/disengaged_group.rb-50-    end
--
app/models/discharge.rb-18-#  updated_at                              :datetime         not null
app/models/discharge.rb-19-#  appointment_id                          :uuid
app/models/discharge.rb:20:#  care_case_id                            :uuid             not null
app/models/discharge.rb-21-#  discharge_reason_id                     :string
app/models/discharge.rb-22-#  processed_welkin_assessment_response_id :bigint
--
/Users/jschuss/Brightline/reef/app/models/discharge.rb-34-#
/Users/jschuss/Brightline/reef/app/models/discharge.rb-35-#  fk_rails_...  (appointment_id => appointments.id)
app/models/discharge.rb:36:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/discharge.rb-37-#  fk_rails_...  (processed_welkin_assessment_response_id => processed_welkin_assessment_responses.id)
/Users/jschuss/Brightline/reef/app/models/discharge.rb-38-#  fk_rails_...  (staffer_id => staffers.id)
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb:13:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb-14-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb-15-            new(
app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb:16:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb:17:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb-18-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/viewed.rb-19-          end
--
app/models/healthie/records/appointment_record.rb-16-#  updated_at         :datetime         not null
app/models/healthie/records/appointment_record.rb-17-#  appointment_id     :uuid
app/models/healthie/records/appointment_record.rb:18:#  care_case_id       :uuid             not null
app/models/healthie/records/appointment_record.rb-19-#  healthie_record_id :string
app/models/healthie/records/appointment_record.rb-20-#  staffer_id         :uuid
--
/Users/jschuss/Brightline/reef/app/models/healthie/records/appointment_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/healthie/records/appointment_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/healthie/records/appointment_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/healthie/records/appointment_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/healthie/records/appointment_record.rb-33-#
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-5-    class RecentlyDischargedGroup
app/models/caseloads/care_case_grouping/recently_discharged_group.rb-6-      class CaseData < Struct.new(:care_case, :total_appointments_completed, :last_completed_appointment, :recent_activity, keyword_init: true)
app/models/caseloads/care_case_grouping/recently_discharged_group.rb:7:        def self.build(care_case:, appointments:, recent_activity:)
app/models/caseloads/care_case_grouping/recently_discharged_group.rb-8-          # TODO: Maybe add logic to only count appointments after last completed intake?  Or to take into account staffer?
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-9-          total_appointments_completed = appointments.select { |appointment| appointment.completed? }.count
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-10-          last_completed_appointment = appointments.select { |appointment| appointment.completed? }.max_by { |appointment| appointment.start_time }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-11-          new(
app/models/caseloads/care_case_grouping/recently_discharged_group.rb:12:            care_case:,
app/models/caseloads/care_case_grouping/recently_discharged_group.rb-13-            total_appointments_completed:,
app/models/caseloads/care_case_grouping/recently_discharged_group.rb-14-            last_completed_appointment:,
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-29-      def data
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-30-        care_cases.map do |care_case|
app/models/caseloads/care_case_grouping/recently_discharged_group.rb:31:          CaseData.build(care_case: care_case, appointments: appointments[care_case.id], recent_activity: recent_activity_by_care_case[care_case.id])
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-32-        end.sort_by { |case_data| case_data.last_completed_appointment.start_time }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-33-      end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-36-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-37-      def recent_activity_by_care_case
app/models/caseloads/care_case_grouping/recently_discharged_group.rb:38:        Caseloads::RecentActivity.new(staffer:, appointments_by_care_case: appointments).last_n_weeks(5)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-39-      end
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/recently_discharged_group.rb-40-    end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb-11-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb-12-          care_case_id_attributes
app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb:13:          def self.build(care_case_id:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb-14-            care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb-15-            new(
app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb:16:              care_case_id: care_case.id,
app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb:17:              proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb-18-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/library_card/clicked.rb-19-          end
--
app/models/healthie/webhooks/appointment.rb-27-        Healthie::Records::AppointmentRecord.find_or_create_by!(
app/models/healthie/webhooks/appointment.rb-28-          appointment: reef_appointment,
app/models/healthie/webhooks/appointment.rb:29:          care_case:,
app/models/healthie/webhooks/appointment.rb-30-          healthie_record_id: healthie_appointment.id
/Users/jschuss/Brightline/reef/app/models/healthie/webhooks/appointment.rb-31-        ).tap do |record|
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-33-          appointment = appointments[care_case.id].select { |appointment| appointment.appointment_type.for_intake? && appointment.scheduled? }.min_by { |appointment| appointment.start_time }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-34-          CaseData.new(
app/models/caseloads/care_case_grouping/upcoming_intake_group.rb:35:            care_case: care_case,
app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-36-            appointment: appointment,
app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-37-            assessments: assessments[care_case.id]&.sort_by { |assessment| ASSESSMENT_IDS.index(assessment.assessment_id.to_sym) }
--
app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-57-          inner_query = ::AssessmentAssignment.completed.where(
app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-58-            assessment_id: ASSESSMENT_IDS,
app/models/caseloads/care_case_grouping/upcoming_intake_group.rb:59:            care_case_id: care_cases.map(&:id)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-60-          ).select(select_statement).to_sql
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/upcoming_intake_group.rb-61-
--
app/models/medical_history.rb-15-#  created_at               :datetime         not null
app/models/medical_history.rb-16-#  updated_at               :datetime         not null
app/models/medical_history.rb:17:#  care_case_id             :uuid             not null
/Users/jschuss/Brightline/reef/app/models/medical_history.rb-18-#
/Users/jschuss/Brightline/reef/app/models/medical_history.rb-19-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/medical_history.rb-23-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/medical_history.rb-24-#
app/models/medical_history.rb:25:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/medical_history.rb-26-#
/Users/jschuss/Brightline/reef/app/models/medical_history.rb-27-class MedicalHistory < ApplicationRecord
--
app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb-11-          attribute :care_case_id, DryTypes::Coercible::String.meta(description: "The CareCase id for the current patient")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb-12-
app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb:13:          def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb-14-            new(
app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb:15:              care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb-16-            )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_product_offerings/coaching_card/rendered.rb-17-          end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-5-    class OngoingGroup
app/models/caseloads/care_case_grouping/ongoing_group.rb-6-      class CaseData < Struct.new(:care_case, :cadence, :slots_badge, :total_appointments_completed, :future_appointments_scheduled, :next_appointment, :recent_activity, keyword_init: true)
app/models/caseloads/care_case_grouping/ongoing_group.rb:7:        def self.build(care_case:, appointments:, slots:, recent_activity:)
app/models/caseloads/care_case_grouping/ongoing_group.rb-8-          # TODO: Maybe add logic to only count appointments after last completed intake?  Or to take into account staffer?
app/models/caseloads/care_case_grouping/ongoing_group.rb-9-          total_appointments_completed = appointments.select(&:completed?).count
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-19-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-20-          new(
app/models/caseloads/care_case_grouping/ongoing_group.rb:21:            care_case:,
app/models/caseloads/care_case_grouping/ongoing_group.rb-22-            cadence: cadence,
app/models/caseloads/care_case_grouping/ongoing_group.rb-23-            slots_badge: !slots.blank?,
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-41-      def data
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-42-        care_cases.map do |care_case|
app/models/caseloads/care_case_grouping/ongoing_group.rb:43:          CaseData.build(care_case: care_case, appointments: appointments[care_case.id], slots: slots[care_case.id], recent_activity: recent_activity_by_care_case[care_case.id])
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-44-        end.sort_by { |case_data| case_data.care_case.patient.full_name("Unknown", "Unknown") }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-45-      end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-48-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-49-      def recent_activity_by_care_case
app/models/caseloads/care_case_grouping/ongoing_group.rb:50:        Caseloads::RecentActivity.new(staffer:, appointments_by_care_case: appointments).last_n_weeks(5)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-51-      end
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/ongoing_group.rb-52-    end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/other_group.rb-15-      def data
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/other_group.rb-16-        care_cases.map do |care_case|
app/models/caseloads/care_case_grouping/other_group.rb:17:          CaseData.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/other_group.rb-18-        end.sort_by { |case_data| case_data.care_case.patient.full_name("Unknown", "Unknown") }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/other_group.rb-19-      end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/intake_completed_no_ongoing_group.rb-17-        care_cases.map do |care_case|
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/intake_completed_no_ongoing_group.rb-18-          appointment = appointments[care_case.id].select { |appointment| appointment.appointment_type.for_intake? && appointment.completed? }.max_by { |appointment| appointment.start_time }
app/models/caseloads/care_case_grouping/intake_completed_no_ongoing_group.rb:19:          CaseData.new(care_case: care_case, appointment: appointment)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/intake_completed_no_ongoing_group.rb-20-        end.sort_by { |case_data| case_data.appointment.start_time }
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping/intake_completed_no_ongoing_group.rb-21-      end
--
app/models/collection/candid/create_patient_responsibility.rb-57-        Billing::PatientResponsibilityInvoice.generate!(
app/models/collection/candid/create_patient_responsibility.rb-58-          patient_responsibility: patient_responsibility,
app/models/collection/candid/create_patient_responsibility.rb:59:          care_case: care_case
/Users/jschuss/Brightline/reef/app/models/collection/candid/create_patient_responsibility.rb-60-        )
/Users/jschuss/Brightline/reef/app/models/collection/candid/create_patient_responsibility.rb-61-      end
--
app/models/analytics/event/account_benefit_coverage_indication_yes/clicked.rb-12-        attribute :care_case_id, DryTypes::Coercible::String.meta(description: "The ID of the care case")
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication_yes/clicked.rb-13-
app/models/analytics/event/account_benefit_coverage_indication_yes/clicked.rb:14:        def self.build(care_case:)
app/models/analytics/event/account_benefit_coverage_indication_yes/clicked.rb:15:          new(care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication_yes/clicked.rb-16-        end
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication_yes/clicked.rb-17-      end
--
app/models/iterable/webhook_record.rb-12-#  updated_at     :datetime         not null
app/models/iterable/webhook_record.rb-13-#  appointment_id :uuid
app/models/iterable/webhook_record.rb:14:#  care_case_id   :uuid
app/models/iterable/webhook_record.rb-15-#  member_id      :uuid
app/models/iterable/webhook_record.rb-16-#  staffer_id     :uuid
--
/Users/jschuss/Brightline/reef/app/models/iterable/webhook_record.rb-43-
/Users/jschuss/Brightline/reef/app/models/iterable/webhook_record.rb-44-      self.appointment_id = appointment&.id
app/models/iterable/webhook_record.rb:45:      self.care_case_id = care_case&.id
/Users/jschuss/Brightline/reef/app/models/iterable/webhook_record.rb-46-      self.staffer_id = staffer&.id
/Users/jschuss/Brightline/reef/app/models/iterable/webhook_record.rb-47-    end
--
app/models/caseloads/recent_activity.rb-15-    attr_reader :staffer, :appointments_by_care_case
/Users/jschuss/Brightline/reef/app/models/caseloads/recent_activity.rb-16-
app/models/caseloads/recent_activity.rb:17:    def initialize(staffer:, appointments_by_care_case:)
/Users/jschuss/Brightline/reef/app/models/caseloads/recent_activity.rb-18-      @staffer = staffer
/Users/jschuss/Brightline/reef/app/models/caseloads/recent_activity.rb-19-      @appointments_by_care_case = appointments_by_care_case
--
app/models/iterable/event/coverage/confirmed.rb-8-      attr_reader :account, :member, :covered_entity, :care_case
/Users/jschuss/Brightline/reef/app/models/iterable/event/coverage/confirmed.rb-9-
app/models/iterable/event/coverage/confirmed.rb:10:      def initialize(care_case:, member:, covered_entity:)
app/models/iterable/event/coverage/confirmed.rb-11-        super(account: care_case.account, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/coverage/confirmed.rb-12-        @covered_entity = covered_entity
--
app/models/iterable/event/coverage/confirmed.rb-28-          sponsor_id: covered_entity.sponsor&.id,
app/models/iterable/event/coverage/confirmed.rb-29-          payer_id: covered_entity.payer&.id,
app/models/iterable/event/coverage/confirmed.rb:30:          care_case_id: care_case.id,
app/models/iterable/event/coverage/confirmed.rb-31-          account_covered: covered_entity.account_covered?,
app/models/iterable/event/coverage/confirmed.rb-32-          service_lines: covered_entity.active_contract_version&.service_lines
--
app/models/care_case_promotion.rb-9-#  created_at   :datetime         not null
app/models/care_case_promotion.rb-10-#  updated_at   :datetime         not null
app/models/care_case_promotion.rb:11:#  care_case_id :uuid             not null
app/models/care_case_promotion.rb-12-#  promotion_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_case_promotion.rb-13-#
--
/Users/jschuss/Brightline/reef/app/models/care_case_promotion.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case_promotion.rb-20-#
app/models/care_case_promotion.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case_promotion.rb-22-#  fk_rails_...  (promotion_id => promotions.id)
/Users/jschuss/Brightline/reef/app/models/care_case_promotion.rb-23-#
--
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-50-
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-51-      def care_team
app/models/healthie/patient/payload.rb:52:        @care_team ||= Healthie::Patient::CareTeam.new(care_case:)
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-53-      end
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-54-
--
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-66-
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-67-      def location
app/models/healthie/patient/payload.rb:68:        Healthie::Patient::Location::Payload.for(care_case:, healthie_location: healthie_patient&.location)
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-69-      end
/Users/jschuss/Brightline/reef/app/models/healthie/patient/payload.rb-70-    end
--
/Users/jschuss/Brightline/reef/app/models/healthie/notification_contacts.rb-3-module Healthie
/Users/jschuss/Brightline/reef/app/models/healthie/notification_contacts.rb-4-  class NotificationContacts
app/models/healthie/notification_contacts.rb:5:    def self.for(care_case:)
/Users/jschuss/Brightline/reef/app/models/healthie/notification_contacts.rb-6-      contacts = care_case.case_roles
/Users/jschuss/Brightline/reef/app/models/healthie/notification_contacts.rb-7-        .where
--
app/models/caseloads/care_case_grouping.rb-46-          .where.not(operational_status: "inactive")
app/models/caseloads/care_case_grouping.rb-47-          .or(staffer_cases.where(id: staffer.appointments.upcoming.scheduled.pluck(:care_case_id)))
app/models/caseloads/care_case_grouping.rb:48:          .or(staffer_cases.where(id: Discharge.where(care_case: staffer_cases).where("last_session_on >= ?", discharge_threshold).pluck(:care_case_id)))
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-49-          .distinct
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-50-      end
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-61-    def appointments_by_care_case
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-62-      @appointments_by_care_case ||= begin
app/models/caseloads/care_case_grouping.rb:63:        appointments = Appointment.where(care_case_id: all_care_case_ids, appointment_type_id: appointment_type_ids_for_service_line) # .group_by(&:care_case_id)
app/models/caseloads/care_case_grouping.rb:64:        holds = Calendaring::Hold.where(status: Calendaring::AppointmentHoldStatus.held, care_case_id: all_care_case_ids, appointment_type_id: appointment_type_ids_for_service_line) # .group_by(&:care_case_id)
app/models/caseloads/care_case_grouping.rb-65-        (appointments + holds).group_by(&:care_case_id).transform_values do |appointments|
app/models/caseloads/care_case_grouping.rb-66-          appointments.sort_by(&:start_time)
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-70-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-71-    def discharges_by_care_case
app/models/caseloads/care_case_grouping.rb:72:      @discharges_by_care_case ||= Discharge.where(care_case_id: all_care_case_ids).group_by(&:care_case_id)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-73-    end
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-74-
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-75-    def slots_by_care_case
app/models/caseloads/care_case_grouping.rb:76:      @slots_by_care_case ||= Calendaring::AppointmentSlot::Reservation.active.where(care_case_id: all_care_case_ids).group_by(&:care_case_id)
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-77-    end
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_grouping.rb-78-
--
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-16-        raise eligibility_error unless eligible?
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-17-
app/models/iterable/processors/autodeactivation_processor.rb:18:        CareCase::Autodeactivate.call!(care_case:, with_note_body: NOTE_BODY)
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-19-      rescue CareCaseIneligibleError
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-20-        Rails.logger.info "Care case #{care_case&.id} failed auto-deactivation"
--
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-28-
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-29-      def eligible?
app/models/iterable/processors/autodeactivation_processor.rb:30:        CareCase::Autodeactivation::Eligibility.eligible?(care_case:)
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-31-      end
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-32-
--
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-37-      class CareCaseIneligibleError < BrightlineError
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-38-        def initialize(care_case)
app/models/iterable/processors/autodeactivation_processor.rb:39:          super("Care case is not eligible", error_context: {care_case: care_case})
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-40-        end
/Users/jschuss/Brightline/reef/app/models/iterable/processors/autodeactivation_processor.rb-41-      end
--
/Users/jschuss/Brightline/reef/app/models/healthie/patient/location.rb-5-    class Location
/Users/jschuss/Brightline/reef/app/models/healthie/patient/location.rb-6-      class Payload
app/models/healthie/patient/location.rb:7:        def self.for(care_case:, healthie_location: nil)
/Users/jschuss/Brightline/reef/app/models/healthie/patient/location.rb-8-          member = care_case.patient
/Users/jschuss/Brightline/reef/app/models/healthie/patient/location.rb-9-          return unless member.has_full_address? || healthie_location.present? # Ensure we can sync if have an address we want to now redact
--
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_inferred_caseload.rb-79-              count(distinct recently_completed_or_future_appt.care_case_id) as caseload
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_inferred_caseload.rb-80-            from recently_completed_or_future_appt
app/models/caseloads/care_case_inferred_caseload.rb:81:              inner join care_cases on recently_completed_or_future_appt.care_case_id = care_cases.id
app/models/caseloads/care_case_inferred_caseload.rb:82:              inner join completed_appt on recently_completed_or_future_appt.care_case_id = completed_appt.care_case_id
app/models/caseloads/care_case_inferred_caseload.rb:83:              left join recent_discharges on recent_discharges.care_case_id = completed_appt.care_case_id
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_inferred_caseload.rb-84-                and recent_discharges.staffer_id = recently_completed_or_future_appt.staffer_id and recent_discharges.last_session_on >= last_appt_date - 1
/Users/jschuss/Brightline/reef/app/models/caseloads/care_case_inferred_caseload.rb-85-            where
--
app/models/goal.rb-20-#  created_at                              :datetime         not null
app/models/goal.rb-21-#  updated_at                              :datetime         not null
app/models/goal.rb:22:#  care_case_id                            :uuid             not null
app/models/goal.rb-23-#  processed_welkin_assessment_response_id :bigint
app/models/goal.rb-24-#  staffer_id                              :uuid
--
/Users/jschuss/Brightline/reef/app/models/goal.rb-32-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/goal.rb-33-#
app/models/goal.rb:34:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/goal.rb-35-#  fk_rails_...  (processed_welkin_assessment_response_id => processed_welkin_assessment_responses.id)
/Users/jschuss/Brightline/reef/app/models/goal.rb-36-#  fk_rails_...  (staffer_id => staffers.id)
--
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb-13-        attribute :organization_flow, DryTypes::Coercible::String.meta(description: "Which enterprise coverage flow the user is in, padpm, pepm, or unknown. This appears to be hardcoded as PADPM")
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb-14-
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb:15:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb-16-          new(
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb:17:            care_case_id: care_case.id,
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb:18:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb-19-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/skipped.rb-20-          )
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-13-        care_case.caregivers.each do |member|
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-14-          track(
app/models/iterable/event/clinical_referral/initiated.rb:15:            care_case:,
app/models/iterable/event/clinical_referral/initiated.rb-16-            member:,
app/models/iterable/event/clinical_referral/initiated.rb-17-            account: event.account,
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-21-      end
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-22-
app/models/iterable/event/clinical_referral/initiated.rb:23:      def initialize(member:, account:, care_case:, initiated_at:)
app/models/iterable/event/clinical_referral/initiated.rb-24-        super(account:, member:)
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-25-
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-37-      def event_data
/Users/jschuss/Brightline/reef/app/models/iterable/event/clinical_referral/initiated.rb-38-        {
app/models/iterable/event/clinical_referral/initiated.rb:39:          care_case_id: care_case.id,
app/models/iterable/event/clinical_referral/initiated.rb-40-          member_id: member.id,
app/models/iterable/event/clinical_referral/initiated.rb-41-          initiated_at: initiated_at.iso8601(3)
--
app/models/healthie/patient.rb-89-      care_case.update!(healthie_patient_id: patient.id)
app/models/healthie/patient.rb-90-      Healthie::Api::Patient.update(**Healthie::Patient::Payload.update(care_case, healthie_patient: patient))
app/models/healthie/patient.rb:91:      EventSystem::Publisher.broadcast(HealthiePatientCreatedEvent.new(care_case:))
/Users/jschuss/Brightline/reef/app/models/healthie/patient.rb-92-    end
/Users/jschuss/Brightline/reef/app/models/healthie/patient.rb-93-
--
app/models/healthie/patient/care_team.rb-6-      attr_reader :care_case, :account
/Users/jschuss/Brightline/reef/app/models/healthie/patient/care_team.rb-7-
app/models/healthie/patient/care_team.rb:8:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/healthie/patient/care_team.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/healthie/patient/care_team.rb-10-        @account = care_case.account
--
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb-16-        attribute :member_submitted_payer_name, DryTypes::Coercible::String.meta(description: "The name of the payer the member submitted")
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb-17-
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb:18:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb-19-          new(
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb:20:            care_case_id: care_case.id,
app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb:21:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb-22-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/enterprise_account_sign_up_childrens_coverage_provider/submitted.rb-23-          )
--
app/models/service_line/enrollment.rb-12-#  created_at                  :datetime         not null
app/models/service_line/enrollment.rb-13-#  updated_at                  :datetime         not null
app/models/service_line/enrollment.rb:14:#  care_case_id                :uuid             not null
app/models/service_line/enrollment.rb-15-#  discharge_id                :uuid
app/models/service_line/enrollment.rb-16-#  discharge_referral_id       :uuid
--
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-35-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-36-#
app/models/service_line/enrollment.rb:37:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-38-#  fk_rails_...  (discharge_id => discharges.id)
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-39-#  fk_rails_...  (discharge_referral_id => internal_referrals.id)
--
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-143-      existing_service_line_enrollment = self.class
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-144-        .active
app/models/service_line/enrollment.rb:145:        .where(care_case_id:, service_line_id:)
app/models/service_line/enrollment.rb-146-        .where.not(id:)
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment.rb-147-        .exists?
--
app/models/assignments/assign_paperwork.rb-10-    attr_reader :care_case, :document_type_id, :form_id, :member_id
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-11-
app/models/assignments/assign_paperwork.rb:12:    def initialize(care_case:, document_type_id:, form_id:, member_id:)
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-13-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-14-      @document_type_id = document_type_id.to_sym
--
app/models/assignments/assign_paperwork.rb-44-        assessments_to_retire.each(&:retire!)
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-45-        assessment = Assessment.find(form_id)
app/models/assignments/assign_paperwork.rb:46:        Assessment::CareCaseAssignment.assign!(care_case:, member:, assessment:)
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-47-      end
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-48-    end
--
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-50-    def assign_care_form
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-51-      care_form.assignable_type.create!(
app/models/assignments/assign_paperwork.rb:52:        care_case_id: care_case.id,
app/models/assignments/assign_paperwork.rb-53-        member: member,
app/models/assignments/assign_paperwork.rb-54-        with_assignment: true
--
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-78-
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-79-    def assign_exercises
app/models/assignments/assign_paperwork.rb:80:      ::Assignments::Logic.new(member: member, care_case: care_case, exercise_id: form_id).assign!
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-81-    end
/Users/jschuss/Brightline/reef/app/models/assignments/assign_paperwork.rb-82-
--
app/models/analytics/event/cardiovascular_screen/viewed.rb-16-        attribute :cardiovascular_screen_id, DryTypes::String.meta(description: "Id for the cardiovascular screen")
/Users/jschuss/Brightline/reef/app/models/analytics/event/cardiovascular_screen/viewed.rb-17-
app/models/analytics/event/cardiovascular_screen/viewed.rb:18:        def self.build(account:, care_case:, cardiovascular_screen:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/cardiovascular_screen/viewed.rb-19-          new(
app/models/analytics/event/cardiovascular_screen/viewed.rb-20-            account_id: account.id,
app/models/analytics/event/cardiovascular_screen/viewed.rb:21:            care_case_id: care_case.id,
app/models/analytics/event/cardiovascular_screen/viewed.rb:22:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/cardiovascular_screen/viewed.rb-23-            cardiovascular_screen_id: cardiovascular_screen.id
/Users/jschuss/Brightline/reef/app/models/analytics/event/cardiovascular_screen/viewed.rb-24-          )
--
app/models/assignments/logic.rb-5-    attr_reader :member, :care_case, :assignable
/Users/jschuss/Brightline/reef/app/models/assignments/logic.rb-6-
app/models/assignments/logic.rb:7:    def initialize(member:, care_case:, exercise_id: nil, assignable: nil, content_id: nil)
/Users/jschuss/Brightline/reef/app/models/assignments/logic.rb-8-      @member = member
/Users/jschuss/Brightline/reef/app/models/assignments/logic.rb-9-      @care_case = care_case
--
app/models/assignments/logic.rb-26-            content_id: @content_id,
app/models/assignments/logic.rb-27-            member: member,
app/models/assignments/logic.rb:28:            care_case: care_case,
app/models/assignments/logic.rb-29-            assigned_at: Time.zone.now
/Users/jschuss/Brightline/reef/app/models/assignments/logic.rb-30-          )
--
/Users/jschuss/Brightline/reef/app/models/assignments/logic.rb-32-          assignable.assignments.create!(
app/models/assignments/logic.rb-33-            member: member,
app/models/assignments/logic.rb:34:            care_case: care_case,
app/models/assignments/logic.rb-35-            required_pre_appointment: assignable.required_pre_appointment?,
app/models/assignments/logic.rb-36-            created_at: assignable.created_at
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/discharge_processor.rb-84-      def duplicated_discharge?
/Users/jschuss/Brightline/reef/app/models/healthie/processors/discharge_processor.rb-85-        # Duplicate discharge if its the same care case and staffer and the last session date is the same
app/models/healthie/processors/discharge_processor.rb:86:        Discharge.exists?(care_case: care_case, staffer: staffer, last_session_on: last_session_on)
/Users/jschuss/Brightline/reef/app/models/healthie/processors/discharge_processor.rb-87-      end
/Users/jschuss/Brightline/reef/app/models/healthie/processors/discharge_processor.rb-88-
--
app/models/healthie/processors/discharge_processor.rb-99-          appointment:,
app/models/healthie/processors/discharge_processor.rb-100-          staffer:,
app/models/healthie/processors/discharge_processor.rb:101:          care_case:,
app/models/healthie/processors/discharge_processor.rb-102-          discharge_reason:,
app/models/healthie/processors/discharge_processor.rb-103-          discharge_reason_id:,
--
app/models/iterable/event/safety_risk/endorsed.rb-5-    class SafetyRisk::Endorsed < Helpers::BaseEvent
app/models/iterable/event/safety_risk/endorsed.rb-6-      attr_reader :care_case, :safety_check
app/models/iterable/event/safety_risk/endorsed.rb:7:      def initialize(account:, member:, care_case:, safety_check:)
app/models/iterable/event/safety_risk/endorsed.rb-8-        super(account: account, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/safety_risk/endorsed.rb-9-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/safety_risk/endorsed.rb-17-      def event_data
/Users/jschuss/Brightline/reef/app/models/iterable/event/safety_risk/endorsed.rb-18-        {
app/models/iterable/event/safety_risk/endorsed.rb:19:          care_case_id: care_case.id,
app/models/iterable/event/safety_risk/endorsed.rb-20-          risk_factor_count: safety_check.risk_factors.length
/Users/jschuss/Brightline/reef/app/models/iterable/event/safety_risk/endorsed.rb-21-        }
--
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-31-      member = event.member
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-32-      care_case = member.care_cases.first
app/models/assignments/scheduled_assessment.rb:33:      new(subject: care_case, recipient: member).assign if CareCaseMember.new(care_case:, member:).teen?
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-34-    end
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-35-
--
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-47-    def self.recipients(care_case)
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-48-      patient = care_case.patient
app/models/assignments/scheduled_assessment.rb:49:      [care_case.caregiver, (CareCaseMember.teen?(care_case:, member: patient) ? patient : nil)].compact
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-50-    end
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-51-
--
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-53-      @care_case = subject
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-54-      @member = recipient
app/models/assignments/scheduled_assessment.rb:55:      @care_case_member = CareCaseMember.new(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-56-    end
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-57-
--
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-73-
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-74-      assessments.each do |assessment|
app/models/assignments/scheduled_assessment.rb:75:        Assessment::CareCaseAssignment.assign!(care_case:, member:, assessment:)
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-76-      end
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-77-      schedule_next_assignments if schedule_next
--
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-104-
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-105-    def screener
app/models/assignments/scheduled_assessment.rb:106:      ProgressTracking::Screener.for(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-107-    end
/Users/jschuss/Brightline/reef/app/models/assignments/scheduled_assessment.rb-108-
--
app/models/task_management/overlapping_appointment_reminder.rb-28-      TaskManagement::Reminder.create!(
app/models/task_management/overlapping_appointment_reminder.rb-29-        account: appointment.account,
app/models/task_management/overlapping_appointment_reminder.rb:30:        care_case: appointment.care_case,
app/models/task_management/overlapping_appointment_reminder.rb-31-        group: :member_support,
app/models/task_management/overlapping_appointment_reminder.rb-32-        due_date: Time.zone.now,
--
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment/tasks/enrollment_status.rb-132-        def discharge_for_service_line
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment/tasks/enrollment_status.rb-133-          @discharge ||= Discharge
app/models/service_line/enrollment/tasks/enrollment_status.rb:134:            .where(care_case:, service_line_id: service_line.id)
app/models/service_line/enrollment/tasks/enrollment_status.rb-135-            .order(created_at: :desc)
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment/tasks/enrollment_status.rb-136-            .first
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/assessment/completed.rb-22-          new(
app/models/analytics/event/assessment/completed.rb-23-            account_id: account.id,
app/models/analytics/event/assessment/completed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/assessment/completed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/assessment/completed.rb-26-            assessment_id: assessment_assignment.assessment_id,
app/models/analytics/event/assessment/completed.rb-27-            assessment_assignment_id: assessment_assignment.id
--
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-8-    on(AppointmentCompletedEvent) do |event|
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-9-      call(
app/models/iterable/post_appointment_survey_email.rb:10:        care_case: event.care_case,
app/models/iterable/post_appointment_survey_email.rb-11-        appointment: event.appointment
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-12-      )
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-13-    end
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-14-
app/models/iterable/post_appointment_survey_email.rb:15:    def initialize(care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-16-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-17-      @appointment = appointment
--
app/models/iterable/post_appointment_survey_email.rb-45-          survey_type: ::Survey::Type.post_appointment,
app/models/iterable/post_appointment_survey_email.rb-46-          member: caregiver,
app/models/iterable/post_appointment_survey_email.rb:47:          care_case: care_case,
app/models/iterable/post_appointment_survey_email.rb-48-          subject: appointment
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-49-        )
--
app/models/iterable/post_appointment_survey_email.rb-60-        survey_type: ::Survey::Type.post_appointment,
app/models/iterable/post_appointment_survey_email.rb-61-        member: patient,
app/models/iterable/post_appointment_survey_email.rb:62:        care_case: care_case,
app/models/iterable/post_appointment_survey_email.rb-63-        subject: appointment
/Users/jschuss/Brightline/reef/app/models/iterable/post_appointment_survey_email.rb-64-      )
--
app/models/iterable/event/care_navigation/started.rb-6-      attr_reader :account, :member, :care_case, :service_line_recommendation
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_navigation/started.rb-7-
app/models/iterable/event/care_navigation/started.rb:8:      def initialize(account:, member:, care_case:, service_line_recommendation:)
app/models/iterable/event/care_navigation/started.rb-9-        super(account: account, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_navigation/started.rb-10-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_navigation/started.rb-24-        patient_info = care_case.patient.caregiver_provided_patient_information
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_navigation/started.rb-25-        {
app/models/iterable/event/care_navigation/started.rb:26:          care_case_id: care_case.id,
app/models/iterable/event/care_navigation/started.rb-27-          patient_age: care_case.patient.age,
app/models/iterable/event/care_navigation/started.rb-28-          focus_areas: patient_info&.focus_areas,
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/assessment/viewed.rb-22-          new(
app/models/analytics/event/assessment/viewed.rb-23-            account_id: account.id,
app/models/analytics/event/assessment/viewed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/assessment/viewed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/assessment/viewed.rb-26-            assessment_id: assessment_assignment.assessment_id,
app/models/analytics/event/assessment/viewed.rb-27-            assessment_assignment_id: assessment_assignment.id
--
/Users/jschuss/Brightline/reef/app/models/task_management/new_reminder.rb-6-      end
/Users/jschuss/Brightline/reef/app/models/task_management/new_reminder.rb-7-
app/models/task_management/new_reminder.rb:8:      def for_care_case(care_case:, staffer:, params:)
/Users/jschuss/Brightline/reef/app/models/task_management/new_reminder.rb-9-        account = care_case.account
app/models/task_management/new_reminder.rb-10-        params = params.merge(account_id: account.id)
app/models/task_management/new_reminder.rb:11:        new(account:, care_case:, staffer:, params:)
/Users/jschuss/Brightline/reef/app/models/task_management/new_reminder.rb-12-      end
/Users/jschuss/Brightline/reef/app/models/task_management/new_reminder.rb-13-    end
/Users/jschuss/Brightline/reef/app/models/task_management/new_reminder.rb-14-
app/models/task_management/new_reminder.rb:15:    def initialize(account:, staffer:, params:, care_case: nil)
app/models/task_management/new_reminder.rb-16-      @assigned_staffer_id = params[:assigned_staffer_id]
app/models/task_management/new_reminder.rb-17-      @params = params.except(:member_id, :assigned_staffer_id).merge(requester: staffer)
--
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment/tasks/backfill.rb-67-            if in_known_state?
app/models/service_line/enrollment/tasks/backfill.rb-68-              ServiceLine::Enrollment.find_or_create_by(
app/models/service_line/enrollment/tasks/backfill.rb:69:                care_case:,
app/models/service_line/enrollment/tasks/backfill.rb-70-                service_line_id: enrollment_state.service_line.id
/Users/jschuss/Brightline/reef/app/models/service_line/enrollment/tasks/backfill.rb-71-              ).tap do |enrollment|
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-14-          track(
app/models/iterable/event/care_case/non_commitment_indicated.rb-15-            member:,
app/models/iterable/event/care_case/non_commitment_indicated.rb:16:            care_case: event.care_case,
app/models/iterable/event/care_case/non_commitment_indicated.rb-17-            indicated_at: event.indicated_at
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-18-          )
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-20-      end
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-21-
app/models/iterable/event/care_case/non_commitment_indicated.rb:22:      def initialize(member:, care_case:, indicated_at:)
app/models/iterable/event/care_case/non_commitment_indicated.rb-23-        super(account: care_case.account, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-24-
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-36-      def event_data
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/non_commitment_indicated.rb-37-        {
app/models/iterable/event/care_case/non_commitment_indicated.rb:38:          care_case_id: care_case.id,
app/models/iterable/event/care_case/non_commitment_indicated.rb-39-          member_id: member.id,
app/models/iterable/event/care_case/non_commitment_indicated.rb-40-          indicated_at: indicated_at.iso8601(3)
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-13-        care_case.caregivers.each do |member|
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-14-          track(
app/models/iterable/event/care_case/operational_status_changed.rb:15:            care_case:,
app/models/iterable/event/care_case/operational_status_changed.rb-16-            member:,
app/models/iterable/event/care_case/operational_status_changed.rb-17-            previous_status: event.previous_status,
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-21-      end
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-22-
app/models/iterable/event/care_case/operational_status_changed.rb:23:      def initialize(member:, care_case:, status:, previous_status:)
app/models/iterable/event/care_case/operational_status_changed.rb-24-        super(account: care_case.account, member:)
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-25-
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-38-      def event_data
/Users/jschuss/Brightline/reef/app/models/iterable/event/care_case/operational_status_changed.rb-39-        {
app/models/iterable/event/care_case/operational_status_changed.rb:40:          care_case_id: care_case.id,
app/models/iterable/event/care_case/operational_status_changed.rb-41-          member_id: member.id,
app/models/iterable/event/care_case/operational_status_changed.rb-42-          status:,
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-41-          .find_or_create_by!(
app/models/healthie/processors/diagnostic_evaluation_processor.rb-42-            appointment:,
app/models/healthie/processors/diagnostic_evaluation_processor.rb:43:            care_case:
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-44-          ).tap do |eval|
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-45-          eval.update!(
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-67-      def associate_with_care_recommendation(diagnostic_evaluation)
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-68-        # In the event that the DE note was completed after a note that marked it for case transfer
app/models/healthie/processors/diagnostic_evaluation_processor.rb:69:        ongoing_care_recommendation = CareCase::OngoingCareRecommendation.pending.where(care_case:).last
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-70-        return unless ongoing_care_recommendation.present?
/Users/jschuss/Brightline/reef/app/models/healthie/processors/diagnostic_evaluation_processor.rb-71-
--
/Users/jschuss/Brightline/reef/app/models/email_address_sync.rb-14-
/Users/jschuss/Brightline/reef/app/models/email_address_sync.rb-15-    member.accessible_cases.each do |care_case|
app/models/email_address_sync.rb:16:      EmailAddressSync::AcuityEmail.new(care_case: care_case, member: member, new_email: new_email, old_email: old_email).process
/Users/jschuss/Brightline/reef/app/models/email_address_sync.rb-17-    end
/Users/jschuss/Brightline/reef/app/models/email_address_sync.rb-18-
--
app/models/iterable/event/wait_list/joined.rb-12-            account: care_case.account,
app/models/iterable/event/wait_list/joined.rb-13-            member: caregiver,
app/models/iterable/event/wait_list/joined.rb:14:            care_case: care_case
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-15-          )
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-16-        end
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-18-
app/models/iterable/event/wait_list/joined.rb-19-      attr_reader :care_case
app/models/iterable/event/wait_list/joined.rb:20:      def initialize(account:, member:, care_case:)
app/models/iterable/event/wait_list/joined.rb-21-        super(account: account, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-22-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-29-      def event_data
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-30-        {
app/models/iterable/event/wait_list/joined.rb:31:          care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-32-        }
/Users/jschuss/Brightline/reef/app/models/iterable/event/wait_list/joined.rb-33-      end
--
app/models/healthie/processors/member_non_commitment_processor.rb-29-        EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/healthie/processors/member_non_commitment_processor.rb-30-          CareCaseNonCommitmentIndicatedEvent.new(
app/models/healthie/processors/member_non_commitment_processor.rb:31:            care_case:,
app/models/healthie/processors/member_non_commitment_processor.rb-32-            staffer:,
app/models/healthie/processors/member_non_commitment_processor.rb-33-            indicated_at: form.signed_at,
--
app/models/iterable/survey.rb-18-    delegate :patient?, :role_name, to: :case_role
/Users/jschuss/Brightline/reef/app/models/iterable/survey.rb-19-
app/models/iterable/survey.rb:20:    def initialize(survey_type:, member:, care_case:, subject:)
/Users/jschuss/Brightline/reef/app/models/iterable/survey.rb-21-      @survey_type = survey_type
/Users/jschuss/Brightline/reef/app/models/iterable/survey.rb-22-      @member = member
--
app/models/iterable/survey.rb-38-      @survey ||= ::Survey.new(
app/models/iterable/survey.rb-39-        member:,
app/models/iterable/survey.rb:40:        care_case:,
app/models/iterable/survey.rb-41-        subject:,
app/models/iterable/survey.rb-42-        survey_type:,
--
/Users/jschuss/Brightline/reef/app/models/iterable/survey.rb-56-      @data ||= {
app/models/iterable/survey.rb-57-        member_id: member.id,
app/models/iterable/survey.rb:58:        care_case_id: care_case.id,
app/models/iterable/survey.rb-59-        appointment_id: appointment&.id,
app/models/iterable/survey.rb-60-        discharge_id: discharge&.id,
--
app/models/healthie/processors/reminder_processor.rb-92-            due_date:,
app/models/healthie/processors/reminder_processor.rb-93-            account:,
app/models/healthie/processors/reminder_processor.rb:94:            care_case:,
app/models/healthie/processors/reminder_processor.rb-95-            requester:,
app/models/healthie/processors/reminder_processor.rb-96-            priority:,
--
app/models/coverage_info.rb-21-#  account_id                       :uuid             not null
app/models/coverage_info.rb-22-#  adjudicator_id                   :uuid
app/models/coverage_info.rb:23:#  care_case_id                     :uuid
app/models/coverage_info.rb-24-#  external_member_id               :string
app/models/coverage_info.rb-25-#  matching_info_id                 :uuid
--
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-36-#
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-37-#  fk_rails_...  (adjudicator_id => staffers.id)
app/models/coverage_info.rb:38:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-39-#  fk_rails_...  (matching_info_id => matching_infos.id)
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-40-#
--
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-51-#
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-52-#  fk_rails_...  (adjudicator_id => staffers.id)
app/models/coverage_info.rb:53:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-54-#  fk_rails_...  (matching_info_id => matching_infos.id)
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-55-#
--
app/models/coverage_info.rb-82-    where(status: present_statuses) if present_statuses.present?
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-83-  end
app/models/coverage_info.rb:84:  scope :with_care_case, -> { where.not(care_case: nil) }
app/models/coverage_info.rb:85:  scope :without_care_case, -> { where(care_case_id: nil) }
app/models/coverage_info.rb-86-  scope :with_payer, ->(payer_name) { where(CoverageInfo.arel_table[:payer_name].matches(payer_name)) if payer_name.present? }
app/models/coverage_info.rb-87-  scope :with_program, ->(program_id) { includes(:care_case).where(care_cases: {program_id: program_id}) if program_id.present? }
--
app/models/coverage_info.rb-289-      group: :member_support,
app/models/coverage_info.rb-290-      account: account,
app/models/coverage_info.rb:291:      care_case: care_case,
app/models/coverage_info.rb-292-      due_date: 1.day.from_now
/Users/jschuss/Brightline/reef/app/models/coverage_info.rb-293-    )
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-15-        care_case.caregivers.with_email.each do |member|
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-16-          track(
app/models/iterable/event/internal_referral/initiated.rb:17:            care_case:,
app/models/iterable/event/internal_referral/initiated.rb-18-            member:,
app/models/iterable/event/internal_referral/initiated.rb-19-            account:,
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-25-      end
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-26-
app/models/iterable/event/internal_referral/initiated.rb:27:      def initialize(member:, account:, care_case:, initiated_at:, previous_service_line_id:, service_line_id:)
app/models/iterable/event/internal_referral/initiated.rb-28-        super(account:, member:)
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-29-
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-42-
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-43-      def event_data
app/models/iterable/event/internal_referral/initiated.rb:44:        care_case_member = CareCaseMember.new(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/internal_referral/initiated.rb-45-        {
app/models/iterable/event/internal_referral/initiated.rb:46:          care_case_id: care_case.id,
app/models/iterable/event/internal_referral/initiated.rb-47-          member_id: member.id,
app/models/iterable/event/internal_referral/initiated.rb-48-          initiated_at: initiated_at.iso8601(3),
--
app/models/healthie/processors/ongoing_care_recommendation_processor.rb-25-        CareCase::OngoingCareRecommendation
/Users/jschuss/Brightline/reef/app/models/healthie/processors/ongoing_care_recommendation_processor.rb-26-          .find_or_create_by!(
app/models/healthie/processors/ongoing_care_recommendation_processor.rb:27:            care_case:,
app/models/healthie/processors/ongoing_care_recommendation_processor.rb-28-            diagnostic_evaluation_id:
/Users/jschuss/Brightline/reef/app/models/healthie/processors/ongoing_care_recommendation_processor.rb-29-          ).tap do |recommendation|
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/ongoing_care_recommendation_processor.rb-38-        # Should we ever intentionally support multiple recommendations, we should get more specific.
app/models/healthie/processors/ongoing_care_recommendation_processor.rb-39-        @diagnostic_evaluation_id ||= CareCase::DiagnosticEvaluation
app/models/healthie/processors/ongoing_care_recommendation_processor.rb:40:          .where(care_case:)
app/models/healthie/processors/ongoing_care_recommendation_processor.rb-41-          .order(created_at: :desc).pick(:id)
/Users/jschuss/Brightline/reef/app/models/healthie/processors/ongoing_care_recommendation_processor.rb-42-      end
--
/Users/jschuss/Brightline/reef/app/models/task_management/verify_coverage_reminder.rb-37-
app/models/task_management/verify_coverage_reminder.rb-38-      price = ::MemberCostShare::PriceRequest.for_care_case_in_program(
app/models/task_management/verify_coverage_reminder.rb:39:        care_case: appointment.care_case,
app/models/task_management/verify_coverage_reminder.rb-40-        program: appointment.care_case.program
/Users/jschuss/Brightline/reef/app/models/task_management/verify_coverage_reminder.rb-41-      )
--
app/models/task_management/verify_coverage_reminder.rb-47-      TaskManagement::Reminder.create!(
app/models/task_management/verify_coverage_reminder.rb-48-        account: appointment.account,
app/models/task_management/verify_coverage_reminder.rb:49:        care_case: appointment.care_case,
app/models/task_management/verify_coverage_reminder.rb-50-        group: :biller,
app/models/task_management/verify_coverage_reminder.rb-51-        due_date: Time.zone.today,
--
app/models/healthie/processors/cgi_score_processor.rb-26-        cgi_score = ::CgiScore.create!(
app/models/healthie/processors/cgi_score_processor.rb-27-          appointment: appointment,
app/models/healthie/processors/cgi_score_processor.rb:28:          care_case: care_case,
app/models/healthie/processors/cgi_score_processor.rb-29-          score_type: score_type,
app/models/healthie/processors/cgi_score_processor.rb-30-          value: form_value.to_i,
--
app/models/iterable/event/intake_booking/completed.rb-17-              account: event.account,
app/models/iterable/event/intake_booking/completed.rb-18-              member: caregiver,
app/models/iterable/event/intake_booking/completed.rb:19:              care_case: care_case,
app/models/iterable/event/intake_booking/completed.rb-20-              intake_appointment: event.intake_appointment
/Users/jschuss/Brightline/reef/app/models/iterable/event/intake_booking/completed.rb-21-            )
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/intake_booking/completed.rb-24-      end
/Users/jschuss/Brightline/reef/app/models/iterable/event/intake_booking/completed.rb-25-
app/models/iterable/event/intake_booking/completed.rb:26:      def initialize(account:, member:, care_case:, intake_appointment:)
app/models/iterable/event/intake_booking/completed.rb-27-        super(account: account, member: member)
/Users/jschuss/Brightline/reef/app/models/iterable/event/intake_booking/completed.rb-28-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/iterable/event/intake_booking/completed.rb-42-      def event_data
/Users/jschuss/Brightline/reef/app/models/iterable/event/intake_booking/completed.rb-43-        {
app/models/iterable/event/intake_booking/completed.rb:44:          care_case_id: care_case.id,
app/models/iterable/event/intake_booking/completed.rb-45-          patient_age: care_case.patient.age,
app/models/iterable/event/intake_booking/completed.rb-46-          selected_service_line: care_case.program_id,
--
app/models/task_management/reminder.rb-16-#  updated_at              :datetime         not null
app/models/task_management/reminder.rb-17-#  account_id              :uuid
app/models/task_management/reminder.rb:18:#  care_case_id            :uuid
app/models/task_management/reminder.rb-19-#  clinic_id               :uuid
app/models/task_management/reminder.rb-20-#  completed_by_staffer_id :uuid
--
app/models/task_management/reminder.rb-116-      using: {trigram: {word_similarity: true}}
/Users/jschuss/Brightline/reef/app/models/task_management/reminder.rb-117-
app/models/task_management/reminder.rb:118:    scope :for_care_case, ->(care_case) { where(care_case: care_case) if care_case.present? }
app/models/task_management/reminder.rb-119-    scope :for_account, ->(account) { where(account: account) if account.present? }
app/models/task_management/reminder.rb-120-    scope :for_group, ->(group) { where(group: group) if group.present? }
--
app/models/task_management/reminder.rb-159-    scope :completed_on, ->(date) { where("completed_at between ? and ?", date.beginning_of_day, date.end_of_day) }
app/models/task_management/reminder.rb-160-    scope :unassigned, -> { where.not(id: ReminderAssignment.claimed.select(:reminder_id)) }
app/models/task_management/reminder.rb:161:    scope :filter_by_care_case, ->(care_case) { where(care_case: care_case) if care_case.present? }
app/models/task_management/reminder.rb-162-    scope :with_account_tag, ->(tag_id) { joins(:account).where("account_tag_ids && ?", "{#{tag_id}}") if tag_id.present? }
app/models/task_management/reminder.rb-163-    scope :with_care_case_tag, ->(tag_id) { joins(:care_case).where("tag_ids && ?", "{#{tag_id}}") if tag_id.present? }
--
app/models/task_management/reminder.rb-322-        reminder: self,
app/models/task_management/reminder.rb-323-        account: account,
app/models/task_management/reminder.rb:324:        care_case: care_case,
app/models/task_management/reminder.rb-325-        changes: previous_changes.except(:updated_at)
/Users/jschuss/Brightline/reef/app/models/task_management/reminder.rb-326-      ))
--
app/models/healthie/processors/risk_processor.rb-39-          answers: processed_record.form_question_responses,
app/models/healthie/processors/risk_processor.rb-40-          appointment:,
app/models/healthie/processors/risk_processor.rb:41:          care_case:,
app/models/healthie/processors/risk_processor.rb-42-          date_of_assessment: form.date_of_service,
app/models/healthie/processors/risk_processor.rb-43-          date_signed: form.signed_at,
--
app/models/analytics/event/medication_management_appointment/completed.rb-19-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/medication_management_appointment/completed.rb-20-
app/models/analytics/event/medication_management_appointment/completed.rb:21:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/medication_management_appointment/completed.rb-22-          new(
app/models/analytics/event/medication_management_appointment/completed.rb-23-            account_id: account.id,
app/models/analytics/event/medication_management_appointment/completed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/medication_management_appointment/completed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/medication_management_appointment/completed.rb-26-            appointment_id: appointment.id,
app/models/analytics/event/medication_management_appointment/completed.rb-27-            appointment_type_id: appointment.appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-12-        care_case = event.care_case
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-13-        care_case.caregivers.each do |caregiver|
app/models/iterable/data_synchronization/care_case.rb:14:          response = new(care_case: care_case, member: caregiver)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-15-          response.build_intake_completed_event_data
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-16-          response.sync
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-21-        care_case = event.care_case
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-22-        care_case.caregivers.each do |caregiver|
app/models/iterable/data_synchronization/care_case.rb:23:          response = new(care_case: care_case, member: caregiver)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-24-          response.build_treatment_event_data
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-25-          response.sync
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-27-      end
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-28-
app/models/iterable/data_synchronization/care_case.rb:29:      def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-30-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/care_case.rb-31-        @member = member
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/service_line_referral_processor.rb-65-
/Users/jschuss/Brightline/reef/app/models/healthie/processors/service_line_referral_processor.rb-66-        ServiceLineReferral.create!(
app/models/healthie/processors/service_line_referral_processor.rb:67:          care_case:,
app/models/healthie/processors/service_line_referral_processor.rb-68-          staffer:,
app/models/healthie/processors/service_line_referral_processor.rb-69-          referral:
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/service_line_referral_processor.rb-80-      def update_care_case!(service_line_referral)
app/models/healthie/processors/service_line_referral_processor.rb-81-        care_case.update(program_id: service_line_referral.referral.program.id) if discharge_exists?
app/models/healthie/processors/service_line_referral_processor.rb:82:        CareCaseTagging::Assignment.new(care_case:).add_tag(CareCaseTagging::Tag.internal_referral)
/Users/jschuss/Brightline/reef/app/models/healthie/processors/service_line_referral_processor.rb-83-      end
/Users/jschuss/Brightline/reef/app/models/healthie/processors/service_line_referral_processor.rb-84-
--
app/models/healthie/processors/service_line_referral_processor.rb-90-        EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/healthie/processors/service_line_referral_processor.rb-91-          CareCaseInternalReferralEvent.new(
app/models/healthie/processors/service_line_referral_processor.rb:92:            care_case:,
app/models/healthie/processors/service_line_referral_processor.rb-93-            previous_service_line_id:,
app/models/healthie/processors/service_line_referral_processor.rb-94-            service_line_id:,
--
app/models/analytics/event/medication_management_appointment/scheduled.rb-20-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/medication_management_appointment/scheduled.rb-21-
app/models/analytics/event/medication_management_appointment/scheduled.rb:22:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/medication_management_appointment/scheduled.rb-23-          new(
app/models/analytics/event/medication_management_appointment/scheduled.rb-24-            account_id: account.id,
app/models/analytics/event/medication_management_appointment/scheduled.rb:25:            care_case_id: care_case.id,
app/models/analytics/event/medication_management_appointment/scheduled.rb:26:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/medication_management_appointment/scheduled.rb-27-            appointment_id: appointment.id,
app/models/analytics/event/medication_management_appointment/scheduled.rb-28-            appointment_type_id: appointment.appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/coverage.rb-33-
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/coverage.rb-34-      def self.notify_iterable_of_care_case_coverage(care_case, covered_entity)
app/models/iterable/data_synchronization/coverage.rb:35:        Iterable::Event::Coverage::Confirmed.track(care_case: care_case, member: care_case.account.owner, covered_entity: covered_entity)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/coverage.rb-36-      end
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/coverage.rb-37-
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment_event.rb-25-          response = new(
app/models/iterable/data_synchronization/appointment_event.rb-26-            appointment: appointment,
app/models/iterable/data_synchronization/appointment_event.rb:27:            care_case: care_case,
app/models/iterable/data_synchronization/appointment_event.rb-28-            account: account,
app/models/iterable/data_synchronization/appointment_event.rb-29-            member: caregiver,
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment_event.rb-35-      end
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment_event.rb-36-
app/models/iterable/data_synchronization/appointment_event.rb:37:      def initialize(event:, appointment:, member:, care_case:, account:)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment_event.rb-38-        @event = event
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment_event.rb-39-        @appointment = appointment
--
app/models/iterable/data_synchronization/appointment_event.rb-64-          for_testing: account.for_testing || !BrightlineStack.production?,
app/models/iterable/data_synchronization/appointment_event.rb-65-          for_intake: appointment.for_intake?,
app/models/iterable/data_synchronization/appointment_event.rb:66:          care_case_id: care_case.id,
app/models/iterable/data_synchronization/appointment_event.rb-67-          has_future_session: next_appointment.present?,
app/models/iterable/data_synchronization/appointment_event.rb-68-          next_appointment_time: next_appointment&.start_time&.iso8601(3),
--
app/models/healthie/processors/supervisor_reminder_processor.rb-57-          due_date: supervisor_review_due_date,
app/models/healthie/processors/supervisor_reminder_processor.rb-58-          account: processed_record.care_case.account,
app/models/healthie/processors/supervisor_reminder_processor.rb:59:          care_case: processed_record.care_case,
app/models/healthie/processors/supervisor_reminder_processor.rb-60-          requester: signing_trainee,
app/models/healthie/processors/supervisor_reminder_processor.rb-61-          priority: :high,
--
/Users/jschuss/Brightline/reef/app/models/healthie/processors/supervisor_reminder_processor.rb-104-
/Users/jschuss/Brightline/reef/app/models/healthie/processors/supervisor_reminder_processor.rb-105-      def add_backup_supervisor_to_care_case
app/models/healthie/processors/supervisor_reminder_processor.rb:106:        result = ClinicalTeam::AddStafferToCareCase.call(care_case: processed_record.care_case, staffer: backup_supervisor, primary: false)
/Users/jschuss/Brightline/reef/app/models/healthie/processors/supervisor_reminder_processor.rb-107-        schedule_backup_supervisor_removal if result.success?
/Users/jschuss/Brightline/reef/app/models/healthie/processors/supervisor_reminder_processor.rb-108-        result
--
app/models/chat/provider_channel_changes.rb-3-    attr_reader :account, :care_case, :member
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-4-
app/models/chat/provider_channel_changes.rb:5:    def initialize(account:, member:, care_case: nil)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-6-      @account = account
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-7-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-10-
app/models/chat/provider_channel_changes.rb-11-    def channel_created(participants:, channel:)
app/models/chat/provider_channel_changes.rb:12:      EventSystem::Publisher.broadcast(ProviderChatCreatedEvent.new(account:, care_case:, member:, sendbird_chat_channel: channel))
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-13-    end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-14-
app/models/chat/provider_channel_changes.rb-15-    def participant_added(participant:, channel:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-16-      if participant.is_a?(StafferParticipant)
app/models/chat/provider_channel_changes.rb:17:        EventSystem::Publisher.broadcast(StafferAddedToChatEvent.new(account:, care_case:, member:, sendbird_chat_channel: channel, staffer: participant.staffer))
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-18-      elsif participant.is_a?(MemberParticipant)
app/models/chat/provider_channel_changes.rb:19:        EventSystem::Publisher.broadcast(MemberAddedToChatEvent.new(account:, care_case:, member: participant.member, sendbird_chat_channel: channel))
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-20-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-21-    end
--
app/models/chat/provider_channel_changes.rb-23-    def participant_removed(participant:, channel:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-24-      if participant.is_a?(StafferParticipant)
app/models/chat/provider_channel_changes.rb:25:        EventSystem::Publisher.broadcast(StafferRemovedFromChatEvent.new(account:, care_case:, member:, sendbird_chat_channel: channel, staffer: participant.staffer))
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-26-      elsif participant.is_a?(MemberParticipant)
app/models/chat/provider_channel_changes.rb:27:        EventSystem::Publisher.broadcast(MemberRemovedFromChatEvent.new(account:, care_case:, member: participant.member, sendbird_chat_channel: channel))
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-28-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel_changes.rb-29-    end
--
/Users/jschuss/Brightline/reef/app/models/coverage_context/factory.rb-83-      best_contract = best_active_covered_entity_for_service_line_and_care_case(
app/models/coverage_context/factory.rb-84-        service_line: service_line,
app/models/coverage_context/factory.rb:85:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/coverage_context/factory.rb-86-      )&.contract
/Users/jschuss/Brightline/reef/app/models/coverage_context/factory.rb-87-
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-22-
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-23-        account.caregivers.each do |caregiver|
app/models/iterable/data_synchronization/appointment.rb:24:          response = new(appointment: appointment, care_case: care_case, account: account, member: caregiver)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-25-          response.build_data
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-26-          response.sync
--
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-28-      end
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-29-
app/models/iterable/data_synchronization/appointment.rb:30:      def initialize(appointment:, member:, care_case:, account:)
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-31-        @appointment = appointment
/Users/jschuss/Brightline/reef/app/models/iterable/data_synchronization/appointment.rb-32-        @care_case = care_case
--
app/models/analytics/event/care_guide_booking/scheduled.rb-16-        attribute :staffer_id, DryTypes::Coercible::String.meta(description: "The id of the staffer booked for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking/scheduled.rb-17-
app/models/analytics/event/care_guide_booking/scheduled.rb:18:        def self.build(care_case:, interpretation_language:, appointment_type_id:, selected_datetime:, staffer_id:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking/scheduled.rb-19-          new(
app/models/analytics/event/care_guide_booking/scheduled.rb:20:            care_case_id: care_case.id,
app/models/analytics/event/care_guide_booking/scheduled.rb:21:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_guide_booking/scheduled.rb-22-            interpretation_language: interpretation_language,
app/models/analytics/event/care_guide_booking/scheduled.rb-23-            appointment_type_id: appointment_type_id,
--
app/models/care_case_external_provider.rb-6-#  created_at           :datetime         not null
app/models/care_case_external_provider.rb-7-#  updated_at           :datetime         not null
app/models/care_case_external_provider.rb:8:#  care_case_id         :uuid             not null
app/models/care_case_external_provider.rb-9-#  external_provider_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_case_external_provider.rb-10-#
--
/Users/jschuss/Brightline/reef/app/models/care_case_external_provider.rb-17-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case_external_provider.rb-18-#
app/models/care_case_external_provider.rb:19:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case_external_provider.rb-20-#  fk_rails_...  (external_provider_id => external_providers.id)
/Users/jschuss/Brightline/reef/app/models/care_case_external_provider.rb-21-#
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-15-      appointment = event.appointment
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-16-      if appointment.clinic.present? && appointment.for_intake?
app/models/phone_desk/intake.rb:17:        process!(care_case: care_case, appointment: appointment)
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-18-      end
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-19-    end
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-20-
app/models/phone_desk/intake.rb:21:    def initialize(care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-22-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-23-      @appointment = appointment
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-30-      account.active!
app/models/phone_desk/intake.rb-31-      ActiveRecord::Base.transaction do
app/models/phone_desk/intake.rb:32:        Treatment::UpdateDisposition.call(care_case: care_case, disposition: "good_fit_and_interested")
app/models/phone_desk/intake.rb-33-        care_case.update!(operational_status: "active", program: Program.therapy)
app/models/phone_desk/intake.rb:34:        Registration.new(care_case: care_case).process
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-35-      end
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-36-      broadcast_event
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-48-    def broadcast_event
app/models/phone_desk/intake.rb-49-      EventSystem::Publisher.broadcast_later(IntakeCompletedEvent.build_from(
app/models/phone_desk/intake.rb:50:        care_case: care_case,
app/models/phone_desk/intake.rb-51-        intake_appointment: appointment
/Users/jschuss/Brightline/reef/app/models/phone_desk/intake.rb-52-      ))
--
app/models/new_risk_assessment.rb-19-#  updated_at         :datetime         not null
app/models/new_risk_assessment.rb-20-#  appointment_id     :uuid
app/models/new_risk_assessment.rb:21:#  care_case_id       :uuid
app/models/new_risk_assessment.rb-22-#  staffer_id         :uuid
/Users/jschuss/Brightline/reef/app/models/new_risk_assessment.rb-23-#
--
app/models/analytics/event/care_guide_booking/week/viewed.rb-18-          attribute :timezone, DryTypes::Coercible::String.meta(description: "The timezone of the member")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking/week/viewed.rb-19-
app/models/analytics/event/care_guide_booking/week/viewed.rb:20:          def self.build(care_case:, monday_of_week:, number_of_timeslots:, number_of_peak_timeslots:, appointment_type_id:, timezone:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_booking/week/viewed.rb-21-            new(
app/models/analytics/event/care_guide_booking/week/viewed.rb:22:              care_case_id: care_case.id,
app/models/analytics/event/care_guide_booking/week/viewed.rb:23:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_guide_booking/week/viewed.rb-24-              monday_of_week: monday_of_week.to_date,
app/models/analytics/event/care_guide_booking/week/viewed.rb-25-              number_of_timeslots: number_of_timeslots,
--
app/models/phone_desk/care_case_form.rb-6-    attr_reader :care_case, :account_referring_provider_id
/Users/jschuss/Brightline/reef/app/models/phone_desk/care_case_form.rb-7-
app/models/phone_desk/care_case_form.rb:8:    def initialize(account:, care_case: nil, params: {}, errors: {})
/Users/jschuss/Brightline/reef/app/models/phone_desk/care_case_form.rb-9-      @account = account
/Users/jschuss/Brightline/reef/app/models/phone_desk/care_case_form.rb-10-      @care_case = care_case
--
app/models/phone_desk/region/change.rb-124-          group: :member_support,
app/models/phone_desk/region/change.rb-125-          account: account,
app/models/phone_desk/region/change.rb:126:          care_case: care_case,
app/models/phone_desk/region/change.rb-127-          due_date: 1.day.from_now,
app/models/phone_desk/region/change.rb-128-          priority: TaskManagement::Reminder::PRIORITIES[:medium]
--
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-107-
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-108-    def deidentify_notes
app/models/privacy/account_deletion.rb:109:      account.notes.where(care_case_id: nil).update_all(body: "Redacted due to account deletion")
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-110-    end
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-111-
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-112-    def deidentify_reminders
app/models/privacy/account_deletion.rb:113:      account.reminders.where(care_case_id: nil).update_all(title: "Redacted", notes: "Redacted due to account deletion")
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-114-    end
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-115-
--
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-121-
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-122-    def deidentify_coverage_infos
app/models/privacy/account_deletion.rb:123:      CoverageInfo.where(account: account, care_case_id: nil).each do |coverage_info|
/Users/jschuss/Brightline/reef/app/models/privacy/account_deletion.rb-124-        coverage_info.update!(
app/models/privacy/account_deletion.rb-125-          first_name: "Redacted",
--
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb-17-        attribute :value, DryTypes::Coercible::String.meta(description: "The values of the module that was viewed on the assessment results page")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb-18-
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb:19:        def self.build(care_case_id:, assessment_id:, module_name:, value:, **kwargs)
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb:20:          proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb-21-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb-22-          new(
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb:23:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb:24:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb-25-            assessment_id: assessment_id,
app/models/analytics/event/care_navigation_assessment_results_module/viewed.rb-26-            module_name: module_name,
--
app/models/scheduling_invitation.rb-10-#  created_at   :datetime         not null
app/models/scheduling_invitation.rb-11-#  updated_at   :datetime         not null
app/models/scheduling_invitation.rb:12:#  care_case_id :uuid             not null
app/models/scheduling_invitation.rb-13-#  member_id    :uuid             not null
/Users/jschuss/Brightline/reef/app/models/scheduling_invitation.rb-14-#
--
/Users/jschuss/Brightline/reef/app/models/scheduling_invitation.rb-20-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/scheduling_invitation.rb-21-#
app/models/scheduling_invitation.rb:22:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/scheduling_invitation.rb-23-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/scheduling_invitation.rb-24-#
--
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-14-        return false if @deletion_invalid_reasons.any?
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-15-
app/models/privacy/deletion_request/care_case_satisfiability.rb:16:        if Appointment.completed.or(Appointment.scheduled).exists?(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-17-          @deletion_invalid_reasons << "Has completed or scheduled appointment(s)"
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-18-        end
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-19-
app/models/privacy/deletion_request/care_case_satisfiability.rb:20:        if Invoice.exists?(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-21-          @deletion_invalid_reasons << "Has invoice(s)"
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-22-        end
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-23-
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-24-        # If this arises, we will need to figure out a way to deidentify Athena too
app/models/privacy/deletion_request/care_case_satisfiability.rb:25:        if CareCase::AthenaPatient.exists?(care_case:)
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-26-          @deletion_invalid_reasons << "Has Athena patient"
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-27-        end
--
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-33-
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-34-        # We may need to deidenity here, but haven't fully covered this use case yet.
app/models/privacy/deletion_request/care_case_satisfiability.rb:35:        if BillableConnectActivation.exists?(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-36-          @deletion_invalid_reasons << "Has billable connect activation(s)"
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/care_case_satisfiability.rb-37-        end
--
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-15-        return false if @deactivation_invalid_reasons.any?
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-16-
app/models/privacy/deletion_request/account_satisfiability.rb:17:        if Appointment.scheduled.where(care_case: all_care_cases).exists?
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-18-          @deactivation_invalid_reasons << "Has scheduled appointment(s)"
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-19-        end
--
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-26-
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-27-        # If has any invoice or claim, need billing confirmation
app/models/privacy/deletion_request/account_satisfiability.rb:28:        if Invoice.exists?(care_case: all_care_cases)
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-29-          @billing_confirmation_reasons << "Has invoice(s)"
/Users/jschuss/Brightline/reef/app/models/privacy/deletion_request/account_satisfiability.rb-30-        end
--
app/models/analytics/event/psychological_testing_appointment/completed.rb-19-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/psychological_testing_appointment/completed.rb-20-
app/models/analytics/event/psychological_testing_appointment/completed.rb:21:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/psychological_testing_appointment/completed.rb-22-          new(
app/models/analytics/event/psychological_testing_appointment/completed.rb-23-            account_id: account.id,
app/models/analytics/event/psychological_testing_appointment/completed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/psychological_testing_appointment/completed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/psychological_testing_appointment/completed.rb-26-            appointment_id: appointment.id,
app/models/analytics/event/psychological_testing_appointment/completed.rb-27-            appointment_type_id: appointment.appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/models/chat/staffer_channel_list.rb-16-
/Users/jschuss/Brightline/reef/app/models/chat/staffer_channel_list.rb-17-    def for_care_case(care_case_id)
app/models/chat/staffer_channel_list.rb:18:      filtered = @channels.select { |channel| channel.care_case_id == care_case_id }
/Users/jschuss/Brightline/reef/app/models/chat/staffer_channel_list.rb-19-      self.class.new(filtered)
/Users/jschuss/Brightline/reef/app/models/chat/staffer_channel_list.rb-20-    end
--
app/models/analytics/event/psychological_testing_appointment/scheduled.rb-20-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/psychological_testing_appointment/scheduled.rb-21-
app/models/analytics/event/psychological_testing_appointment/scheduled.rb:22:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/psychological_testing_appointment/scheduled.rb-23-          new(
app/models/analytics/event/psychological_testing_appointment/scheduled.rb-24-            account_id: account.id,
app/models/analytics/event/psychological_testing_appointment/scheduled.rb:25:            care_case_id: care_case.id,
app/models/analytics/event/psychological_testing_appointment/scheduled.rb:26:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/psychological_testing_appointment/scheduled.rb-27-            appointment_id: appointment.id,
app/models/analytics/event/psychological_testing_appointment/scheduled.rb-28-            appointment_type_id: appointment.appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-57-
app/models/privacy/care_case_deletion.rb-58-    def delete_patient(by_staffer:)
app/models/privacy/care_case_deletion.rb:59:      patient = CaseRole.find_by(care_case: care_case, role_name: CaseRoleName.patient)&.member
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-60-      return unless patient.present?
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-61-
--
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-85-
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-86-    def deidentify_coverage_infos
app/models/privacy/care_case_deletion.rb:87:      CoverageInfo.where(care_case: care_case).each do |coverage_info|
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-88-        coverage_info.update!(
app/models/privacy/care_case_deletion.rb-89-          first_name: "Redacted",
--
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-135-
/Users/jschuss/Brightline/reef/app/models/privacy/care_case_deletion.rb-136-    def deidentify_questionnaires
app/models/privacy/care_case_deletion.rb:137:      ::Paperwork::QuestionnaireSubmission.where(care_case: care_case).where.not(data: nil).each do |submission|
app/models/privacy/care_case_deletion.rb-138-        ::Formstack::Api::Submission.delete!(submission.submission_id)
app/models/privacy/care_case_deletion.rb-139-        submission.update!(data: nil)
--
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-7-
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-8-    on(AddedStafferToCareCaseEvent) do |event|
app/models/chat/provider_channel.rb:9:      event => {care_case:, staffer:}
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-10-      care_case.eligible_members_for_provider_channel.each do |member|
app/models/chat/provider_channel.rb:11:        ensure!(care_case:, member:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-12-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-13-    end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-14-
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-15-    on(RemovedStafferFromCareCaseEvent) do |event|
app/models/chat/provider_channel.rb:16:      event => {care_case:, staffer:}
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-17-      care_case.eligible_members_for_provider_channel.each do |member|
app/models/chat/provider_channel.rb:18:        freeze!(care_case:, member:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-19-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-20-    end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-21-
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-22-    on(CareCaseDischargedEvent) do |event|
app/models/chat/provider_channel.rb:23:      event => {care_case:, discharge:}
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-24-      care_case.eligible_members_for_provider_channel.each do |member|
app/models/chat/provider_channel.rb:25:        freeze!(care_case:, member:, staffer: discharge.staffer)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-26-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-27-    end
--
app/models/chat/provider_channel.rb-30-    delegate :account, to: :care_case
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-31-
app/models/chat/provider_channel.rb:32:    def initialize(care_case:, member:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-33-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-34-      @member = member
--
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-44-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-45-
app/models/chat/provider_channel.rb:46:      Chat::DesiredChannel.ensure!(account:, care_case:, participants: [member_participants, staffer_participant].flatten.compact, chat_id: chat_id, chat_type: chat_type, change_handler:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-47-    end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-48-
--
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-52-      return unless is_therapist? || is_prescriber?
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-53-
app/models/chat/provider_channel.rb:54:      Chat::DesiredChannel.ensure!(account:, care_case:, participants: member_participants, chat_id: chat_id, chat_type: chat_type, change_handler:)
app/models/chat/provider_channel.rb-55-      Chat::Channel.new(channel).freeze!
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-56-    end
--
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-72-    def chat_id
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-73-      if is_therapist?
app/models/chat/provider_channel.rb:74:        Chat::ChannelId.therapist(member: chat_owner, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-75-      elsif is_prescriber?
app/models/chat/provider_channel.rb:76:        Chat::ChannelId.prescriber(member: chat_owner, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-77-      end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-78-    end
--
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-100-
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-101-    def discharged?
app/models/chat/provider_channel.rb:102:      Discharge.where(care_case:, staffer:).exists?
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-103-    end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-104-
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-105-    def change_handler
app/models/chat/provider_channel.rb:106:      Chat::ProviderChannelChanges.new(account:, care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-107-    end
/Users/jschuss/Brightline/reef/app/models/chat/provider_channel.rb-108-
--
app/models/phone_desk/scheduling/availability_form.rb-182-          Calendaring::AppointmentAvailabilityRequestReporter.new(
app/models/phone_desk/scheduling/availability_form.rb-183-            request_context: Calendaring::AvailabilityRequestContext.phone_desk_scheduling,
app/models/phone_desk/scheduling/availability_form.rb:184:            care_case: care_case,
app/models/phone_desk/scheduling/availability_form.rb-185-            member: care_case.patient,
app/models/phone_desk/scheduling/availability_form.rb-186-            root_appointment_type: appointment.root_appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/appointments/scheduling.rb-20-      @active_covered_entity = best_active_covered_entity_for_service_line_and_care_case(
app/models/appointments/scheduling.rb-21-        service_line: appointment_type.service_line,
app/models/appointments/scheduling.rb:22:        care_case:
/Users/jschuss/Brightline/reef/app/models/appointments/scheduling.rb-23-      )
/Users/jschuss/Brightline/reef/app/models/appointments/scheduling.rb-24-
--
app/models/care_documents/discharge_summary/intervention.rb-12-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary/intervention.rb-13-
app/models/care_documents/discharge_summary/intervention.rb:14:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary/intervention.rb-15-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary/intervention.rb-16-      end
--
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary/intervention.rb-27-      def assessments
app/models/care_documents/discharge_summary/intervention.rb-28-        WelkinV8::Records::AssessmentRecord
app/models/care_documents/discharge_summary/intervention.rb:29:          .where(care_case: care_case)
app/models/care_documents/discharge_summary/intervention.rb-30-          .find_each.map(&:data_object).filter(&:completed?)
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary/intervention.rb-31-      end
--
/Users/jschuss/Brightline/reef/app/models/appointments/cancelation_rules.rb-31-
/Users/jschuss/Brightline/reef/app/models/appointments/cancelation_rules.rb-32-    def caregiver?
app/models/appointments/cancelation_rules.rb:33:      CareCaseMember.new(care_case: @appointment.care_case, member: @member).caregiver?
/Users/jschuss/Brightline/reef/app/models/appointments/cancelation_rules.rb-34-    end
/Users/jschuss/Brightline/reef/app/models/appointments/cancelation_rules.rb-35-
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-13-  # - Delegate this to an object so we can use ActiveModel validations on the inputs
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-14-  # - Decide if we want to short-circuit this call if certain records already exist
app/models/phone_desk/insurance_coverage.rb:15:  def self.verify(care_case:, contract:, patient_legal_info:)
app/models/phone_desk/insurance_coverage.rb-16-    unless care_case.present? && contract.present? && patient_legal_info.keys.map(&:to_sym).sort == [:date_of_birth, :first_name, :last_name, :member_provided_external_member_id]
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-17-      return nil
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-21-
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-22-    # swap member_provided_external_member_id -> external_member_id since coverage_info only tracks the latter
app/models/phone_desk/insurance_coverage.rb:23:    coverage_info = account.coverage_infos.create!(care_case:, payer_name: contract.payer.name, **patient_legal_info.merge(external_member_id: patient_legal_info[:member_provided_external_member_id]).without(:member_provided_external_member_id))
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-24-
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-25-    if contract.payer.real_time_eligibility?
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-28-    end
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-29-
app/models/phone_desk/insurance_coverage.rb:30:    self.for(care_case:)
app/models/phone_desk/insurance_coverage.rb-31-  rescue ActiveRecord::RecordInvalid
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-32-    nil
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-33-  end
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-34-
app/models/phone_desk/insurance_coverage.rb:35:  def self.for(care_case:)
app/models/phone_desk/insurance_coverage.rb:36:    return new(care_case:, status: Status.none) if care_case.blank?
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-37-
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-38-    # Look at active first, then fall back to inactive in case there is a termed covered entity
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-44-    if covered_entity.present?
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-45-      return new(
app/models/phone_desk/insurance_coverage.rb:46:        care_case:,
app/models/phone_desk/insurance_coverage.rb-47-        status: covered_entity.active? ? Status.in_network : Status.out_of_network,
app/models/phone_desk/insurance_coverage.rb-48-        source: covered_entity
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-59-      end
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-60-      return new(
app/models/phone_desk/insurance_coverage.rb:61:        care_case:,
app/models/phone_desk/insurance_coverage.rb-62-        status:,
app/models/phone_desk/insurance_coverage.rb-63-        source: coverage_info
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-65-    end
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-66-
app/models/phone_desk/insurance_coverage.rb:67:    new(care_case:, status: Status.none)
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-68-  end
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-69-
--
app/models/phone_desk/insurance_coverage.rb-79-  attr_reader :payer, :eligibility_request
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-80-
app/models/phone_desk/insurance_coverage.rb:81:  def initialize(care_case:, status:, source: nil)
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-82-    super
/Users/jschuss/Brightline/reef/app/models/phone_desk/insurance_coverage.rb-83-    @payer = source&.payer
--
app/models/phone_desk/scheduling/booking_form.rb-85-            datetime: selection.datetime,
app/models/phone_desk/scheduling/booking_form.rb-86-            scheduling_context: Calendaring::SchedulingContext.new(
app/models/phone_desk/scheduling/booking_form.rb:87:              care_case: care_case,
app/models/phone_desk/scheduling/booking_form.rb-88-              member: care_case.patient,
app/models/phone_desk/scheduling/booking_form.rb-89-              appointment_type: selection.appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/scheduling/booking_form.rb-146-
/Users/jschuss/Brightline/reef/app/models/phone_desk/scheduling/booking_form.rb-147-        {
app/models/phone_desk/scheduling/booking_form.rb:148:          care_case_id:,
app/models/phone_desk/scheduling/booking_form.rb-149-          appointment_bundle_id:,
app/models/phone_desk/scheduling/booking_form.rb-150-          staffer_id:,
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/scheduling/booking_form.rb-208-        error_context = BookingErrorContext.new(
app/models/phone_desk/scheduling/booking_form.rb-209-          original_message: error.message,
app/models/phone_desk/scheduling/booking_form.rb:210:          care_case_id: care_case_id,
app/models/phone_desk/scheduling/booking_form.rb-211-          staffer_id: staffer_id,
app/models/phone_desk/scheduling/booking_form.rb-212-          appointment_type_id: selection.appointment_type.id,
--
app/models/chat/desired_channel.rb-9-    attr_reader :account, :care_case, :participants, :chat_id, :chat_type, :change_handler
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-10-
app/models/chat/desired_channel.rb:11:    def initialize(account:, chat_id:, chat_type:, participants:, care_case: nil, change_handler: NoopChannelChanges.new)
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-12-      @account = account
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-13-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-80-
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-81-    def channel_query_parameters
app/models/chat/desired_channel.rb:82:      {account: account, chat_id: chat_id}.merge(care_case: care_case).compact
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-83-    end
/Users/jschuss/Brightline/reef/app/models/chat/desired_channel.rb-84-  end
--
/Users/jschuss/Brightline/reef/app/models/phone_desk/account.rb-384-        !lead_info.referring_provider.user_submitted?
/Users/jschuss/Brightline/reef/app/models/phone_desk/account.rb-385-
app/models/phone_desk/account.rb:386:      tagging = CareCaseTagging::Assignment.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/phone_desk/account.rb-387-
/Users/jschuss/Brightline/reef/app/models/phone_desk/account.rb-388-      if should_have_doctor_tag
--
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-50-
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-51-    def higher_risk_care_case
app/models/chat/new_care_guide_message.rb:52:      account.care_cases.find { |care_case| CareGuide::Evaluator.evaluate(care_case: care_case).risk_level == :high }
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-53-    end
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-54-
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-55-    def lower_risk_care_case
app/models/chat/new_care_guide_message.rb:56:      account.care_cases.find { |care_case| CareGuide::Evaluator.evaluate(care_case: care_case).risk_level == :low }
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-57-    end
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-58-
--
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-72-      I18n.t("care_guide_chat_channel.automated_messages.guided_care_member_disengaged_with_higher_risk_evaluation",
app/models/chat/new_care_guide_message.rb-73-        caregiver_name: member.first_name,
app/models/chat/new_care_guide_message.rb:74:        booking_link: new_members_care_case_intake_care_guide_appointments_url(care_case_id: higher_risk_care_case.id),
app/models/chat/new_care_guide_message.rb:75:        paperwork_link: members_care_case_paperwork_start_url(care_case_id: higher_risk_care_case.id),
app/models/chat/new_care_guide_message.rb-76-        locale: member.display_language_id)
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-77-    end
--
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-82-      I18n.t("care_guide_chat_channel.automated_messages.guided_care_member_disengaged_with_lower_risk_evaluation",
app/models/chat/new_care_guide_message.rb-83-        caregiver_name: member.first_name,
app/models/chat/new_care_guide_message.rb:84:        booking_link: new_members_care_case_intake_care_guide_appointments_url(care_case_id: lower_risk_care_case&.id),
app/models/chat/new_care_guide_message.rb:85:        paperwork_link: members_care_case_paperwork_start_url(care_case_id: lower_risk_care_case&.id),
app/models/chat/new_care_guide_message.rb-86-        locale: member.display_language_id)
/Users/jschuss/Brightline/reef/app/models/chat/new_care_guide_message.rb-87-    end
--
app/models/care_documents/therapy_care_plan.rb-11-#  created_at   :datetime         not null
app/models/care_documents/therapy_care_plan.rb-12-#  updated_at   :datetime         not null
app/models/care_documents/therapy_care_plan.rb:13:#  care_case_id :uuid             not null
app/models/care_documents/therapy_care_plan.rb-14-#  staffer_id   :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan.rb-15-#
--
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan.rb-22-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan.rb-23-#
app/models/care_documents/therapy_care_plan.rb:24:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan.rb-25-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan.rb-26-#
--
app/models/risk_assessment.rb-17-#  created_at                              :datetime         not null
app/models/risk_assessment.rb-18-#  updated_at                              :datetime         not null
app/models/risk_assessment.rb:19:#  care_case_id                            :uuid             not null
app/models/risk_assessment.rb-20-#  processed_welkin_assessment_response_id :bigint
app/models/risk_assessment.rb-21-#  staffer_id                              :uuid
--
/Users/jschuss/Brightline/reef/app/models/risk_assessment.rb-29-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/risk_assessment.rb-30-#
app/models/risk_assessment.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/risk_assessment.rb-32-#  fk_rails_...  (processed_welkin_assessment_response_id => processed_welkin_assessment_responses.id)
/Users/jschuss/Brightline/reef/app/models/risk_assessment.rb-33-#  fk_rails_...  (staffer_id => staffers.id)
--
app/models/service_line_referral.rb-9-#  created_at    :datetime         not null
app/models/service_line_referral.rb-10-#  updated_at    :datetime         not null
app/models/service_line_referral.rb:11:#  care_case_id  :uuid             not null
app/models/service_line_referral.rb-12-#  referral_id   :uuid
app/models/service_line_referral.rb-13-#  staffer_id    :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/service_line_referral.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/service_line_referral.rb-22-#
app/models/service_line_referral.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/service_line_referral.rb-24-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/service_line_referral.rb-25-#
--
app/models/appointment.rb-18-#  acuity_appointment_id       :bigint
app/models/appointment.rb-19-#  appointment_type_id         :string
app/models/appointment.rb:20:#  care_case_id                :uuid
app/models/appointment.rb-21-#  clinic_id                   :uuid
app/models/appointment.rb-22-#  healthie_appointment_id     :string
--
/Users/jschuss/Brightline/reef/app/models/appointment.rb-46-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/appointment.rb-47-#
app/models/appointment.rb:48:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/appointment.rb-49-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/appointment.rb-50-#  fk_rails_...  (staffer_id => staffers.id)
--
/Users/jschuss/Brightline/reef/app/models/appointment.rb-131-    return all if region_id.blank?
/Users/jschuss/Brightline/reef/app/models/appointment.rb-132-
app/models/appointment.rb:133:    where(care_case_id: CareCase.in_region(region_id).select(:id))
/Users/jschuss/Brightline/reef/app/models/appointment.rb-134-  }
app/models/appointment.rb-135-  scope :with_payer, ->(payer_id) {
/Users/jschuss/Brightline/reef/app/models/appointment.rb-136-    return all if payer_id.blank?
/Users/jschuss/Brightline/reef/app/models/appointment.rb-137-
app/models/appointment.rb:138:    where(care_case_id: CareCase.with_payer(payer_id).select(:id))
/Users/jschuss/Brightline/reef/app/models/appointment.rb-139-  }
/Users/jschuss/Brightline/reef/app/models/appointment.rb-140-
--
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-38-
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-39-    def therapist_channels_for_care_case(care_case)
app/models/chat/channel_list.rb:40:      SendbirdChatChannel.therapist_channels_for_care_case(care_case:, member:).map { channel_info_for(it) }
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-41-    end
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-42-
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-43-    def prescriber_channels_for_care_case(care_case)
app/models/chat/channel_list.rb:44:      SendbirdChatChannel.prescriber_channels_for_care_case(care_case:, member:).map { channel_info_for(it) }
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-45-    end
/Users/jschuss/Brightline/reef/app/models/chat/channel_list.rb-46-
--
app/models/processed_welkin_assessment_response.rb-10-#  created_at                    :datetime         not null
app/models/processed_welkin_assessment_response.rb-11-#  updated_at                    :datetime         not null
app/models/processed_welkin_assessment_response.rb:12:#  care_case_id                  :uuid             not null
app/models/processed_welkin_assessment_response.rb-13-#  staffer_id                    :uuid
app/models/processed_welkin_assessment_response.rb-14-#  welkin_assessment_id          :string
--
/Users/jschuss/Brightline/reef/app/models/processed_welkin_assessment_response.rb-22-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/processed_welkin_assessment_response.rb-23-#
app/models/processed_welkin_assessment_response.rb:24:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/processed_welkin_assessment_response.rb-25-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/processed_welkin_assessment_response.rb-26-#
--
app/models/progress/new_goal.rb-7-    invokable_via :create!
/Users/jschuss/Brightline/reef/app/models/progress/new_goal.rb-8-
app/models/progress/new_goal.rb:9:    def initialize(goal_params:, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/progress/new_goal.rb-10-      @goal_params = goal_params
/Users/jschuss/Brightline/reef/app/models/progress/new_goal.rb-11-      @care_case = care_case
--
app/models/session_pass.rb-11-#  created_at                   :datetime         not null
app/models/session_pass.rb-12-#  updated_at                   :datetime         not null
app/models/session_pass.rb:13:#  care_case_id                 :uuid             not null
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-14-#
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-15-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-20-#
app/models/session_pass.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-22-#
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-23-class SessionPass < ApplicationRecord
--
app/models/session_pass.rb-29-  has_one :billable_session_pass
/Users/jschuss/Brightline/reef/app/models/session_pass.rb-30-
app/models/session_pass.rb:31:  scope :for_care_case, ->(care_case) { where(care_case: care_case) }
app/models/session_pass.rb-32-  scope :defined_by, ->(session_pass_definition) { where(session_pass_definition_name: session_pass_definition&.slug) }
app/models/session_pass.rb-33-  scope :starts_before, ->(time) { where("starts_at < ?", time) }
--
app/models/analytics/event/care_guide_appointment_availability/viewed.rb-17-        attribute :staffer_ids, DryTypes::Array.of(DryTypes::Coercible::String).meta(description: "The staffer IDs of available appointment times")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment_availability/viewed.rb-18-
app/models/analytics/event/care_guide_appointment_availability/viewed.rb:19:        def self.build(care_case_id:, proxy_care_case_id:, date_viewed:, appointment_type_id:, times_viewed:, timezone:, staffer_ids:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment_availability/viewed.rb-20-          new(
app/models/analytics/event/care_guide_appointment_availability/viewed.rb:21:            care_case_id: care_case_id,
app/models/analytics/event/care_guide_appointment_availability/viewed.rb:22:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_guide_appointment_availability/viewed.rb-23-            date_viewed: date_viewed.to_date,
app/models/analytics/event/care_guide_appointment_availability/viewed.rb-24-            appointment_type_id: appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-19-    end
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-20-
app/models/chat/channel_id.rb:21:    def self.therapist(member:, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-22-      "member/#{member.id}/care_case/#{care_case.id}/therapist/#{staffer.id}"
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-23-    end
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-24-
app/models/chat/channel_id.rb:25:    def self.prescriber(member:, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-26-      "member/#{member.id}/care_case/#{care_case.id}/prescriber/#{staffer.id}"
/Users/jschuss/Brightline/reef/app/models/chat/channel_id.rb-27-    end
--
app/models/care_documents/therapy_care_plan/referral_reason.rb-12-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan/referral_reason.rb-13-
app/models/care_documents/therapy_care_plan/referral_reason.rb:14:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan/referral_reason.rb-15-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan/referral_reason.rb-16-      end
--
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan/referral_reason.rb-22-      def assessments
app/models/care_documents/therapy_care_plan/referral_reason.rb-23-        WelkinV8::Records::AssessmentRecord
app/models/care_documents/therapy_care_plan/referral_reason.rb:24:          .where(care_case: care_case)
app/models/care_documents/therapy_care_plan/referral_reason.rb-25-          .find_each.map(&:data_object).filter(&:completed?)
/Users/jschuss/Brightline/reef/app/models/care_documents/therapy_care_plan/referral_reason.rb-26-      end
--
app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb-17-          attribute :timezone, DryTypes::Coercible::String.meta(description: "The timezone of the member")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb-18-
app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb:19:          def self.build(care_case_id:, proxy_care_case_id:, date_viewed:, appointment_type_id:, times_viewed:, timezone:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb-20-            new(
app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb:21:              care_case_id: care_case_id,
app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb:22:              proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb-23-              date_viewed: date_viewed.to_date,
app/models/analytics/event/care_guide_appointment_availability/more_times/clicked.rb-24-              appointment_type_id: appointment_type_id,
--
/Users/jschuss/Brightline/reef/app/models/wait_list/appointment_scheduled.rb-8-      care_case = event.care_case
/Users/jschuss/Brightline/reef/app/models/wait_list/appointment_scheduled.rb-9-      appointment_type = event.appointment.appointment_type
app/models/wait_list/appointment_scheduled.rb:10:      entry = WaitList::Entry.active.find_by(care_case: care_case, root_appointment_type_id: appointment_type.root_appointment_type_id)
/Users/jschuss/Brightline/reef/app/models/wait_list/appointment_scheduled.rb-11-      RemoveFromWaitListJob.perform_later(entry.id) if entry
/Users/jschuss/Brightline/reef/app/models/wait_list/appointment_scheduled.rb-12-    end
--
/Users/jschuss/Brightline/reef/app/models/care_guide/automated_message_service.rb-55-      I18n.t("care_guide_chat_channel.automated_messages.#{scenario}",
app/models/care_guide/automated_message_service.rb-56-        caregiver_name: caregiver.first_name,
app/models/care_guide/automated_message_service.rb:57:        booking_link: new_members_care_case_intake_care_guide_appointments_url(care_case_id: care_case.id),
app/models/care_guide/automated_message_service.rb:58:        paperwork_link: members_care_case_paperwork_start_url(care_case_id: care_case.id),
app/models/care_guide/automated_message_service.rb-59-        locale: caregiver.display_language_id)
/Users/jschuss/Brightline/reef/app/models/care_guide/automated_message_service.rb-60-    end
--
app/models/care_guide/automated_message_service.rb-66-        message: scenario_message,
app/models/care_guide/automated_message_service.rb-67-        member_name: caregiver.first_name,
app/models/care_guide/automated_message_service.rb:68:        booking_link: new_members_care_case_intake_care_guide_appointments_url(care_case_id: care_case.id),
app/models/care_guide/automated_message_service.rb:69:        paperwork_link: members_care_case_paperwork_start_url(care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/care_guide/automated_message_service.rb-70-      }
/Users/jschuss/Brightline/reef/app/models/care_guide/automated_message_service.rb-71-    end
--
app/models/care_documents/discharge_summary.rb-11-#  created_at   :datetime         not null
app/models/care_documents/discharge_summary.rb-12-#  updated_at   :datetime         not null
app/models/care_documents/discharge_summary.rb:13:#  care_case_id :uuid             not null
app/models/care_documents/discharge_summary.rb-14-#  staffer_id   :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary.rb-15-#
--
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary.rb-22-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary.rb-23-#
app/models/care_documents/discharge_summary.rb:24:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary.rb-25-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/care_documents/discharge_summary.rb-26-#
--
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-15-      if event.service_line_id == "care_guide" && account.assigned_care_guide.blank?
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-16-        create_task!(
app/models/care_guide/referral_service.rb:17:          care_case: care_case,
app/models/care_guide/referral_service.rb-18-          previous_service_line: ServiceLine.find(event.previous_service_line_id)
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-19-        )
--
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-21-    end
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-22-
app/models/care_guide/referral_service.rb:23:    def initialize(care_case:, previous_service_line:)
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-24-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_guide/referral_service.rb-25-      @previous_service_line = previous_service_line
--
app/models/care_guide/evaluator.rb-12-    attr_accessor :endorsements
/Users/jschuss/Brightline/reef/app/models/care_guide/evaluator.rb-13-
app/models/care_guide/evaluator.rb:14:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_guide/evaluator.rb-15-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_guide/evaluator.rb-16-      @endorsements = []
--
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-58-    # @return [Boolean]
app/models/wait_list/api.rb-59-    def self.join(care_case, reason:, appointment_type: nil, root_appointment_type: nil, added_at: Time.current, notes: nil, clinic_ids: [], priority: false)
app/models/wait_list/api.rb:60:      return true if ::WaitList::Entry.active.exists?(care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-61-      # Maybe if they're not joining the waitlist we want a separate method / API?
app/models/wait_list/api.rb-62-      if reason == ::WaitList::Reason.no_provider_availability
--
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-64-      else
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-65-        root_appointment_type ||= appointment_type.root_appointment_type
app/models/wait_list/api.rb:66:        ::WaitList::Entry.create!(care_case:, appointment_type:, root_appointment_type:, added_at:, notes:, clinic_ids:, priority:)
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-67-      end
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-68-      # Add Tag
app/models/wait_list/api.rb-69-      ::WaitList::Tag.add(care_case, reason: reason)
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-70-      # Broadcast Event (will be used to trigger email!)
app/models/wait_list/api.rb:71:      EventSystem::Publisher.broadcast_later(WaitListJoinedEvent.new(care_case: care_case, reason: reason))
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-72-      true
/Users/jschuss/Brightline/reef/app/models/wait_list/api.rb-73-    end
--
app/models/care_documents/care_document.rb-11-#  created_at   :datetime         not null
app/models/care_documents/care_document.rb-12-#  updated_at   :datetime         not null
app/models/care_documents/care_document.rb:13:#  care_case_id :uuid             not null
app/models/care_documents/care_document.rb-14-#  staffer_id   :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_documents/care_document.rb-15-#
--
/Users/jschuss/Brightline/reef/app/models/care_documents/care_document.rb-22-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_documents/care_document.rb-23-#
app/models/care_documents/care_document.rb:24:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_documents/care_document.rb-25-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/care_documents/care_document.rb-26-#
--
app/models/care_documents/care_document.rb-32-    belongs_to :staffer
/Users/jschuss/Brightline/reef/app/models/care_documents/care_document.rb-33-
app/models/care_documents/care_document.rb:34:    scope :for_care_case, ->(care_case) { where(care_case: care_case) }
app/models/care_documents/care_document.rb-35-    scope :published, -> { where.not(published_at: nil) }
app/models/care_documents/care_document.rb-36-    scope :draft, -> { where(published_at: nil) }
--
/Users/jschuss/Brightline/reef/app/models/care_guide/exclusion_service.rb-29-
/Users/jschuss/Brightline/reef/app/models/care_guide/exclusion_service.rb-30-    def evaluate_for_care_guide_exclusions
app/models/care_guide/exclusion_service.rb:31:      @evaluator = CareGuide::Evaluator.evaluate(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/care_guide/exclusion_service.rb-32-    end
/Users/jschuss/Brightline/reef/app/models/care_guide/exclusion_service.rb-33-
--
app/models/candid_patient.rb-23-#  created_at                              :datetime         not null
app/models/candid_patient.rb-24-#  updated_at                              :datetime         not null
app/models/candid_patient.rb:25:#  care_case_id                            :uuid             not null
app/models/candid_patient.rb-26-#  contract_id                             :uuid             not null
app/models/candid_patient.rb-27-#  source_id                               :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-36-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-37-#
app/models/candid_patient.rb:38:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-39-#  fk_rails_...  (contract_id => contracts.id)
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-40-#
--
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-112-    }
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-113-
app/models/candid_patient.rb:114:  scope :by_contract_and_care_case, ->(contract, care_case) { where(contract: contract, care_case: care_case) }
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-115-
/Users/jschuss/Brightline/reef/app/models/candid_patient.rb-116-  # The most recently created CandidPatient to submit a
--
app/models/wait_list/outreach_attempt.rb-31-    enum :mode, Mode.as_string_map
/Users/jschuss/Brightline/reef/app/models/wait_list/outreach_attempt.rb-32-
app/models/wait_list/outreach_attempt.rb:33:    scope :for_care_case, ->(care_case) { joins(entry: :care_case).where(wait_list_entries: {care_case_id: care_case.id}) }
app/models/wait_list/outreach_attempt.rb-34-    scope :active, -> { where("coalesce(expires_at > ?, true)", Time.zone.now) }
app/models/wait_list/outreach_attempt.rb-35-    scope :most_recent, -> { order(initiated_at: :desc) }
--
/Users/jschuss/Brightline/reef/app/models/wait_list/tag.rb-15-
/Users/jschuss/Brightline/reef/app/models/wait_list/tag.rb-16-    def add
app/models/wait_list/tag.rb:17:      CareCaseTagging::Assignment.new(care_case: care_case).add_tag(tag)
/Users/jschuss/Brightline/reef/app/models/wait_list/tag.rb-18-    end
/Users/jschuss/Brightline/reef/app/models/wait_list/tag.rb-19-
--
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork_reminder.rb-43-      def deliver_via_email
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork_reminder.rb-44-        ReminderMailer.with(
app/models/notification/paperwork/new_paperwork_reminder.rb:45:          care_case: care_case,
app/models/notification/paperwork/new_paperwork_reminder.rb-46-          member: caregiver
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork_reminder.rb-47-        ).new_paperwork_email.deliver_now
--
app/models/case_role.rb-9-#  created_at   :datetime         not null
app/models/case_role.rb-10-#  updated_at   :datetime         not null
app/models/case_role.rb:11:#  care_case_id :uuid             not null
app/models/case_role.rb-12-#  member_id    :uuid             not null
/Users/jschuss/Brightline/reef/app/models/case_role.rb-13-#
--
/Users/jschuss/Brightline/reef/app/models/case_role.rb-20-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/case_role.rb-21-#
app/models/case_role.rb:22:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/case_role.rb-23-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/case_role.rb-24-#
--
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/link.rb-6-
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/link.rb-7-        def generate(care_case, member, link_params = {})
app/models/notification/paperwork/link.rb:8:          opts = if CareModel.brightlife_kids?(care_case:)
app/models/notification/paperwork/link.rb-9-            {url: members_care_case_paperwork_start_url(care_case, link_params)}
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/link.rb-10-          else
app/models/notification/paperwork/link.rb:11:            token = ::Paperwork::AccessToken.find_or_generate_active_token(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/link.rb-12-
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/link.rb-13-            {
--
app/models/wait_list/entry.rb-17-#  updated_at               :datetime         not null
app/models/wait_list/entry.rb-18-#  appointment_type_id      :string
app/models/wait_list/entry.rb:19:#  care_case_id             :uuid
app/models/wait_list/entry.rb-20-#  removed_by_id            :uuid
app/models/wait_list/entry.rb-21-#  root_appointment_type_id :string
--
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-28-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-29-#
app/models/wait_list/entry.rb:30:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-31-#
app/models/wait_list/entry.rb-32-class WaitList::Entry < ApplicationRecord
--
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-99-    end
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-100-  end
app/models/wait_list/entry.rb:101:  scope :with_region, ->(region_id) { joins(:care_case).where(care_case: {region_id: region_id}) if region_id.present? }
app/models/wait_list/entry.rb-102-  scope :with_appointment_type_id, ->(appointment_type_id) { where(appointment_type_id: appointment_type_id) if appointment_type_id.present? }
app/models/wait_list/entry.rb-103-  scope :with_root_appointment_type_id, ->(root_appointment_type_id) { where(root_appointment_type_id: root_appointment_type_id) if root_appointment_type_id.present? }
app/models/wait_list/entry.rb-104-  scope :with_payer_id, ->(payer_id) {
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-105-    return if Array(payer_id).compact_blank.empty?
app/models/wait_list/entry.rb:106:    where(care_case_id: CareCase.with_payer(payer_id).select(:id))
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-107-  }
app/models/wait_list/entry.rb-108-  scope :with_clinic_id, ->(clinic_id) {
--
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-139-    transaction do
app/models/wait_list/entry.rb-140-      update!(removed_at: Time.current, removed_reason:, removed_by:, removed_reason_text:)
app/models/wait_list/entry.rb:141:      CareCaseTagging::Assignment.new(care_case:).remove_tag(CareCaseTagging::Tag.waitlisted.to_sym)
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-142-    end
/Users/jschuss/Brightline/reef/app/models/wait_list/entry.rb-143-    true
--
app/models/wait_list/reminder.rb-23-        group: :biller,
app/models/wait_list/reminder.rb-24-        account: care_case.account,
app/models/wait_list/reminder.rb:25:        care_case: care_case,
app/models/wait_list/reminder.rb-26-        subject: care_case,
app/models/wait_list/reminder.rb-27-        due_date: Time.zone.now + 1.day,
--
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork.rb-47-
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork.rb-48-      def patient?
app/models/notification/paperwork/new_paperwork.rb:49:        CareCaseMember.new(care_case: care_case, member: member).patient?
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork.rb-50-      end
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork.rb-51-
--
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork_teen_reminder.rb-43-      def deliver_via_email
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork_teen_reminder.rb-44-        ReminderMailer.with(
app/models/notification/paperwork/new_paperwork_teen_reminder.rb:45:          care_case: care_case,
app/models/notification/paperwork/new_paperwork_teen_reminder.rb-46-          member: patient
/Users/jschuss/Brightline/reef/app/models/notification/paperwork/new_paperwork_teen_reminder.rb-47-        ).new_paperwork_email.deliver_now
--
app/models/notification/care_case/post_discharge_survey.rb-80-          survey_type: ::Survey::Type.post_discharge,
app/models/notification/care_case/post_discharge_survey.rb-81-          member: recipient,
app/models/notification/care_case/post_discharge_survey.rb:82:          care_case: discharge.care_case,
app/models/notification/care_case/post_discharge_survey.rb-83-          subject: discharge
/Users/jschuss/Brightline/reef/app/models/notification/care_case/post_discharge_survey.rb-84-        )
--
app/models/notification/assignment/assessment_reminder.rb-87-          next_appointment_time:,
app/models/notification/assignment/assessment_reminder.rb-88-          assignment_url:,
app/models/notification/assignment/assessment_reminder.rb:89:          teen: CareCaseMember.teen?(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/notification/assignment/assessment_reminder.rb-90-        }
/Users/jschuss/Brightline/reef/app/models/notification/assignment/assessment_reminder.rb-91-      end
--
app/models/event_tracker/onboarding_events.rb-6-      Event.create(name: "intake_completed", subject: event.care_case, payload: {
app/models/event_tracker/onboarding_events.rb-7-        account_id: event.account.id,
app/models/event_tracker/onboarding_events.rb:8:        care_case_id: event.care_case.id,
app/models/event_tracker/onboarding_events.rb-9-        intake_appointment_id: event.intake_appointment&.id,
app/models/event_tracker/onboarding_events.rb-10-        program_id: event.program&.id
--
/Users/jschuss/Brightline/reef/app/models/mood_tracking/automatic_unenrollment.rb-53-      # Trying to guard agains them having been discharged from therapy and then started coaching.
app/models/mood_tracking/automatic_unenrollment.rb-54-      coach_ids = Staffer.with_care_capability(Capability.coaching).pluck(:id).flatten
app/models/mood_tracking/automatic_unenrollment.rb:55:      Discharge.where(care_case: other_care_case, staffer: coach_ids).where("last_session_on > ?", ACTIVE_LOOKBACK_WINDOW.ago).exists?
/Users/jschuss/Brightline/reef/app/models/mood_tracking/automatic_unenrollment.rb-56-    end
/Users/jschuss/Brightline/reef/app/models/mood_tracking/automatic_unenrollment.rb-57-  end
--
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_backup_supervisor_job.rb-14-
app/models/clinical_team/remove_backup_supervisor_job.rb-15-      result = ClinicalTeam::RemoveStafferFromCareCase.call(
app/models/clinical_team/remove_backup_supervisor_job.rb:16:        care_case: care_case,
app/models/clinical_team/remove_backup_supervisor_job.rb-17-        staffer: staffer
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_backup_supervisor_job.rb-18-      )
--
app/models/ca_connect_care_case.rb-9-#  created_at   :datetime         not null
app/models/ca_connect_care_case.rb-10-#  updated_at   :datetime         not null
app/models/ca_connect_care_case.rb:11:#  care_case_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/ca_connect_care_case.rb-12-#
/Users/jschuss/Brightline/reef/app/models/ca_connect_care_case.rb-13-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/ca_connect_care_case.rb-17-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/ca_connect_care_case.rb-18-#
app/models/ca_connect_care_case.rb:19:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/ca_connect_care_case.rb-20-#
/Users/jschuss/Brightline/reef/app/models/ca_connect_care_case.rb-21-class CaConnectCareCase < ApplicationRecord
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/consolidated_appointment_sms.rb-27-          recipient,
app/models/notification/appointment/consolidated_appointment_sms.rb-28-          appointment_count: appointment_count,
app/models/notification/appointment/consolidated_appointment_sms.rb:29:          care_case: care_case
/Users/jschuss/Brightline/reef/app/models/notification/appointment/consolidated_appointment_sms.rb-30-        )
app/models/notification/appointment/consolidated_appointment_sms.rb-31-        ::Notification::DeliveryAttempt.sent(messageable)
--
app/models/clinical_team/care_guide.rb-10-    attr_reader :account, :care_case, :staffer
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-11-
app/models/clinical_team/care_guide.rb:12:    def initialize(account:, staffer:, care_case: nil)
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-13-      @account = account
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-14-      @care_case = care_case
--
app/models/clinical_team/care_guide.rb-52-      account.update!(assigned_care_guide: staffer)
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-53-      if care_case.present?
app/models/clinical_team/care_guide.rb:54:        AddStafferToCareCase.call(care_case: care_case, staffer: staffer, primary: false)
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-55-      else
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-56-        account.care_cases.each do |care_case|
app/models/clinical_team/care_guide.rb:57:          AddStafferToCareCase.call(care_case: care_case, staffer: staffer, primary: false)
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-58-        end
/Users/jschuss/Brightline/reef/app/models/clinical_team/care_guide.rb-59-      end
--
/Users/jschuss/Brightline/reef/app/models/covered_entity/update.rb-75-
/Users/jschuss/Brightline/reef/app/models/covered_entity/update.rb-76-    def delete_ongoing_eligibility_checks
app/models/covered_entity/update.rb:77:      OngoingEligibilityCheck.needs_review.where(care_case_id: @new_covered_entity.care_cases).destroy_all
/Users/jschuss/Brightline/reef/app/models/covered_entity/update.rb-78-    end
/Users/jschuss/Brightline/reef/app/models/covered_entity/update.rb-79-
--
/Users/jschuss/Brightline/reef/app/models/event_tracker/care_case_role_events.rb-13-    def on_member_removed_from_care_case(event)
app/models/event_tracker/care_case_role_events.rb-14-      Event.create(name: "member_removed_from_care_case", subject: event.care_case, payload: {
app/models/event_tracker/care_case_role_events.rb:15:        care_case_id: event.care_case.id,
app/models/event_tracker/care_case_role_events.rb-16-        member_id: event.member.id,
app/models/event_tracker/care_case_role_events.rb-17-        role_name: event.role_name
--
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach.rb-32-
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach.rb-33-    def assign_coach
app/models/clinical_team/coach.rb:34:      AddStafferToCareCase.call(care_case: care_case, staffer: care_case.account.assigned_coach, primary: false)
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach.rb-35-    end
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach.rb-36-
--
app/models/clinical_team/coach.rb-40-        group: :coach,
app/models/clinical_team/coach.rb-41-        account: care_case.account,
app/models/clinical_team/coach.rb:42:        care_case: care_case,
app/models/clinical_team/coach.rb-43-        due_date: Time.zone.now
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach.rb-44-      )
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication/viewed.rb-12-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication/viewed.rb-13-
app/models/analytics/event/coverage_indication/viewed.rb:14:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication/viewed.rb-15-          new(
app/models/analytics/event/coverage_indication/viewed.rb:16:            care_case_id: care_case.id,
app/models/analytics/event/coverage_indication/viewed.rb:17:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication/viewed.rb-18-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/coverage_indication/viewed.rb-19-        end
--
app/models/event_tracker/calendaring_events.rb-44-        appointment_id: appointment.id,
app/models/event_tracker/calendaring_events.rb-45-        appointment_type_id: appointment.appointment_type_id,
app/models/event_tracker/calendaring_events.rb:46:        care_case_id: care_case.id,
app/models/event_tracker/calendaring_events.rb-47-        appointment_cancelation_id: appointment_cancelation&.id
/Users/jschuss/Brightline/reef/app/models/event_tracker/calendaring_events.rb-48-      })
--
app/models/clinical_team/remove_staffer_from_care_case.rb-5-    attr_reader :care_case, :staffer, :clinical_role
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_staffer_from_care_case.rb-6-
app/models/clinical_team/remove_staffer_from_care_case.rb:7:    def initialize(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_staffer_from_care_case.rb-8-      @care_case, @staffer = care_case, staffer
app/models/clinical_team/remove_staffer_from_care_case.rb-9-      @clinical_role = care_case.clinical_roles.find_by(staffer_id: staffer.id)
--
app/models/clinical_team/remove_staffer_from_care_case.rb-22-        result.failure(errors: ["Can not remove the primary clinician from a care case. Please assign a new primary first."])
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_staffer_from_care_case.rb-23-      elsif clinical_role.destroy
app/models/clinical_team/remove_staffer_from_care_case.rb:24:        EventSystem::Publisher.broadcast(RemovedStafferFromCareCaseEvent.new(care_case: care_case, staffer: staffer, clinical_role: clinical_role))
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_staffer_from_care_case.rb-25-        result.success
/Users/jschuss/Brightline/reef/app/models/clinical_team/remove_staffer_from_care_case.rb-26-      end
--
app/models/event_tracker/treatment_events.rb-6-      Event.create(name: "treatment_started", subject: event.care_case, payload: {
app/models/event_tracker/treatment_events.rb-7-        via: event.via,
app/models/event_tracker/treatment_events.rb:8:        care_case_id: event.care_case.id
/Users/jschuss/Brightline/reef/app/models/event_tracker/treatment_events.rb-9-      })
/Users/jschuss/Brightline/reef/app/models/event_tracker/treatment_events.rb-10-    end
--
app/models/event_tracker/treatment_events.rb-13-      Event.create(name: "treatment_ended", subject: event.care_case, payload: {
app/models/event_tracker/treatment_events.rb-14-        via: event.via,
app/models/event_tracker/treatment_events.rb:15:        care_case_id: event.care_case.id
/Users/jschuss/Brightline/reef/app/models/event_tracker/treatment_events.rb-16-      })
/Users/jschuss/Brightline/reef/app/models/event_tracker/treatment_events.rb-17-    end
--
/Users/jschuss/Brightline/reef/app/models/event_tracker/treatment_events.rb-19-    def on_session_note_added_to_appointment(event)
app/models/event_tracker/treatment_events.rb-20-      Event.create(name: "session_note_added_to_appointment", subject: event.care_case, payload: {
app/models/event_tracker/treatment_events.rb:21:        care_case_id: event.care_case.id,
app/models/event_tracker/treatment_events.rb-22-        appointment_id: event.appointment.id,
app/models/event_tracker/treatment_events.rb-23-        staffer_id: event.staffer.id,
--
/Users/jschuss/Brightline/reef/app/models/event_tracker/treatment_events.rb-28-    def on_session_note_updated(event)
app/models/event_tracker/treatment_events.rb-29-      Event.create(name: "session_note_updated", subject: event.care_case, payload: {
app/models/event_tracker/treatment_events.rb:30:        care_case_id: event.care_case.id,
app/models/event_tracker/treatment_events.rb-31-        appointment_id: event.appointment.id,
app/models/event_tracker/treatment_events.rb-32-        staffer_id: event.staffer.id,
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/helpers/appointment_helper.rb-12-        # @return [Boolean] Whether the recipient has any incomplete paperwork
/Users/jschuss/Brightline/reef/app/models/notification/appointment/helpers/appointment_helper.rb-13-        def any_incomplete_paperwork?
app/models/notification/appointment/helpers/appointment_helper.rb:14:          ::Paperwork::IncompletePaperwork.any?(care_case:, member: recipient)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/helpers/appointment_helper.rb-15-        end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/helpers/appointment_helper.rb-16-
--
app/models/analytics/event/care_page/viewed.rb-15-        attribute :account_id, DryTypes::String.meta(description: "Id for the account")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_page/viewed.rb-16-
app/models/analytics/event/care_page/viewed.rb:17:        def self.build(account:, care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_page/viewed.rb-18-          new(
app/models/analytics/event/care_page/viewed.rb-19-            account_id: account.id,
app/models/analytics/event/care_page/viewed.rb:20:            care_case_id: care_case.id,
app/models/analytics/event/care_page/viewed.rb:21:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_page/viewed.rb-22-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_page/viewed.rb-23-        end
--
/Users/jschuss/Brightline/reef/app/models/clinical_team/mass_coach_swap.rb-57-    def active_chat_care_cases_ids
/Users/jschuss/Brightline/reef/app/models/clinical_team/mass_coach_swap.rb-58-      @active_chat_care_cases_ids ||= CaseRole.patient.where(
app/models/clinical_team/mass_coach_swap.rb:59:        care_case: coach.care_cases,
app/models/clinical_team/mass_coach_swap.rb-60-        member: Member.joins(:sendbird_chat_channels).merge(
/Users/jschuss/Brightline/reef/app/models/clinical_team/mass_coach_swap.rb-61-          SendbirdChatChannel.chat_type_coach.with_message_sent_by_member_since(7.days.ago)
--
app/models/clinical_team/mass_coach_swap.rb-69-      new_coach = swap_to.present? ? swap_to.sample : care_case.account.assigned_coach
/Users/jschuss/Brightline/reef/app/models/clinical_team/mass_coach_swap.rb-70-      return unless new_coach.present?
app/models/clinical_team/mass_coach_swap.rb:71:      ClinicalTeam::CoachSwap.assign!(care_case:, coach: new_coach)
/Users/jschuss/Brightline/reef/app/models/clinical_team/mass_coach_swap.rb-72-    end
/Users/jschuss/Brightline/reef/app/models/clinical_team/mass_coach_swap.rb-73-  end
--
app/models/event_tracker/eligibility_events.rb-11-      Event.create(name: "coverage_info_confirmed", subject: coverage_info.account, payload: {
app/models/event_tracker/eligibility_events.rb-12-        account_id: account.id,
app/models/event_tracker/eligibility_events.rb:13:        care_case_id: care_case&.id,
app/models/event_tracker/eligibility_events.rb-14-        coverage_info_id: coverage_info.id,
app/models/event_tracker/eligibility_events.rb-15-        covered_entity_id: covered_entity.id
--
app/models/event_tracker/eligibility_events.rb-26-        coverage_info_id: coverage_info.id,
app/models/event_tracker/eligibility_events.rb-27-        account_id: account.id,
app/models/event_tracker/eligibility_events.rb:28:        care_case_id: care_case&.id,
app/models/event_tracker/eligibility_events.rb-29-        member_id: member.id
/Users/jschuss/Brightline/reef/app/models/event_tracker/eligibility_events.rb-30-      })
--
app/models/clinical_team/coach_swap.rb-9-    attr_reader :care_case, :coach
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-10-
app/models/clinical_team/coach_swap.rb:11:    def initialize(care_case:, coach:)
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-12-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-13-      @coach = coach
--
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-21-
app/models/clinical_team/coach_swap.rb-22-      ActiveRecord::Base.transaction do
app/models/clinical_team/coach_swap.rb:23:        add_result = AddStafferToCareCase.call(care_case: care_case, staffer: coach, primary: primary)
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-24-        raise "failed to add coach" unless add_result.success?
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-25-
app/models/clinical_team/coach_swap.rb:26:        remove_result = RemoveStafferFromCareCase.call(care_case: care_case, staffer: prior_coach)
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-27-        raise "failed to remove coach" unless remove_result.success?
/Users/jschuss/Brightline/reef/app/models/clinical_team/coach_swap.rb-28-
--
app/models/notification/appointment/appointment_digest.rb-9-#  created_at   :datetime         not null
app/models/notification/appointment/appointment_digest.rb-10-#  updated_at   :datetime         not null
app/models/notification/appointment/appointment_digest.rb:11:#  care_case_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-12-#
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-13-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-20-#
app/models/notification/appointment/appointment_digest.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-22-#
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-23-module Notification
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-46-      # @return [AppointmentDigest] The digest for the care case
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-47-      def self.digest_for(care_case)
app/models/notification/appointment/appointment_digest.rb:48:        find_or_create_by!(care_case: care_case, sent_at: nil)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-49-      end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-50-
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-53-      # @note This may be used in the future to purge out unused digests to prevent memory bloat
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-54-      def self.destroy_sent!(care_case)
app/models/notification/appointment/appointment_digest.rb:55:        where(care_case: care_case).sent.destroy_all
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-56-      end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_digest.rb-57-
--
app/models/clinical_team/add_staffer_to_care_case.rb-5-    attr_reader :care_case, :staffer, :primary
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-6-
app/models/clinical_team/add_staffer_to_care_case.rb:7:    def initialize(care_case:, staffer:, primary:)
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-8-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-9-      @staffer = staffer
--
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-49-
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-50-    def broadcast_events
app/models/clinical_team/add_staffer_to_care_case.rb:51:      EventSystem::Publisher.broadcast(AddedStafferToCareCaseEvent.new(care_case:, staffer:, primary:))
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-52-    end
/Users/jschuss/Brightline/reef/app/models/clinical_team/add_staffer_to_care_case.rb-53-  end
--
app/models/analytics/event/onboarding_focus_areas_next/clicked.rb-15-        attribute :endorsed_coaching_exclusion, DryTypes::Bool.meta(description: "Did the focus areas include a coaching exclusion? Not set when coaching exclusion focus areas were not included")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas_next/clicked.rb-16-
app/models/analytics/event/onboarding_focus_areas_next/clicked.rb:17:        def self.build(care_case:, focus_areas:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas_next/clicked.rb-18-          new(
app/models/analytics/event/onboarding_focus_areas_next/clicked.rb:19:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_focus_areas_next/clicked.rb:20:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/onboarding_focus_areas_next/clicked.rb-21-            endorsed_coaching_exclusion: !!focus_areas&.map(&:to_sym)&.intersect?(FocusArea.coaching_exclusionary.map(&:id)),
app/models/analytics/event/onboarding_focus_areas_next/clicked.rb-22-            focus_areas: focus_areas&.compact_blank
--
/Users/jschuss/Brightline/reef/app/models/member/update.rb-106-      account.care_cases.each do |care_case|
/Users/jschuss/Brightline/reef/app/models/member/update.rb-107-        next if active_state_sponsored_for_care_case(care_case).present?
app/models/member/update.rb:108:        ::Eligibility::StateSponsoredCoverage.verify_and_create!(care_case:)
app/models/member/update.rb-109-        @coverage_updates = {state_sponsored_coverage: true} if active_state_sponsored_for_care_case(care_case.reload).present?
/Users/jschuss/Brightline/reef/app/models/member/update.rb-110-      end
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-35-
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-36-      def should_send?
app/models/notification/appointment/incomplete_paperwork_second_reminder.rb:37:        !appointment.canceled? && Rules::Member::HasIncompleteRequiredPreAppointmentAssignments.call(care_case: care_case, member: recipient)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-38-      end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-39-
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-44-      def deliver_via_email
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-45-        ReminderMailer.with(
app/models/notification/appointment/incomplete_paperwork_second_reminder.rb:46:          care_case: care_case,
app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-47-          member: recipient
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_second_reminder.rb-48-        ).incomplete_paperwork_email.deliver_now
--
/Users/jschuss/Brightline/reef/app/models/texting/templates/consolidated_appointment_sms.rb-11-      # @param care_case [CareCase] The care case associated with the appointment
/Users/jschuss/Brightline/reef/app/models/texting/templates/consolidated_appointment_sms.rb-12-      # @param appointment_count [Integer] The number of appointments in the digest
app/models/texting/templates/consolidated_appointment_sms.rb:13:      def initialize(member:, care_case:, appointment_count:, **_kwargs)
/Users/jschuss/Brightline/reef/app/models/texting/templates/consolidated_appointment_sms.rb-14-        @message_id = SmsMessage.generate_message_id
/Users/jschuss/Brightline/reef/app/models/texting/templates/consolidated_appointment_sms.rb-15-        @member = member
--
/Users/jschuss/Brightline/reef/app/models/member/account_library.rb-13-    def grouped_assignments
/Users/jschuss/Brightline/reef/app/models/member/account_library.rb-14-      @account_member.accessible_cases.each_with_object({}) do |care_case, memo|
app/models/member/account_library.rb:15:        care_case_library = Member::CareCaseLibrary.new(care_case:, member: @account_member.member, is_selected: true)
/Users/jschuss/Brightline/reef/app/models/member/account_library.rb-16-        memo.merge!(care_case_library.grouped_assignments) do |_, old_val, new_val|
/Users/jschuss/Brightline/reef/app/models/member/account_library.rb-17-          old_val + new_val
--
app/models/member/care_case_library.rb-6-    delegate :patient_preferred_name, to: :care_case
/Users/jschuss/Brightline/reef/app/models/member/care_case_library.rb-7-
app/models/member/care_case_library.rb:8:    def initialize(care_case:, member:, is_selected:)
/Users/jschuss/Brightline/reef/app/models/member/care_case_library.rb-9-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/member/care_case_library.rb-10-      @member = member
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment/completed.rb-20-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment/completed.rb-21-        # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/care_navigation_assessment/completed.rb:22:        def self.build(care_case_id:, assessment_id:, display_language_id:, **kwargs)
app/models/analytics/event/care_navigation_assessment/completed.rb-23-          care_case = CareCase.find_by(id: care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment/completed.rb-24-          account_id = care_case.account_id
app/models/analytics/event/care_navigation_assessment/completed.rb:25:          proxy_care_case_id = care_case&.proxy_id
app/models/analytics/event/care_navigation_assessment/completed.rb-26-          intake = ::Assessment.intake.map(&:id).include?(assessment_id.to_sym)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment/completed.rb-27-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment/completed.rb-28-          new(
app/models/analytics/event/care_navigation_assessment/completed.rb:29:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation_assessment/completed.rb:30:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation_assessment/completed.rb-31-            display_language_id: display_language_id,
app/models/analytics/event/care_navigation_assessment/completed.rb-32-            assessment_id: assessment_id,
--
app/models/analytics/event/payment/viewed.rb-15-        attribute :account_id, DryTypes::String.meta(description: "Id for the account")
/Users/jschuss/Brightline/reef/app/models/analytics/event/payment/viewed.rb-16-
app/models/analytics/event/payment/viewed.rb:17:        def self.build(account:, care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/payment/viewed.rb-18-          new(
app/models/analytics/event/payment/viewed.rb-19-            account_id: account.id,
app/models/analytics/event/payment/viewed.rb:20:            care_case_id: care_case&.id,
app/models/analytics/event/payment/viewed.rb:21:            proxy_care_case_id: care_case&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/payment/viewed.rb-22-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/payment/viewed.rb-23-        end
--
app/models/analytics/event/patient_information_step/completed.rb-14-        attribute :step, DryTypes::Coercible::String.meta(description: "The step in the patient information journey that was completed")
/Users/jschuss/Brightline/reef/app/models/analytics/event/patient_information_step/completed.rb-15-
app/models/analytics/event/patient_information_step/completed.rb:16:        def self.build(care_case:, step:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/patient_information_step/completed.rb-17-          new(
app/models/analytics/event/patient_information_step/completed.rb-18-            account_id: care_case.account_id,
app/models/analytics/event/patient_information_step/completed.rb-19-            step: step,
app/models/analytics/event/patient_information_step/completed.rb:20:            care_case_id: care_case.id,
app/models/analytics/event/patient_information_step/completed.rb:21:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/patient_information_step/completed.rb-22-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/patient_information_step/completed.rb-23-        end
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_scheduled_preintake_sms.rb-14-      def should_send?
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_scheduled_preintake_sms.rb-15-        appointment.communicate_as_intake? &&
app/models/notification/appointment/appointment_scheduled_preintake_sms.rb:16:          CareCaseMember.new(care_case: appointment.care_case, member: recipient).caregiver? &&
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_scheduled_preintake_sms.rb-17-          super
/Users/jschuss/Brightline/reef/app/models/notification/appointment/appointment_scheduled_preintake_sms.rb-18-      end
--
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/late_response.rb-18-
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/late_response.rb-19-        def appointment_link
app/models/texting/templates/appointment_reminder_confirmation/late_response.rb:20:          params = tracking_parameters(:appointment_link).merge(care_case_id: @appointment.care_case_id)
app/models/texting/templates/appointment_reminder_confirmation/late_response.rb-21-          url = members_appointment_url(@appointment, params:)
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/late_response.rb-22-
--
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-96-
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-97-      def clinic_care_case?
app/models/member/sms/appointment_confirmation.rb:98:        @care_model ||= CareModel.new(care_case: appointment.care_case).clinic?
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-99-      end
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-100-
--
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-109-
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-110-      def appointment_confirmed_message
app/models/member/sms/appointment_confirmation.rb:111:        klass = if ::Paperwork::IncompletePaperwork.any?(care_case: appointment.care_case, member:)
app/models/member/sms/appointment_confirmation.rb-112-          Texting::Templates::AppointmentReminderConfirmation::IncompletePaperworkConfirmed
/Users/jschuss/Brightline/reef/app/models/member/sms/appointment_confirmation.rb-113-        else
--
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/canceled.rb-17-
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/canceled.rb-18-        def appointment_link
app/models/texting/templates/appointment_reminder_confirmation/canceled.rb:19:          params = tracking_parameters(:appointment_link).merge(care_case_id: @appointment.care_case_id)
app/models/texting/templates/appointment_reminder_confirmation/canceled.rb-20-          url = edit_members_appointment_url(@appointment, params:)
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/canceled.rb-21-
--
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/caregiver_paperwork.rb-148-
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/caregiver_paperwork.rb-149-    def brightlife_kids_care_case?
app/models/initial_paperwork/caregiver_paperwork.rb:150:      MemberExperience::Configuration.new(account: care_case.account, care_case: care_case).care_case_covered_by_program?
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/caregiver_paperwork.rb-151-    end
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/caregiver_paperwork.rb-152-  end
--
app/models/analytics/event/coaching_appointment/completed.rb-19-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/coaching_appointment/completed.rb-20-
app/models/analytics/event/coaching_appointment/completed.rb:21:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/coaching_appointment/completed.rb-22-          new(
app/models/analytics/event/coaching_appointment/completed.rb-23-            account_id: account.id,
app/models/analytics/event/coaching_appointment/completed.rb:24:            care_case_id: care_case.id,
app/models/analytics/event/coaching_appointment/completed.rb:25:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/coaching_appointment/completed.rb-26-            appointment_id: appointment.id,
app/models/analytics/event/coaching_appointment/completed.rb-27-            appointment_type_id: appointment.appointment_type_id,
--
app/models/notification/appointment/post_intake_survey.rb-70-          survey_type: ::Survey::Type.post_intake,
app/models/notification/appointment/post_intake_survey.rb-71-          member: recipient,
app/models/notification/appointment/post_intake_survey.rb:72:          care_case: appointment.care_case,
app/models/notification/appointment/post_intake_survey.rb-73-          subject: appointment
/Users/jschuss/Brightline/reef/app/models/notification/appointment/post_intake_survey.rb-74-        )
--
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/rescheduled.rb-14-
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/rescheduled.rb-15-        def appointment_link
app/models/texting/templates/appointment_reminder_confirmation/rescheduled.rb:16:          params = tracking_parameters(:appointment_link).merge(care_case_id: @appointment.care_case_id)
app/models/texting/templates/appointment_reminder_confirmation/rescheduled.rb-17-          url = edit_members_appointment_url(@appointment, params:)
/Users/jschuss/Brightline/reef/app/models/texting/templates/appointment_reminder_confirmation/rescheduled.rb-18-
--
/Users/jschuss/Brightline/reef/app/models/texting/templates/base_template.rb-63-
/Users/jschuss/Brightline/reef/app/models/texting/templates/base_template.rb-64-      def member_brightlife_kids?
app/models/texting/templates/base_template.rb:65:        return CareModel.brightlife_kids?(care_case: @appointment.care_case) if @appointment.present?
/Users/jschuss/Brightline/reef/app/models/texting/templates/base_template.rb-66-
app/models/texting/templates/base_template.rb:67:        @member.care_cases.any? { CareModel.brightlife_kids?(care_case: it) }
/Users/jschuss/Brightline/reef/app/models/texting/templates/base_template.rb-68-      end
/Users/jschuss/Brightline/reef/app/models/texting/templates/base_template.rb-69-    end
--
/Users/jschuss/Brightline/reef/app/models/compliance/manual_upsert_care_case_and_member_report_job.rb-12-
/Users/jschuss/Brightline/reef/app/models/compliance/manual_upsert_care_case_and_member_report_job.rb-13-      members.each do |member|
app/models/compliance/manual_upsert_care_case_and_member_report_job.rb:14:        Compliance::CareCaseConsentReport.new(member: member, care_case: care_case).upsert_report!
app/models/compliance/manual_upsert_care_case_and_member_report_job.rb-15-        Compliance::MemberConsentReport.new(member: member).upsert_report!
/Users/jschuss/Brightline/reef/app/models/compliance/manual_upsert_care_case_and_member_report_job.rb-16-      end
--
app/models/analytics/event/coaching_appointment/scheduled.rb-20-        attribute :start_time, DryTypes::String.meta(description: "Start time for the appointment")
/Users/jschuss/Brightline/reef/app/models/analytics/event/coaching_appointment/scheduled.rb-21-
app/models/analytics/event/coaching_appointment/scheduled.rb:22:        def self.build(account:, care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/coaching_appointment/scheduled.rb-23-          new(
app/models/analytics/event/coaching_appointment/scheduled.rb-24-            account_id: account.id,
app/models/analytics/event/coaching_appointment/scheduled.rb:25:            care_case_id: care_case.id,
app/models/analytics/event/coaching_appointment/scheduled.rb:26:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/coaching_appointment/scheduled.rb-27-            appointment_id: appointment.id,
app/models/analytics/event/coaching_appointment/scheduled.rb-28-            appointment_type_id: appointment.appointment_type_id,
--
app/models/compliance/care_case_tracked_consent_report.rb-12-#  created_at                              :datetime         not null
app/models/compliance/care_case_tracked_consent_report.rb-13-#  updated_at                              :datetime         not null
app/models/compliance/care_case_tracked_consent_report.rb:14:#  care_case_id                            :uuid
app/models/compliance/care_case_tracked_consent_report.rb-15-#  member_id                               :uuid
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_tracked_consent_report.rb-16-#
--
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_tracked_consent_report.rb-22-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_tracked_consent_report.rb-23-#
app/models/compliance/care_case_tracked_consent_report.rb:24:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_tracked_consent_report.rb-25-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_tracked_consent_report.rb-26-#
--
app/models/billable_connect_activation.rb-15-#  updated_at                 :datetime         not null
app/models/billable_connect_activation.rb-16-#  activation_group_id        :uuid             not null
app/models/billable_connect_activation.rb:17:#  care_case_id               :uuid             not null
app/models/billable_connect_activation.rb-18-#  conditional_appointment_id :uuid
app/models/billable_connect_activation.rb-19-#  contract_id                :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-12-        member = Member.find(member_id)
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-13-        care_case = CareCase.find(care_case_id)
app/models/compliance/care_case_consent_report.rb:14:        Compliance::CareCaseConsentReport.new(care_case: care_case, member: member).upsert_report!
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-15-      end
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-16-    end
--
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-26-    end
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-27-
app/models/compliance/care_case_consent_report.rb:28:    def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-29-      @care_case, @member = care_case, member
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-30-    end
--
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-32-    def upsert_report!
app/models/compliance/care_case_consent_report.rb-33-      AdvisoryLock.for("care_case_consent_report_#{care_case.id}", context: "CareCaseConsentReport #{care_case.id}", timeout_seconds: 10) do
app/models/compliance/care_case_consent_report.rb:34:        report = Compliance::CareCaseTrackedConsentReport.find_or_create_by!(member: member, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-35-
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-36-        report.update!(
--
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-94-
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-95-    def signed_signature_request?(document_types)
app/models/compliance/care_case_consent_report.rb:96:      Paperwork::SignatureRequest.where(member: member, care_case: care_case, document_id: document_types.map(&:id)).signed.exists?
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-97-    end
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-98-
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-99-    def no_signature_requests_assigned_for(document_types)
app/models/compliance/care_case_consent_report.rb:100:      !Paperwork::SignatureRequest.where(member: member, care_case: care_case, document_id: document_types.map(&:id)).exists?
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-101-    end
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-102-
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-103-    def care_case_member
app/models/compliance/care_case_consent_report.rb:104:      CareCaseMember.new(care_case: care_case, member: member)
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-105-    end
/Users/jschuss/Brightline/reef/app/models/compliance/care_case_consent_report.rb-106-  end
--
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-25-
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-26-    def assign_documents
app/models/initial_paperwork/ensure_paperwork_assigned.rb:27:      Paperwork::AssignDocumentsOnce.call(care_case: paperwork.care_case, member: paperwork.member, documents: paperwork.documents)
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-28-    end
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-29-
--
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-41-
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-42-      paperwork.assessments.each do |assessment|
app/models/initial_paperwork/ensure_paperwork_assigned.rb:43:        Assessment::CareCaseAssignment.find_or_assign!(care_case: paperwork.care_case, member: paperwork.member, assessment:)
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-44-      end
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-45-    end
--
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-49-
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-50-      paperwork.payment_forms.each do |payment_form|
app/models/initial_paperwork/ensure_paperwork_assigned.rb:51:        PaymentFormAssignment.find_or_create_by!(care_case: paperwork.care_case, member: paperwork.member, form_id: payment_form.id)
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-52-      end
/Users/jschuss/Brightline/reef/app/models/initial_paperwork/ensure_paperwork_assigned.rb-53-    end
--
app/models/care_model.rb-19-  attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/care_model.rb-20-
app/models/care_model.rb:21:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_model.rb-22-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_model.rb-23-  end
--
app/models/square_customer.rb-9-#  created_at   :datetime         not null
app/models/square_customer.rb-10-#  updated_at   :datetime         not null
app/models/square_customer.rb:11:#  care_case_id :uuid
app/models/square_customer.rb-12-#  external_id  :string           not null
/Users/jschuss/Brightline/reef/app/models/square_customer.rb-13-#
--
/Users/jschuss/Brightline/reef/app/models/square_customer.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/square_customer.rb-20-#
app/models/square_customer.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/square_customer.rb-22-#
/Users/jschuss/Brightline/reef/app/models/square_customer.rb-23-class SquareCustomer < ApplicationRecord
--
app/models/analytics/event/account_benefit_coverage_indication_no/clicked.rb-12-        attribute :care_case_id, DryTypes::Coercible::String.meta(description: "The ID of the care case")
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication_no/clicked.rb-13-
app/models/analytics/event/account_benefit_coverage_indication_no/clicked.rb:14:        def self.build(care_case:)
app/models/analytics/event/account_benefit_coverage_indication_no/clicked.rb:15:          new(care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication_no/clicked.rb-16-        end
/Users/jschuss/Brightline/reef/app/models/analytics/event/account_benefit_coverage_indication_no/clicked.rb-17-      end
--
app/models/member_action/connect_activity.rb-7-    attr_reader :care_case, :event_name, :occurred_at
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-8-
app/models/member_action/connect_activity.rb:9:    def self.convert(action:, member_id:, account_id:, care_case_id: nil)
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-10-      occurred_at = DateTime.now
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-11-      care_cases(care_case_id, member_id, account_id).each do |cc|
app/models/member_action/connect_activity.rb:12:        new(care_case: cc, event_name: action, occurred_at: occurred_at).convert
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-13-      end
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-14-    end
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-15-
app/models/member_action/connect_activity.rb:16:    def initialize(care_case:, event_name:, occurred_at:)
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-17-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-18-      @event_name = event_name
--
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-22-    def convert
/Users/jschuss/Brightline/reef/app/models/member_action/connect_activity.rb-23-      ConnectActivityDuplicate.create!(
app/models/member_action/connect_activity.rb:24:        care_case: care_case,
app/models/member_action/connect_activity.rb-25-        event_name: event_name,
app/models/member_action/connect_activity.rb-26-        occurred_at: occurred_at
--
app/models/safety_check.rb-11-#  created_at   :datetime         not null
app/models/safety_check.rb-12-#  updated_at   :datetime         not null
app/models/safety_check.rb:13:#  care_case_id :uuid             not null
app/models/safety_check.rb-14-#  member_id    :uuid             not null
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-15-#
--
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-22-#
app/models/safety_check.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-24-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-25-#
--
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-40-
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-41-  def self.most_recent_for_care_case(care_case)
app/models/safety_check.rb:42:    active.where(care_case: care_case).order(:completed_at).last
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-43-  end
/Users/jschuss/Brightline/reef/app/models/safety_check.rb-44-
--
app/models/calendaring/hold.rb-17-#  acuity_appointment_id      :bigint
app/models/calendaring/hold.rb-18-#  appointment_type_id        :string           not null
app/models/calendaring/hold.rb:19:#  care_case_id               :uuid             not null
app/models/calendaring/hold.rb-20-#  clinic_id                  :uuid
app/models/calendaring/hold.rb-21-#  interpretation_language_id :string
--
/Users/jschuss/Brightline/reef/app/models/calendaring/hold.rb-33-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/calendaring/hold.rb-34-#
app/models/calendaring/hold.rb:35:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/calendaring/hold.rb-36-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/calendaring/hold.rb-37-#  fk_rails_...  (staffer_id => staffers.id)
--
/Users/jschuss/Brightline/reef/app/models/member_action/log.rb-10-    # For now, that seems like premature optimization, and we're leaving this as-is.
/Users/jschuss/Brightline/reef/app/models/member_action/log.rb-11-    def self.emit(loggable)
app/models/member_action/log.rb:12:      ::MemberAction::ConnectActivity.convert(action: loggable[:action], member_id: loggable[:member_id], care_case_id: loggable[:care_case_id], account_id: loggable[:account_id])
/Users/jschuss/Brightline/reef/app/models/member_action/log.rb-13-
/Users/jschuss/Brightline/reef/app/models/member_action/log.rb-14-      Rails.logger.tagged("MEMBER_ACTION") do |logger|
--
/Users/jschuss/Brightline/reef/app/models/member_action/activatable_event_listener.rb-11-        event.track(
app/models/member_action/activatable_event_listener.rb-12-          account: appointment.care_case.account,
app/models/member_action/activatable_event_listener.rb:13:          care_case: appointment.care_case,
app/models/member_action/activatable_event_listener.rb-14-          appointment: appointment
/Users/jschuss/Brightline/reef/app/models/member_action/activatable_event_listener.rb-15-        )
--
/Users/jschuss/Brightline/reef/app/models/member_action/activatable_event_listener.rb-23-        analytics_event.track(
app/models/member_action/activatable_event_listener.rb-24-          account: appointment.care_case.account,
app/models/member_action/activatable_event_listener.rb:25:          care_case: appointment.care_case,
app/models/member_action/activatable_event_listener.rb-26-          appointment: appointment
/Users/jschuss/Brightline/reef/app/models/member_action/activatable_event_listener.rb-27-        )
--
app/models/therapist_matching/down_selection.rb-10-    attr_reader :therapists, :skip_tracking, :care_case
/Users/jschuss/Brightline/reef/app/models/therapist_matching/down_selection.rb-11-
app/models/therapist_matching/down_selection.rb:12:    def initialize(therapists, care_case:, skip_tracking: true)
/Users/jschuss/Brightline/reef/app/models/therapist_matching/down_selection.rb-13-      @therapists = therapists
/Users/jschuss/Brightline/reef/app/models/therapist_matching/down_selection.rb-14-      @skip_tracking = skip_tracking
--
/Users/jschuss/Brightline/reef/app/models/therapist_matching/down_selection.rb-44-      Appointment.where(
app/models/therapist_matching/down_selection.rb-45-        status: [:completed, :scheduled],
app/models/therapist_matching/down_selection.rb:46:        care_case: other_care_cases,
app/models/therapist_matching/down_selection.rb-47-        appointment_type_id: AppointmentType.all.select { |appointment_type| appointment_type.service_line.behavioral_therapy? }.map(&:id)
app/models/therapist_matching/down_selection.rb-48-      ).pluck(:staffer_id).to_set
--
/Users/jschuss/Brightline/reef/app/models/therapist_matching/down_selection.rb-69-        {
app/models/therapist_matching/down_selection.rb-70-          step: "therapist_downselection",
app/models/therapist_matching/down_selection.rb:71:          care_case_id: care_case.id,
app/models/therapist_matching/down_selection.rb-72-          input_staffer_ids: therapists.map(&:id),
app/models/therapist_matching/down_selection.rb-73-          selected_staffer_ids: selected.map(&:id),
--
/Users/jschuss/Brightline/reef/app/models/therapist_matching/weighted_selection.rb-32-        {
app/models/therapist_matching/weighted_selection.rb-33-          step: "weighted_therapist_selection",
app/models/therapist_matching/weighted_selection.rb:34:          care_case_id: context[:care_case_id],
app/models/therapist_matching/weighted_selection.rb-35-          input_staffer_ids: therapists.map(&:id),
app/models/therapist_matching/weighted_selection.rb-36-          selected_staffer_ids: [selected.id],
--
app/models/calendaring/template_weekly_schedule.rb-11-    attr_reader :staffer, :root_appointment_type, :appointment_duration, :care_case, :interpretation_language_id, :clinic
/Users/jschuss/Brightline/reef/app/models/calendaring/template_weekly_schedule.rb-12-
app/models/calendaring/template_weekly_schedule.rb:13:    def initialize(staffer:, root_appointment_type:, appointment_duration: nil, care_case: nil, clinic: nil, interpretation_language_id: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/template_weekly_schedule.rb-14-      @staffer = staffer
/Users/jschuss/Brightline/reef/app/models/calendaring/template_weekly_schedule.rb-15-      @root_appointment_type = root_appointment_type
--
/Users/jschuss/Brightline/reef/app/models/calendaring/template_weekly_schedule.rb-85-    def analytics_data
/Users/jschuss/Brightline/reef/app/models/calendaring/template_weekly_schedule.rb-86-      {
app/models/calendaring/template_weekly_schedule.rb:87:        care_case_id: care_case&.id,
app/models/calendaring/template_weekly_schedule.rb-88-        staffer_id: staffer.id,
app/models/calendaring/template_weekly_schedule.rb-89-        root_appointment_type_id: root_appointment_type.id,
--
app/models/calendaring/template_weekly_schedule.rb-152-        root_appointment_type: root_appointment_type,
app/models/calendaring/template_weekly_schedule.rb-153-        appointment_duration: appointment_duration,
app/models/calendaring/template_weekly_schedule.rb:154:        care_case: care_case,
app/models/calendaring/template_weekly_schedule.rb-155-        member: care_case&.patient,
app/models/calendaring/template_weekly_schedule.rb-156-        request_context: Calendaring::AvailabilityRequestContext.member_support_scheduling,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-45-      def held_appointments
app/models/calendaring/appointment_block.rb-46-        scope = viewing_staffer.present? ? Pundit.policy_scope!(viewing_staffer, ::Calendaring::Hold) : ::Calendaring::Hold
app/models/calendaring/appointment_block.rb:47:        scope.where(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-48-          .not_confirmed
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-49-          .with_appointment_type(appointment_type_id)
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-56-        return [] unless statuses&.include?("skipped")
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-57-
app/models/calendaring/appointment_block.rb:58:        Calendaring::AppointmentSlot::SkippedAppointment.for(care_case: care_case, appointment_type_id:, staffer_id:, viewing_staffer:)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-59-      end
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-60-
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-61-      def appointments
app/models/calendaring/appointment_block.rb-62-        scope = viewing_staffer.present? ? Pundit.policy_scope!(viewing_staffer, ::Appointment) : ::Appointment
app/models/calendaring/appointment_block.rb:63:        scope.where(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-64-          .with_appointment_type(appointment_type_id)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_block.rb-65-          .with_status(statuses)
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_hold.rb-57-      appointment_hold.confirmed!
app/models/calendaring/appointment_hold.rb-58-      Calendaring::ScheduleAppointment.call(
app/models/calendaring/appointment_hold.rb:59:        care_case: appointment_hold.care_case,
app/models/calendaring/appointment_hold.rb-60-        staffer: appointment_hold.staffer,
app/models/calendaring/appointment_hold.rb-61-        appointment_type: appointment_hold.appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_hold.rb-89-        AppointmentScheduledEvent.new(
app/models/calendaring/appointment_hold.rb-90-          appointment: new_appointment,
app/models/calendaring/appointment_hold.rb:91:          care_case: new_appointment.care_case,
app/models/calendaring/appointment_hold.rb-92-          staffer: new_appointment.staffer
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_hold.rb-93-        )
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-29-
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-30-      def should_send?
app/models/notification/appointment/incomplete_paperwork_first_reminder.rb:31:        !appointment.canceled? && Rules::Member::HasIncompleteRequiredPreAppointmentAssignments.call(care_case: care_case, member: recipient)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-32-      end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-33-
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-34-      def deliver_via_email
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-35-        ReminderMailer.with(
app/models/notification/appointment/incomplete_paperwork_first_reminder.rb:36:          care_case: care_case,
app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-37-          member: recipient
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_first_reminder.rb-38-        ).incomplete_paperwork_email.deliver_now
--
/Users/jschuss/Brightline/reef/app/models/calendaring/member_reschedulation.rb-82-      if staffer_changed?
app/models/calendaring/member_reschedulation.rb-83-        Calendaring::SchedulingContext.new(
app/models/calendaring/member_reschedulation.rb:84:          care_case: appointment.care_case,
app/models/calendaring/member_reschedulation.rb-85-          member: appointment.member || appointment.care_case.caregiver,
app/models/calendaring/member_reschedulation.rb-86-          appointment_type: appointment.appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/member_reschedulation.rb-121-      return unless changes.any?
/Users/jschuss/Brightline/reef/app/models/calendaring/member_reschedulation.rb-122-
app/models/calendaring/member_reschedulation.rb:123:      EventSystem::Publisher.broadcast(AppointmentRescheduledEvent.new(appointment: appointment, care_case: appointment.care_case, changes: changes))
/Users/jschuss/Brightline/reef/app/models/calendaring/member_reschedulation.rb-124-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/member_reschedulation.rb-125-  end
--
app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb-14-        attribute :engagement_strategies, DryTypes::Coercible::Array.default([].freeze).meta(description: "Ids for the engagement strategies that were selected")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb-15-
app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb:16:        def self.build(care_case:, engagement_strategies:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb-17-          new(
app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb:18:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb:19:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb-20-            engagement_strategies: engagement_strategies&.compact_blank
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_engagement_strategies_next/clicked.rb-21-          )
--
app/models/care_case/referral_reminders.rb-45-        TaskManagement::Reminder.create!(
app/models/care_case/referral_reminders.rb-46-          account: care_case.account,
app/models/care_case/referral_reminders.rb:47:          care_case: care_case,
app/models/care_case/referral_reminders.rb-48-          group: :member_support,
app/models/care_case/referral_reminders.rb-49-          due_date: Time.zone.now,
--
app/models/care_case/referral_reminders.rb-100-        TaskManagement::Reminder.create!(
app/models/care_case/referral_reminders.rb-101-          account: care_case.account,
app/models/care_case/referral_reminders.rb:102:          care_case: care_case,
app/models/care_case/referral_reminders.rb-103-          group: :member_support,
app/models/care_case/referral_reminders.rb-104-          due_date: Time.zone.now,
--
app/models/analytics/event/onboarding_child_details_next/clicked.rb-18-        attribute :last_name_provided, DryTypes::Bool.meta(description: "Was a last name provided for this care case?")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details_next/clicked.rb-19-
app/models/analytics/event/onboarding_child_details_next/clicked.rb:20:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details_next/clicked.rb-21-          new(
app/models/analytics/event/onboarding_child_details_next/clicked.rb:22:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_child_details_next/clicked.rb:23:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details_next/clicked.rb-24-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_child_details_next/clicked.rb-25-          )
--
app/models/sendbird_chat_channel.rb-14-#  updated_at     :datetime         not null
app/models/sendbird_chat_channel.rb-15-#  account_id     :uuid             not null
app/models/sendbird_chat_channel.rb:16:#  care_case_id   :uuid
app/models/sendbird_chat_channel.rb-17-#  chat_id        :string
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-18-#
--
app/models/sendbird_chat_channel.rb-58-  scope :for_sendbird_user, ->(sendbird_user) { joins(:memberships).where(sendbird_chat_channel_memberships: {sendbird_user_id: sendbird_user}) }
app/models/sendbird_chat_channel.rb-59-  scope :for_member, ->(member) { active.for_sendbird_user(member.sendbird_user) }
app/models/sendbird_chat_channel.rb:60:  scope :for_care_case, ->(care_case:, member:) { active.for_account(care_case.account).where(care_case: care_case).for_sendbird_user(member.sendbird_user) }
app/models/sendbird_chat_channel.rb-61-  scope :for, ->(account:, member:) { active.for_account(account).for_sendbird_user(member.sendbird_user) }
app/models/sendbird_chat_channel.rb-62-  scope :needing_sync, -> { active.where("updated_at > COALESCE(last_synced_at, ?)", 2.weeks.ago) }
--
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-74-  end
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-75-
app/models/sendbird_chat_channel.rb:76:  def self.therapist_channels_for_care_case(care_case:, member:)
app/models/sendbird_chat_channel.rb:77:    for_care_case(care_case:, member:).chat_type_therapist
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-78-  end
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-79-
app/models/sendbird_chat_channel.rb:80:  def self.prescriber_channels_for_care_case(care_case:, member:)
app/models/sendbird_chat_channel.rb:81:    for_care_case(care_case:, member:).chat_type_prescriber
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-82-  end
/Users/jschuss/Brightline/reef/app/models/sendbird_chat_channel.rb-83-
--
/Users/jschuss/Brightline/reef/app/models/calendaring/new_appointment_from_request.rb-35-    def scheduling_context
app/models/calendaring/new_appointment_from_request.rb-36-      Calendaring::SchedulingContext.new(
app/models/calendaring/new_appointment_from_request.rb:37:        care_case: care_case,
app/models/calendaring/new_appointment_from_request.rb-38-        member: member,
app/models/calendaring/new_appointment_from_request.rb-39-        appointment_type: appointment_scheduling_request.appointment_type,
--
app/models/notification/appointment/intake_appointment_no_showed_journey.rb-57-          appointment_name: appointment_type.short_name,
app/models/notification/appointment/intake_appointment_no_showed_journey.rb-58-          appointment_type_id: appointment_type.id,
app/models/notification/appointment/intake_appointment_no_showed_journey.rb:59:          care_case_id: care_case.id,
app/models/notification/appointment/intake_appointment_no_showed_journey.rb-60-          for_testing: account.for_testing || !BrightlineStack.production?,
app/models/notification/appointment/intake_appointment_no_showed_journey.rb-61-          for_intake: appointment.for_intake?,
--
app/models/care_case/track_create_events_job.rb-15-        Analytics::Event::Account::CareCase::Created.track(
app/models/care_case/track_create_events_job.rb-16-          account_id: account.id,
app/models/care_case/track_create_events_job.rb:17:          care_case_id: care_case.id,
app/models/care_case/track_create_events_job.rb-18-          age: patient.age,
app/models/care_case/track_create_events_job.rb-19-          preferred_name: patient.caregiver_provided_patient_information&.patient_preferred_name,
--
app/models/analytics/event/onboarding_safety_resources/viewed.rb-13-        attribute :safety_check_id, DryTypes::Coercible::String.meta(description: "The SafetyCheck id for the current patient")
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_resources/viewed.rb-14-
app/models/analytics/event/onboarding_safety_resources/viewed.rb:15:        def self.build(care_case:, **)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_resources/viewed.rb-16-          new(
app/models/analytics/event/onboarding_safety_resources/viewed.rb:17:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_safety_resources/viewed.rb:18:            proxy_care_case_id: care_case.proxy_id,
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_resources/viewed.rb-19-            **
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_safety_resources/viewed.rb-20-          )
--
app/models/calendaring/weekly_schedule.rb-11-    attr_reader :staffer, :root_appointment_type, :appointment_duration, :care_case, :interpretation_language_id, :clinic
/Users/jschuss/Brightline/reef/app/models/calendaring/weekly_schedule.rb-12-
app/models/calendaring/weekly_schedule.rb:13:    def initialize(staffer:, root_appointment_type:, appointment_duration: nil, care_case: nil, clinic: nil, interpretation_language_id: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/weekly_schedule.rb-14-      @staffer = staffer
/Users/jschuss/Brightline/reef/app/models/calendaring/weekly_schedule.rb-15-      @root_appointment_type = root_appointment_type
--
/Users/jschuss/Brightline/reef/app/models/calendaring/weekly_schedule.rb-73-    def analytics_data
/Users/jschuss/Brightline/reef/app/models/calendaring/weekly_schedule.rb-74-      {
app/models/calendaring/weekly_schedule.rb:75:        care_case_id: care_case&.id,
app/models/calendaring/weekly_schedule.rb-76-        staffer_id: staffer.id,
app/models/calendaring/weekly_schedule.rb-77-        root_appointment_type_id: root_appointment_type.id,
--
app/models/calendaring/weekly_schedule.rb-129-        root_appointment_type: root_appointment_type,
app/models/calendaring/weekly_schedule.rb-130-        appointment_duration: appointment_duration,
app/models/calendaring/weekly_schedule.rb:131:        care_case: care_case,
app/models/calendaring/weekly_schedule.rb-132-        member: care_case&.patient,
app/models/calendaring/weekly_schedule.rb-133-        request_context: Calendaring::AvailabilityRequestContext.member_support_scheduling,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/transition_to_biweekly.rb-78-      def scheduling_context
app/models/calendaring/appointment_slot/transition_to_biweekly.rb-79-        Calendaring::SchedulingContext.new(
app/models/calendaring/appointment_slot/transition_to_biweekly.rb:80:          care_case: reservation.care_case,
app/models/calendaring/appointment_slot/transition_to_biweekly.rb-81-          member: reservation.member,
app/models/calendaring/appointment_slot/transition_to_biweekly.rb-82-          staffer: reservation.staffer,
--
app/models/calendaring/appointment_scheduling_request.rb-12-#  updated_at                 :datetime         not null
app/models/calendaring/appointment_scheduling_request.rb-13-#  appointment_type_id        :string           not null
app/models/calendaring/appointment_scheduling_request.rb:14:#  care_case_id               :uuid             not null
app/models/calendaring/appointment_scheduling_request.rb-15-#  interpretation_language_id :string
app/models/calendaring/appointment_scheduling_request.rb-16-#  member_id                  :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_scheduling_request.rb-25-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_scheduling_request.rb-26-#
app/models/calendaring/appointment_scheduling_request.rb:27:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_scheduling_request.rb-28-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_scheduling_request.rb-29-#  fk_rails_...  (staffer_id => staffers.id)
--
app/models/care_case/derived_extra_capabilities.rb-7-    delegate_missing_to :care_case
/Users/jschuss/Brightline/reef/app/models/care_case/derived_extra_capabilities.rb-8-
app/models/care_case/derived_extra_capabilities.rb:9:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_case/derived_extra_capabilities.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/derived_extra_capabilities.rb-11-    end
--
app/models/calendaring/appointment_slot/reservation.rb-15-#  updated_at            :datetime         not null
app/models/calendaring/appointment_slot/reservation.rb-16-#  appointment_type_id   :string           not null
app/models/calendaring/appointment_slot/reservation.rb:17:#  care_case_id          :uuid             not null
app/models/calendaring/appointment_slot/reservation.rb-18-#  clinic_id             :uuid
app/models/calendaring/appointment_slot/reservation.rb-19-#  member_id             :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation.rb-29-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation.rb-30-#
app/models/calendaring/appointment_slot/reservation.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation.rb-32-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation.rb-33-#  fk_rails_...  (staffer_id => staffers.id)
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation.rb-76-          # Verify basic attributes match
app/models/calendaring/appointment_slot/reservation.rb-77-          staffer: appointment_block.staffer,
app/models/calendaring/appointment_slot/reservation.rb:78:          care_case: appointment_block.care_case,
app/models/calendaring/appointment_slot/reservation.rb-79-          member: appointment_block.member, # TODO: Do we want to be more flexible here?
app/models/calendaring/appointment_slot/reservation.rb-80-          appointment_type_id: appointment_block.appointment_type.id # TODO: Do we want to be more flexible here?
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation.rb-184-          # Verify basic attributes match
app/models/calendaring/appointment_slot/reservation.rb-185-          staffer: staffer,
app/models/calendaring/appointment_slot/reservation.rb:186:          care_case: care_case,
app/models/calendaring/appointment_slot/reservation.rb-187-          member: member, # TODO: Do we want to be more flexible here?
app/models/calendaring/appointment_slot/reservation.rb-188-          appointment_type_id: appointment_type.id # TODO: Do we want to be more flexible here?
--
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-20-
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-21-    def scheduling_context
app/models/calendaring/scheduling_invitation_link.rb:22:      Calendaring::SchedulingContext.new(care_case: care_case, member: member, appointment_type: appointment_type, staffer: available_staffers.first)
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-23-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-24-
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-25-    def available_staffers
app/models/calendaring/scheduling_invitation_link.rb-26-      # TODO: Determine why Onboarding::AvailableStafferForInitialAppointment is used here and whether changing the logic for therapists is harmful in any way
app/models/calendaring/scheduling_invitation_link.rb:27:      @available_staffers_for_initial_appointment ||= Onboarding::AvailableStafferForInitialAppointment.selected(care_case: care_case, appointment_type: appointment_type)
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-28-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_invitation_link.rb-29-  end
--
app/models/calendaring/appointment_slot/available_slot.rb-21-        conflicts = params[:conflicts].map { |conflict| Calendaring::AppointmentSlot::Conflict.new(**conflict) }
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/available_slot.rb-22-
app/models/calendaring/appointment_slot/available_slot.rb:23:        new(care_case:, appointment_type:, staffer:, time_context:, conflicts:, interpretation_language_id: params[:interpretation_language_id], staffer_capable: true, extra_modes: params[:extra_modes].presence || [])
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/available_slot.rb-24-      end
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/available_slot.rb-25-
app/models/calendaring/appointment_slot/available_slot.rb:26:      def initialize(care_case:, time_context:, appointment_type:, staffer:, conflicts: [], interpretation_language_id: nil, staffer_capable: true, extra_modes: [])
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/available_slot.rb-27-        super
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/available_slot.rb-28-      end
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/available_slot.rb-138-
app/models/calendaring/appointment_slot/available_slot.rb-139-          ::Calendaring::AppointmentSlot::AvailableSlot.new(
app/models/calendaring/appointment_slot/available_slot.rb:140:            care_case: care_case,
app/models/calendaring/appointment_slot/available_slot.rb-141-            time_context: candidate_time_context,
app/models/calendaring/appointment_slot/available_slot.rb-142-            appointment_type: appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/new_appointment_hold.rb-28-    def schedule_hold_in_reef
app/models/calendaring/new_appointment_hold.rb-29-      Calendaring::Hold.create!(
app/models/calendaring/new_appointment_hold.rb:30:        care_case: scheduling_context.care_case,
app/models/calendaring/new_appointment_hold.rb-31-        staffer: scheduling_context.staffer,
app/models/calendaring/new_appointment_hold.rb-32-        appointment_type: scheduling_context.appointment_type,
--
app/models/calendaring/new_appointment_hold.rb-63-        email: scheduling_context.participant_emails,
app/models/calendaring/new_appointment_hold.rb-64-        admin: scheduling_context.admin,
app/models/calendaring/new_appointment_hold.rb:65:        care_case_id: scheduling_context.care_case_id,
app/models/calendaring/new_appointment_hold.rb-66-        authenticity_token: Calendaring::AcuityAuthenticityToken.generate
app/models/calendaring/new_appointment_hold.rb-67-      }.compact_keys(:calendar_id)
--
app/models/care_case/autodeactivation/mass_discharge.rb-11-      def self.discharge!(care_cases:, by_staffer:)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-12-        care_cases.find_each do |care_case|
app/models/care_case/autodeactivation/mass_discharge.rb:13:          new(care_case:, by_staffer:).discharge_and_deactivate!
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-14-        rescue
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-15-          Rails.logger.info "Failed to autodischarge care case #{care_case.id}"
--
app/models/care_case/autodeactivation/mass_discharge.rb-19-      attr_reader :care_case, :staffer
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-20-
app/models/care_case/autodeactivation/mass_discharge.rb:21:      def initialize(care_case:, by_staffer:)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-22-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-23-        @staffer = by_staffer
--
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-26-      def discharge_and_deactivate!
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-27-        create_discharge unless current_discharge_exists?
app/models/care_case/autodeactivation/mass_discharge.rb:28:        CareCase::Autodeactivate.call!(care_case:, with_note_body: DEACTIVATION_NOTE_BODY)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-29-      end
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-30-
--
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-32-
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-33-      def current_discharge_exists?
app/models/care_case/autodeactivation/mass_discharge.rb:34:        Discharge.exists?(care_case:, last_session_on: last_session&.start_time)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-35-      end
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_discharge.rb-36-
--
app/models/care_case/autodeactivation/mass_discharge.rb-38-        ::Discharge.create!(
app/models/care_case/autodeactivation/mass_discharge.rb-39-          staffer:,
app/models/care_case/autodeactivation/mass_discharge.rb:40:          care_case:,
app/models/care_case/autodeactivation/mass_discharge.rb-41-          discharge_reason: DischargeReason.find(DISCHARGE_REASON_ID).labels.first,
app/models/care_case/autodeactivation/mass_discharge.rb-42-          discharge_reason_id: DISCHARGE_REASON_ID,
--
app/models/calendaring/availability_form.rb-185-      Calendaring::AppointmentAvailabilityRequestReporter.new(
app/models/calendaring/availability_form.rb-186-        request_context: Calendaring::AvailabilityRequestContext.member_support_scheduling,
app/models/calendaring/availability_form.rb:187:        care_case: care_case,
app/models/calendaring/availability_form.rb-188-        member: care_case&.patient,
app/models/calendaring/availability_form.rb-189-        root_appointment_type: root_appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_form.rb-202-
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_form.rb-203-    def care_model
app/models/calendaring/availability_form.rb:204:      @care_model ||= CareModel.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_form.rb-205-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_form.rb-206-
--
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_deactivation.rb-13-
app/models/care_case/autodeactivation/mass_deactivation.rb-14-        CareCase.where.not(operational_status: "inactive").find_each do |care_case|
app/models/care_case/autodeactivation/mass_deactivation.rb:15:          next unless CareCase::Autodeactivation::Eligibility.eligible?(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_deactivation.rb-16-
app/models/care_case/autodeactivation/mass_deactivation.rb:17:          if CareCase::Autodeactivate.call!(care_case:, with_note_body: NOTE_BODY)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_deactivation.rb-18-            count += 1
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/mass_deactivation.rb-19-          end
--
app/models/notification/appointment/base_appointment_email.rb-116-        if appt.mode == Calendaring::AppointmentMode.video
/Users/jschuss/Brightline/reef/app/models/notification/appointment/base_appointment_email.rb-117-          members_care_case_appointment_meeting_room_url(
app/models/notification/appointment/base_appointment_email.rb:118:            care_case_id: appt.care_case.id,
app/models/notification/appointment/base_appointment_email.rb-119-            appointment_id: appt.id,
app/models/notification/appointment/base_appointment_email.rb-120-            authenticity_token: appt.acuity_authenticity_token
--
app/models/care_case/autodeactivation/eligibility.rb-10-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/eligibility.rb-11-
app/models/care_case/autodeactivation/eligibility.rb:12:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/eligibility.rb-13-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivation/eligibility.rb-14-      end
--
app/models/care_case/ongoing_care_recommendation.rb-10-#  created_at               :datetime         not null
app/models/care_case/ongoing_care_recommendation.rb-11-#  updated_at               :datetime         not null
app/models/care_case/ongoing_care_recommendation.rb:12:#  care_case_id             :uuid             not null
app/models/care_case/ongoing_care_recommendation.rb-13-#  diagnostic_evaluation_id :uuid
app/models/care_case/ongoing_care_recommendation.rb-14-#  requested_by_id          :uuid
--
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-23-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-24-#
app/models/care_case/ongoing_care_recommendation.rb:25:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-26-#  fk_rails_...  (diagnostic_evaluation_id => care_case_diagnostic_evaluations.id)
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-27-#  fk_rails_...  (requested_by_id => staffers.id)
--
app/models/care_case/ongoing_care_recommendation.rb-46-    enum :status, Status.as_string_map, default: "pending", validate: true
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-47-
app/models/care_case/ongoing_care_recommendation.rb:48:    def self.requested_for(care_case:) = requested.where(care_case:).last
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-49-
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-50-    # Requests ongoing care provider recommendations for the care case
--
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-72-      return unless diagnostic_evaluation && care_case
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-73-
app/models/care_case/ongoing_care_recommendation.rb:74:      unless diagnostic_evaluation.care_case_id == care_case_id
app/models/care_case/ongoing_care_recommendation.rb-75-        errors.add(:diagnostic_evaluation, "must belong to the same care case")
/Users/jschuss/Brightline/reef/app/models/care_case/ongoing_care_recommendation.rb-76-      end
--
app/models/notification/appointment/intake_appointment_canceled_journey.rb-52-          appointment_name: appointment_type.short_name,
app/models/notification/appointment/intake_appointment_canceled_journey.rb-53-          appointment_type_id: appointment_type.id,
app/models/notification/appointment/intake_appointment_canceled_journey.rb:54:          care_case_id: care_case.id,
app/models/notification/appointment/intake_appointment_canceled_journey.rb-55-          canceled_by: cancelation&.canceled_by || "member",
app/models/notification/appointment/intake_appointment_canceled_journey.rb-56-          canceled_reason: cancelation&.reason || "unknown",
--
app/models/calendaring/member_cancelation_form.rb-62-        TaskManagement::Reminder.find_or_create_by!(
app/models/calendaring/member_cancelation_form.rb-63-          account: appointment.account,
app/models/calendaring/member_cancelation_form.rb:64:          care_case: appointment.care_case,
app/models/calendaring/member_cancelation_form.rb-65-          due_date: Time.zone.now,
app/models/calendaring/member_cancelation_form.rb-66-          reminder_type_id:,
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/consolidated_appointment_notification.rb-72-      # @return [Boolean] Whether the consolidated email should be sent
/Users/jschuss/Brightline/reef/app/models/notification/appointment/consolidated_appointment_notification.rb-73-      def should_send_consolidated_email?
app/models/notification/appointment/consolidated_appointment_notification.rb:74:        should_consolidate? && !CareModel.brightlife_kids?(care_case:)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/consolidated_appointment_notification.rb-75-      end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/consolidated_appointment_notification.rb-76-
--
app/models/calendaring/scheduling_context.rb-10-    def self.from(appointment:, admin: false)
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_context.rb-11-      new(
app/models/calendaring/scheduling_context.rb:12:        care_case: appointment.care_case,
app/models/calendaring/scheduling_context.rb-13-        member: appointment.member || appointment.care_case.caregiver,
app/models/calendaring/scheduling_context.rb-14-        appointment_type: appointment.appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_context.rb-22-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_context.rb-23-
app/models/calendaring/scheduling_context.rb:24:    def initialize(care_case:, member:, appointment_type:, staffer:, admin: false, interpretation_language: nil, additional_participants: nil, clinic: nil, audience: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_context.rb-25-      super
/Users/jschuss/Brightline/reef/app/models/calendaring/scheduling_context.rb-26-    end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_question/completed.rb-16-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_question/completed.rb-17-        # We need the **kwargs because we get html properties from the js call we don't care about
app/models/analytics/event/care_navigation_assessment_question/completed.rb:18:        def self.build(care_case_id:, assessment_id:, question_index:, **kwargs)
app/models/analytics/event/care_navigation_assessment_question/completed.rb:19:          proxy_care_case_id = CareCase.find_by(id: care_case_id)&.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_question/completed.rb-20-
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_assessment_question/completed.rb-21-          new(
app/models/analytics/event/care_navigation_assessment_question/completed.rb:22:            care_case_id: care_case_id,
app/models/analytics/event/care_navigation_assessment_question/completed.rb:23:            proxy_care_case_id: proxy_care_case_id,
app/models/analytics/event/care_navigation_assessment_question/completed.rb-24-            question_index: question_index,
app/models/analytics/event/care_navigation_assessment_question/completed.rb-25-            assessment_id: assessment_id
--
app/models/calendaring/appointment_slot/member_support_reminder.rb-10-      attr_accessor :care_case, :staffer, :title
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/member_support_reminder.rb-11-
app/models/calendaring/appointment_slot/member_support_reminder.rb:12:      def initialize(care_case:, staffer:, title:)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/member_support_reminder.rb-13-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/member_support_reminder.rb-14-        @staffer = staffer
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/member_support_reminder.rb-18-      def create!
app/models/calendaring/appointment_slot/member_support_reminder.rb-19-        TaskManagement::Reminder.create!(
app/models/calendaring/appointment_slot/member_support_reminder.rb:20:          care_case: care_case,
app/models/calendaring/appointment_slot/member_support_reminder.rb-21-          account: care_case.account,
app/models/calendaring/appointment_slot/member_support_reminder.rb-22-          group: :member_support,
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_reminder_email.rb-45-      def deliver_via_email
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_reminder_email.rb-46-        ReminderMailer.with(
app/models/notification/appointment/incomplete_paperwork_reminder_email.rb:47:          care_case: care_case,
app/models/notification/appointment/incomplete_paperwork_reminder_email.rb-48-          member: recipient
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_reminder_email.rb-49-        ).send(email_template).deliver_now
--
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-58-    def add_to_wait_list_link
app/models/care_case/action_links.rb-59-      return unless ::WaitList::EntryPolicy.new(current_staffer).create?
app/models/care_case/action_links.rb:60:      return if WaitList::Entry.active.exists?(care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-61-
app/models/care_case/action_links.rb:62:      link_to("Add to waitlist", new_wait_list_entry_path(care_case_id: care_case.id), class: "prism-button-primary", data: {turbo: true, turbo_frame: :modal})
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-63-    end
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-64-
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-65-    def edit_wait_list_entry_link
app/models/care_case/action_links.rb-66-      return unless ::WaitList::EntryPolicy.new(current_staffer).update?
app/models/care_case/action_links.rb:67:      return unless (entry = WaitList::Entry.active.find_by(care_case_id: care_case.id))
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-68-
app/models/care_case/action_links.rb-69-      link_to("Edit waitlist entry", edit_wait_list_entry_path(entry), class: "prism-button-primary", data: {turbo: true, turbo_frame: :modal})
--
app/models/care_case/action_links.rb-73-      return unless ::WaitList::EntryPolicy.new(current_staffer).destroy?
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-74-
app/models/care_case/action_links.rb:75:      if (entry = WaitList::Entry.active.find_by(care_case_id: care_case.id))
app/models/care_case/action_links.rb-76-        link_to("Remove from waitlist", new_wait_list_entry_removal_path(entry), class: "prism-button-primary", data: {turbo: true, turbo_frame: :modal})
/Users/jschuss/Brightline/reef/app/models/care_case/action_links.rb-77-      end
--
app/models/care_case/prior_authorization_record.rb-12-#  created_at        :datetime         not null
app/models/care_case/prior_authorization_record.rb-13-#  updated_at        :datetime         not null
app/models/care_case/prior_authorization_record.rb:14:#  care_case_id      :uuid
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-15-#
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-16-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-22-#
app/models/care_case/prior_authorization_record.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-24-#
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-25-class CareCase
--
app/models/care_case/prior_authorization_record.rb-34-    validates :end_date, presence: true
/Users/jschuss/Brightline/reef/app/models/care_case/prior_authorization_record.rb-35-
app/models/care_case/prior_authorization_record.rb:36:    scope :for_care_case, ->(care_case) { where(care_case:) }
app/models/care_case/prior_authorization_record.rb-37-    scope :for_procedure_code, ->(procedure_code) { where(procedure_code:) }
app/models/care_case/prior_authorization_record.rb-38-    scope :valid_on, ->(date) { where("start_date <= ? AND end_date >= ?", date, date) }
--
app/models/calendaring/add_to_calendar.rb-76-        appointment_id: appointment.id,
app/models/calendaring/add_to_calendar.rb-77-        authenticity_token: appointment.acuity_authenticity_token,
app/models/calendaring/add_to_calendar.rb:78:        care_case_id: appointment.care_case.id
/Users/jschuss/Brightline/reef/app/models/calendaring/add_to_calendar.rb-79-      )
/Users/jschuss/Brightline/reef/app/models/calendaring/add_to_calendar.rb-80-    end
--
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-39-
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-40-      def should_send?
app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb:41:        !appointment.canceled? && Rules::Member::HasIncompleteRequiredPreAppointmentAssignments.call(care_case: care_case, member: recipient)
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-42-      end
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-43-
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-44-      def deliver_via_email
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-45-        ReminderMailer.with(
app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb:46:          care_case: care_case,
app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-47-          member: recipient
/Users/jschuss/Brightline/reef/app/models/notification/appointment/incomplete_paperwork_teen_reminder.rb-48-        ).incomplete_paperwork_email.deliver_now
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/discharge_release.rb-17-
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/discharge_release.rb-18-      def release_slots!
app/models/calendaring/appointment_slot/discharge_release.rb:19:        Calendaring::AppointmentSlot::Reservation.active.where(staffer: discharge.staffer, care_case: discharge.care_case).each do |slot|
app/models/calendaring/appointment_slot/discharge_release.rb-20-          context = Calendaring::AppointmentSlot::ReleaseContext.new(
app/models/calendaring/appointment_slot/discharge_release.rb-21-            requested_by: :system,
--
app/models/care_case/scheduling_preferences.rb-10-#  created_at        :datetime         not null
app/models/care_case/scheduling_preferences.rb-11-#  updated_at        :datetime         not null
app/models/care_case/scheduling_preferences.rb:12:#  care_case_id      :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_case/scheduling_preferences.rb-13-#
/Users/jschuss/Brightline/reef/app/models/care_case/scheduling_preferences.rb-14-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/care_case/scheduling_preferences.rb-18-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case/scheduling_preferences.rb-19-#
app/models/care_case/scheduling_preferences.rb:20:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case/scheduling_preferences.rb-21-#
/Users/jschuss/Brightline/reef/app/models/care_case/scheduling_preferences.rb-22-class CareCase
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_availability_request_reporter.rb-8-      new(
app/models/calendaring/appointment_availability_request_reporter.rb-9-        request_context: availability_context.request_context,
app/models/calendaring/appointment_availability_request_reporter.rb:10:        care_case: availability_context.care_case,
app/models/calendaring/appointment_availability_request_reporter.rb-11-        member: availability_context.member,
app/models/calendaring/appointment_availability_request_reporter.rb-12-        staffers: availability_context.staffers,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_availability_request_reporter.rb-21-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_availability_request_reporter.rb-22-
app/models/calendaring/appointment_availability_request_reporter.rb:23:    def initialize(request_context:, care_case:, member:, staffers:, root_appointment_type:, filters:)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_availability_request_reporter.rb-24-      @request_context = request_context
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_availability_request_reporter.rb-25-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_availability_request_reporter.rb-43-        {
app/models/calendaring/appointment_availability_request_reporter.rb-44-          appointment_request_source: request_context,
app/models/calendaring/appointment_availability_request_reporter.rb:45:          care_case_id: care_case.id,
app/models/calendaring/appointment_availability_request_reporter.rb-46-          member_id: member.id,
app/models/calendaring/appointment_availability_request_reporter.rb-47-          root_appointment_type_id: root_appointment_type.id,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/skipped_appointment.rb-4-  module AppointmentSlot
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/skipped_appointment.rb-5-    class SkippedAppointment
app/models/calendaring/appointment_slot/skipped_appointment.rb:6:      def self.for(care_case:, appointment_type_id: nil, staffer_id: nil, viewing_staffer: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/skipped_appointment.rb-7-        skipped_appointments = []
app/models/calendaring/appointment_slot/skipped_appointment.rb-8-        scope = viewing_staffer.present? ? Pundit.policy_scope!(viewing_staffer, ::Calendaring::AppointmentSlot::Reservation) : ::Calendaring::AppointmentSlot::Reservation
app/models/calendaring/appointment_slot/skipped_appointment.rb:9:        scope.where(care_case: care_case).each do |reservation|
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/skipped_appointment.rb-10-          next unless staffer_id.blank? || (reservation.staffer_id == staffer_id)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/skipped_appointment.rb-11-          next unless appointment_type_id.blank? || (reservation.appointment_type_id == appointment_type_id)
--
app/models/care_case/athena_patient.rb-8-#  updated_at        :datetime         not null
app/models/care_case/athena_patient.rb-9-#  athena_patient_id :bigint           not null
app/models/care_case/athena_patient.rb:10:#  care_case_id      :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_case/athena_patient.rb-11-#
/Users/jschuss/Brightline/reef/app/models/care_case/athena_patient.rb-12-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/care_case/athena_patient.rb-17-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case/athena_patient.rb-18-#
app/models/care_case/athena_patient.rb:19:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case/athena_patient.rb-20-#
/Users/jschuss/Brightline/reef/app/models/care_case/athena_patient.rb-21-class CareCase
--
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update/changes.rb-57-
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update/changes.rb-58-      def validate_care_case_unchanged
app/models/calendaring/acuity_update/changes.rb:59:        return if @appointment.care_case_id == @acuity_appointment.care_case_id
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update/changes.rb-60-
app/models/calendaring/acuity_update/changes.rb-61-        @errors.add(:care_case_id, "has changed from #{@acuity_appointment.care_case_id} to #{@appointment.care_case_id}")
--
app/models/care_case/diagnostic_evaluation.rb-8-#  updated_at                  :datetime         not null
app/models/care_case/diagnostic_evaluation.rb-9-#  appointment_id              :uuid             not null
app/models/care_case/diagnostic_evaluation.rb:10:#  care_case_id                :uuid             not null
app/models/care_case/diagnostic_evaluation.rb-11-#  cgi_score_id                :bigint
app/models/care_case/diagnostic_evaluation.rb-12-#  evaluator_id                :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-29-#
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/care_case/diagnostic_evaluation.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-32-#  fk_rails_...  (cgi_score_id => cgi_scores.id)
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-33-#  fk_rails_...  (evaluator_id => staffers.id)
--
app/models/care_case/diagnostic_evaluation.rb-67-        form_answer_group_record: form_answer_group_record&.care_case_id
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-68-      }.compact.each do |relation, relation_care_case_id|
app/models/care_case/diagnostic_evaluation.rb:69:        unless relation_care_case_id == care_case_id
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-70-          errors.add(relation, "must belong to the same care case")
/Users/jschuss/Brightline/reef/app/models/care_case/diagnostic_evaluation.rb-71-        end
--
app/models/care_case.rb-556-    EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/care_case.rb-557-      CareCaseOperationalStatusChangedEvent.new(
app/models/care_case.rb:558:        care_case: self,
app/models/care_case.rb-559-        previous_status: status_change.first,
app/models/care_case.rb-560-        status: operational_status
--
app/models/care_case.rb-568-    EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/care_case.rb-569-      CareCaseProgramChangedEvent.new(
app/models/care_case.rb:570:        care_case: self,
app/models/care_case.rb-571-        previous_program_id: previous_program_id,
app/models/care_case.rb-572-        program_id: new_program_id
--
app/models/calendaring/appointment_slot/template/available_slot.rb-26-          conflicts = params[:conflicts].map { |conflict| Calendaring::AppointmentSlot::Template::Conflict.new(**conflict) }
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/available_slot.rb-27-
app/models/calendaring/appointment_slot/template/available_slot.rb:28:          new(care_case:, appointment_type:, staffer:, time_context:, conflicts:, interpretation_language_id: params[:interpretation_language_id], staffer_capable: true, extra_modes: params[:extra_modes].presence || [])
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/available_slot.rb-29-        end
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/available_slot.rb-30-
app/models/calendaring/appointment_slot/template/available_slot.rb:31:        def initialize(care_case:, time_context:, appointment_type:, staffer:, conflicts: [], interpretation_language_id: nil, staffer_capable: true, extra_modes: [], status: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/available_slot.rb-32-          super
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/available_slot.rb-33-          @conflicts_loaded = conflicts.any?
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/available_slot.rb-156-
app/models/calendaring/appointment_slot/template/available_slot.rb-157-            Calendaring::AppointmentSlot::Template::AvailableSlot.new(
app/models/calendaring/appointment_slot/template/available_slot.rb:158:              care_case: care_case,
app/models/calendaring/appointment_slot/template/available_slot.rb-159-              time_context: time_context,
app/models/calendaring/appointment_slot/template/available_slot.rb-160-              appointment_type: appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update/params_from_acuity_appointment.rb-16-      def to_h
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update/params_from_acuity_appointment.rb-17-        {
app/models/calendaring/acuity_update/params_from_acuity_appointment.rb:18:          care_case: care_case,
app/models/calendaring/acuity_update/params_from_acuity_appointment.rb-19-          staffer: staffer,
app/models/calendaring/acuity_update/params_from_acuity_appointment.rb-20-          participant_ids: participants.pluck(:id),
--
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-3-class CareCase
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-4-  class Acuity
app/models/care_case/acuity.rb:5:    def self.for(care_case:, assessment_assignment: nil)
app/models/care_case/acuity.rb:6:      new(care_case:, assessment_assignment:).level
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-7-    end
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-8-
app/models/care_case/acuity.rb:9:    def initialize(care_case:, assessment_assignment: nil)
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-11-      @assessment_assignment = assessment_assignment
--
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-37-
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-38-    def assessment_assignment
app/models/care_case/acuity.rb:39:      @assessment_assignment ||= CareNavigation::Journey.find_by(care_case: care_case)&.assessment_assignment
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-40-    end
/Users/jschuss/Brightline/reef/app/models/care_case/acuity.rb-41-
--
app/models/calendaring/schedule_appointment.rb-7-    attr_reader :care_case, :staffer, :appointment_type, :start_time, :end_time, :acuity_appointment_id, :acuity_authenticity_token, :source, :acuity_meeting_url, :member, :interpretation_language, :participant_ids, :status, :clinic, :audience
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-8-
app/models/calendaring/schedule_appointment.rb:9:    def initialize(care_case:, staffer:, appointment_type:, start_time:, end_time:, acuity_appointment_id:, acuity_authenticity_token:, source:, acuity_meeting_url:, member: nil, interpretation_language: nil, participant_ids: [], status: nil, clinic: nil, audience: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-11-      @staffer = staffer
--
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-39-    def create_appointment
app/models/calendaring/schedule_appointment.rb-40-      ::Appointment.create!({
app/models/calendaring/schedule_appointment.rb:41:        care_case:, staffer:,
app/models/calendaring/schedule_appointment.rb-42-        appointment_type:,
app/models/calendaring/schedule_appointment.rb-43-        region: care_case.region,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-60-      return if care_case.cared_for_by?(staffer)
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-61-
app/models/calendaring/schedule_appointment.rb:62:      ClinicalTeam::AddStafferToCareCase.call(care_case:, staffer:, primary: false)
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-63-    end
/Users/jschuss/Brightline/reef/app/models/calendaring/schedule_appointment.rb-64-  end
--
/Users/jschuss/Brightline/reef/app/models/care_case/deletable_care_case.rb-3-class CareCase
/Users/jschuss/Brightline/reef/app/models/care_case/deletable_care_case.rb-4-  class DeletableCareCase
app/models/care_case/deletable_care_case.rb:5:    def initialize(care_case:, staffer_id: nil)
/Users/jschuss/Brightline/reef/app/models/care_case/deletable_care_case.rb-6-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/deletable_care_case.rb-7-      @staffer_id = staffer_id
--
app/models/calendaring/appointment_slot/template/upcoming_calendar_data.rb-93-            appt_type_ids = AppointmentType.for_service_line(root_appointment_type.service_line).map(&:id)
app/models/calendaring/appointment_slot/template/upcoming_calendar_data.rb-94-            care_case_ids = slot_reservations.pluck(:care_case_id).uniq
app/models/calendaring/appointment_slot/template/upcoming_calendar_data.rb:95:            ::Appointment.completed.where(appointment_type_id: appt_type_ids, care_case_id: care_case_ids).group(:care_case_id).count
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/upcoming_calendar_data.rb-96-          end
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/template/upcoming_calendar_data.rb-97-        end
--
app/models/calendaring/follow_up_reminder.rb-37-          subject: appointment,
app/models/calendaring/follow_up_reminder.rb-38-          account_id: care_case.account_id,
app/models/calendaring/follow_up_reminder.rb:39:          care_case:,
app/models/calendaring/follow_up_reminder.rb-40-          due_date:,
app/models/calendaring/follow_up_reminder.rb-41-          group:,
--
app/models/calendaring/new_intake_scheduling_request.rb-17-        Calendaring::AppointmentSchedulingRequest.find_or_create_by!(
app/models/calendaring/new_intake_scheduling_request.rb-18-          appointment_type_id: appointment.appointment_type_id,
app/models/calendaring/new_intake_scheduling_request.rb:19:          care_case: appointment.care_case,
app/models/calendaring/new_intake_scheduling_request.rb-20-          # NOTE: Remove fallback caregiver member once we fix bug in staffer scheduling to ensure
/Users/jschuss/Brightline/reef/app/models/calendaring/new_intake_scheduling_request.rb-21-          # member is always present
--
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-16-      new.tap do |california_coverage|
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-17-        if care_case
app/models/dev_tools/california_coverage.rb:18:          california_coverage.care_case_id = id
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-19-
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-20-          if active_state_sponsored_for_care_case(care_case).present?
--
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-29-    def enact
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-30-      care_case = CareCase.find(care_case_id)
app/models/dev_tools/california_coverage.rb:31:      Eligibility::StateSponsoredCoverage.verify_and_create!(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-32-      care_case.reload
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-33-
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-34-      unless active_state_sponsored_for_care_case(care_case).present?
app/models/dev_tools/california_coverage.rb:35:        errors.add(:base, "State sponsored coverage was not successfully added for care_case: #{care_case_id}")
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-36-        return false
/Users/jschuss/Brightline/reef/app/models/dev_tools/california_coverage.rb-37-      end
--
/Users/jschuss/Brightline/reef/app/models/dev_tools/care_guide_referral.rb-15-      new.tap do |care_guide_referral|
/Users/jschuss/Brightline/reef/app/models/dev_tools/care_guide_referral.rb-16-        if care_case
app/models/dev_tools/care_guide_referral.rb:17:          care_guide_referral.care_case_id = care_case.id
/Users/jschuss/Brightline/reef/app/models/dev_tools/care_guide_referral.rb-18-        else
app/models/dev_tools/care_guide_referral.rb-19-          care_guide_referral.errors.add(:base, "Could not find care case with ID #{id}")
--
app/models/calendaring/appointment_slot/upcoming_calendar_data.rb-107-          appt_type_ids = AppointmentType.for_service_line(root_appointment_type.service_line).map(&:id)
app/models/calendaring/appointment_slot/upcoming_calendar_data.rb-108-          care_case_ids = slot_reservations.pluck(:care_case_id).uniq
app/models/calendaring/appointment_slot/upcoming_calendar_data.rb:109:          ::Appointment.completed.where(appointment_type_id: appt_type_ids, care_case_id: care_case_ids).group(:care_case_id).count
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/upcoming_calendar_data.rb-110-        end
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/upcoming_calendar_data.rb-111-      end
--
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-11-    NOTE_BODY = "Care case was automatically marked inactive"
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-12-
app/models/care_case/autodeactivate.rb:13:    def initialize(care_case:, with_note_body: NOTE_BODY)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-14-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-15-      @note_body = with_note_body
--
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-50-        )
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-51-
app/models/care_case/autodeactivate.rb:52:        ClinicalTeam::RemoveStafferFromCareCase.call(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-53-      end
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-54-    end
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-55-
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-56-    def create_note!
app/models/care_case/autodeactivate.rb:57:      Note.create(care_case:, account: care_case.account, body: note_body)
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-58-    end
/Users/jschuss/Brightline/reef/app/models/care_case/autodeactivate.rb-59-  end
--
app/models/calendaring/availability_context.rb-6-    delegate :region, to: :care_case
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_context.rb-7-
app/models/calendaring/availability_context.rb:8:    def initialize(care_case:, member:, appointment_type:, staffers:, request_context:, interpretation_language_id: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_context.rb-9-      super
/Users/jschuss/Brightline/reef/app/models/calendaring/availability_context.rb-10-    end
--
/Users/jschuss/Brightline/reef/app/models/care_case/triage_status.rb-56-
/Users/jschuss/Brightline/reef/app/models/care_case/triage_status.rb-57-    def in_progress?
app/models/care_case/triage_status.rb:58:      ::CareNavigation::Journey.find_by(care_case: care_case)&.assessment_in_progress?
/Users/jschuss/Brightline/reef/app/models/care_case/triage_status.rb-59-    end
/Users/jschuss/Brightline/reef/app/models/care_case/triage_status.rb-60-
--
/Users/jschuss/Brightline/reef/app/models/dev_tools/duplicate_care_case.rb-17-      new.tap do |duplicate_care_case|
/Users/jschuss/Brightline/reef/app/models/dev_tools/duplicate_care_case.rb-18-        if care_case
app/models/dev_tools/duplicate_care_case.rb:19:          duplicate_care_case.care_case_id = id
/Users/jschuss/Brightline/reef/app/models/dev_tools/duplicate_care_case.rb-20-        else
app/models/dev_tools/duplicate_care_case.rb-21-          duplicate_care_case.errors.add(:base, "Could not find care_case with ID #{id}")
--
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-8-      appointment = event.appointment
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-9-      if appointment.clinic.present?
app/models/care_case/clinic_assignment.rb:10:        assign_clinic!(care_case: appointment.care_case, clinic: appointment.clinic)
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-11-      end
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-12-    end
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-13-
app/models/care_case/clinic_assignment.rb:14:    def self.assign_clinic!(care_case:, clinic:)
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-15-      # Adding lock as events could be processed in parallel and find_or_create_by! is not atomic
app/models/care_case/clinic_assignment.rb-16-      AdvisoryLock.for("clinic_assignment_#{care_case.id}", timeout_seconds: 5, context: "Appointment scheduling clinic assignment") do
app/models/care_case/clinic_assignment.rb:17:        CareCaseClinic.find_or_create_by!(care_case: care_case, clinic: clinic)
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-18-      end
/Users/jschuss/Brightline/reef/app/models/care_case/clinic_assignment.rb-19-    end
--
app/models/calendaring/appointment_slot/scheduler.rb-97-          appointment_type: appointment_type,
app/models/calendaring/appointment_slot/scheduler.rb-98-          member: member,
app/models/calendaring/appointment_slot/scheduler.rb:99:          care_case: care_case,
app/models/calendaring/appointment_slot/scheduler.rb-100-          staffer: staffer,
app/models/calendaring/appointment_slot/scheduler.rb-101-          additional_participants: Member.where(id: participant_ids),
--
app/models/calendaring/appointment_slot/scheduler.rb-110-          appointment_type_id: appointment_type.id,
app/models/calendaring/appointment_slot/scheduler.rb-111-          member: member,
app/models/calendaring/appointment_slot/scheduler.rb:112:          care_case: care_case,
app/models/calendaring/appointment_slot/scheduler.rb-113-          staffer: staffer,
app/models/calendaring/appointment_slot/scheduler.rb-114-          start_time: start_time
--
app/models/calendaring/appointment_slot/scheduler.rb-121-          appointment_type_id: appointment_type.id,
app/models/calendaring/appointment_slot/scheduler.rb-122-          member: member,
app/models/calendaring/appointment_slot/scheduler.rb:123:          care_case: care_case,
app/models/calendaring/appointment_slot/scheduler.rb-124-          staffer: staffer,
app/models/calendaring/appointment_slot/scheduler.rb-125-          start_time: start_time
--
app/models/care_case/appointment_history.rb-7-    delegate_missing_to :care_case
/Users/jschuss/Brightline/reef/app/models/care_case/appointment_history.rb-8-
app/models/care_case/appointment_history.rb:9:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_case/appointment_history.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case/appointment_history.rb-11-    end
--
app/models/assessment/care_case_assignment.rb-9-    attr_reader :assessment, :care_case, :member, :with_assignment, :completed_at, :responses
/Users/jschuss/Brightline/reef/app/models/assessment/care_case_assignment.rb-10-
app/models/assessment/care_case_assignment.rb:11:    def initialize(care_case:, member:, assessment:, with_assignment: true, completed_at: nil, responses: nil)
/Users/jschuss/Brightline/reef/app/models/assessment/care_case_assignment.rb-12-      @assessment = assessment
/Users/jschuss/Brightline/reef/app/models/assessment/care_case_assignment.rb-13-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-49-    covered_entities = active_private_benefits_for_care_case(care_case)
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-50-
app/models/ongoing_eligibility.rb:51:    covered_entities.each { |covered_entity| create_missing_ongoing_eligibility_checks(account: account, care_case: care_case, covered_entity: covered_entity, deadline: deadline) }
app/models/ongoing_eligibility.rb-52-  rescue ActiveRecord::RecordInvalid
app/models/ongoing_eligibility.rb-53-    Rails.logger.info "Invalid record/association(s) for Ongoing Eligibility: CareCase #{care_case.id}"
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-54-  end
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-55-
app/models/ongoing_eligibility.rb:56:  def self.create_missing_ongoing_eligibility_checks(account:, care_case:, covered_entity:, deadline:)
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-57-    return unless covered_entity.present?
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-58-    return if covered_entity.payer.eligibility_file?
--
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-61-
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-62-    if ongoing_check_needed?(covered_entity, deadline)
app/models/ongoing_eligibility.rb:63:      ongoing_eligibility_check = OngoingEligibilityCheck.create!(covered_entity: covered_entity, care_case: care_case, account: account)
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-64-
/Users/jschuss/Brightline/reef/app/models/ongoing_eligibility.rb-65-      if covered_entity.payer.real_time_eligibility?
--
app/models/calendaring/appointment_slot/availability_context.rb-8-      delegate :acuity_calendar_id, to: :staffer
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/availability_context.rb-9-
app/models/calendaring/appointment_slot/availability_context.rb:10:      def initialize(staffer:, request_context: nil, care_case: nil, member: nil, interpretation_language_id: nil, appointment_type: nil, appointment_duration: nil, root_appointment_type: nil, clinic: nil)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/availability_context.rb-11-        super
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/availability_context.rb-12-      end
--
/Users/jschuss/Brightline/reef/app/models/calendaring/completed_appointment.rb-6-      def initialize(appointment)
app/models/calendaring/completed_appointment.rb-7-        super("Appointment is in status #{appointment.status} and cannot be completed", error_context: {
app/models/calendaring/completed_appointment.rb:8:          care_case_id: appointment.care_case_id, appointment_id: appointment.id, status: appointment.status
/Users/jschuss/Brightline/reef/app/models/calendaring/completed_appointment.rb-9-        })
/Users/jschuss/Brightline/reef/app/models/calendaring/completed_appointment.rb-10-      end
--
app/models/calendaring/new_appointment.rb-28-          audience: scheduling_context.audience
/Users/jschuss/Brightline/reef/app/models/calendaring/new_appointment.rb-29-        ))
app/models/calendaring/new_appointment.rb:30:        EventSystem::Publisher.broadcast(AppointmentScheduledEvent.new(appointment: appointment, care_case: scheduling_context.care_case, staffer: appointment.staffer))
/Users/jschuss/Brightline/reef/app/models/calendaring/new_appointment.rb-31-        appointment
app/models/calendaring/new_appointment.rb-32-      rescue ActiveRecord::RecordInvalid => e
--
app/models/calendaring/new_appointment.rb-38-              acuity_appointment_id: @acuity_appointment.id,
app/models/calendaring/new_appointment.rb-39-              original_error: e.message,
app/models/calendaring/new_appointment.rb:40:              care_case_id: scheduling_context.care_case_id
/Users/jschuss/Brightline/reef/app/models/calendaring/new_appointment.rb-41-            })
/Users/jschuss/Brightline/reef/app/models/calendaring/new_appointment.rb-42-          end
--
app/models/calendaring/new_appointment.rb-67-        email: scheduling_context.participant_emails,
app/models/calendaring/new_appointment.rb-68-        admin: scheduling_context.admin,
app/models/calendaring/new_appointment.rb:69:        care_case_id: scheduling_context.care_case_id,
app/models/calendaring/new_appointment.rb-70-        authenticity_token: Calendaring::AcuityAuthenticityToken.generate
app/models/calendaring/new_appointment.rb-71-      }.compact_keys(:calendar_id)
--
app/models/calendaring/reef_links.rb-9-        staffer = ::Staffer.find(staffer_id)
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-10-
app/models/calendaring/reef_links.rb:11:        ReefLinks.add_to_acuity_appointment(appointment: appointment, care_case: care_case, staffer: staffer)
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-12-      end
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-13-    end
--
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-20-      add_to_acuity_appointment(
app/models/calendaring/reef_links.rb-21-        appointment: event.appointment,
app/models/calendaring/reef_links.rb:22:        care_case: event.care_case,
app/models/calendaring/reef_links.rb-23-        staffer: event.staffer
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-24-      )
--
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-28-      add_to_acuity_appointment_hold(
app/models/calendaring/reef_links.rb-29-        appointment: event.appointment_hold,
app/models/calendaring/reef_links.rb:30:        care_case: event.care_case,
app/models/calendaring/reef_links.rb-31-        staffer: event.staffer
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-32-      )
--
app/models/calendaring/reef_links.rb-46-    invokable_via :add_to_acuity_appointment, :add_to_acuity_appointment_hold
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-47-
app/models/calendaring/reef_links.rb:48:    def initialize(appointment:, care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-49-      @appointment = appointment
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-50-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-129-
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-130-    def additional_tags
app/models/calendaring/reef_links.rb:131:      capabilities = CareCase::DerivedExtraCapabilities.new(care_case: care_case).all.map(&:id)
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-132-
/Users/jschuss/Brightline/reef/app/models/calendaring/reef_links.rb-133-      return nil unless capabilities.present?
--
app/models/care_journey/workflow_record.rb-12-#  created_at           :datetime         not null
app/models/care_journey/workflow_record.rb-13-#  updated_at           :datetime         not null
app/models/care_journey/workflow_record.rb:14:#  care_case_id         :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow_record.rb-15-#
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow_record.rb-16-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow_record.rb-23-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow_record.rb-24-#
app/models/care_journey/workflow_record.rb:25:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow_record.rb-26-#
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow_record.rb-27-module CareJourney
--
app/models/calendaring/appointment_slot/reservation_form.rb-15-      validate :check_conflict_resolutions
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation_form.rb-16-
app/models/calendaring/appointment_slot/reservation_form.rb:17:      def initialize(care_case:, appointment_slot_reservation_params:, available_slot_params:)
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation_form.rb-18-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation_form.rb-19-        @appointment_slot_reservation_params = appointment_slot_reservation_params
--
app/models/calendaring/appointment_slot/reservation_form.rb-57-            notes:,
app/models/calendaring/appointment_slot/reservation_form.rb-58-            group: :member_support,
app/models/calendaring/appointment_slot/reservation_form.rb:59:            care_case: care_case,
app/models/calendaring/appointment_slot/reservation_form.rb-60-            account: care_case.account,
app/models/calendaring/appointment_slot/reservation_form.rb-61-            due_date: Time.zone.today.to_date
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation_form.rb-66-      def ahoy_metadata
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation_form.rb-67-        {
app/models/calendaring/appointment_slot/reservation_form.rb:68:          care_case_id: care_case.id,
app/models/calendaring/appointment_slot/reservation_form.rb-69-          appointment_type_id: appointment_type.id,
app/models/calendaring/appointment_slot/reservation_form.rb-70-          staffer_id: staffer.id,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/appointment_slot/reservation_form.rb-110-      def scheduling_context
app/models/calendaring/appointment_slot/reservation_form.rb-111-        Calendaring::SchedulingContext.new(
app/models/calendaring/appointment_slot/reservation_form.rb:112:          care_case:,
app/models/calendaring/appointment_slot/reservation_form.rb-113-          member:,
app/models/calendaring/appointment_slot/reservation_form.rb-114-          staffer:,
--
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_termination.rb-73-    def create_termination_reminder(care_case, due_date, notes)
app/models/eligibility/coverage_termination.rb-74-      TaskManagement::Reminder.find_or_create_by!(
app/models/eligibility/coverage_termination.rb:75:        care_case: care_case,
app/models/eligibility/coverage_termination.rb-76-        title: I18n.t("reminders.coverage_termination.title"),
app/models/eligibility/coverage_termination.rb-77-        notes: notes,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-60-    def broadcast_reschedule(changes)
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-61-      if changes.any?
app/models/calendaring/acuity_update.rb:62:        EventSystem::Publisher.broadcast(AppointmentRescheduledEvent.new(appointment: @appointment, care_case: @appointment.care_case, changes: changes))
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-63-      end
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-64-    end
--
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-66-    def broadcast_reschedule_or_duration_change(changes)
app/models/calendaring/acuity_update.rb-67-      if changes[:start_time].present?
app/models/calendaring/acuity_update.rb:68:        EventSystem::Publisher.broadcast(AppointmentRescheduledEvent.new(appointment: @appointment, care_case: @appointment.care_case, changes: changes))
app/models/calendaring/acuity_update.rb-69-      elsif changes[:end_time].present?
app/models/calendaring/acuity_update.rb:70:        EventSystem::Publisher.broadcast(AppointmentDurationChangedEvent.new(appointment: @appointment, care_case: @appointment.care_case, changes: changes))
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-71-      end
/Users/jschuss/Brightline/reef/app/models/calendaring/acuity_update.rb-72-    end
--
app/models/eligibility/account_coverage_matcher.rb-21-            covered_entity: covered_entity,
app/models/eligibility/account_coverage_matcher.rb-22-            account: account,
app/models/eligibility/account_coverage_matcher.rb:23:            care_case: care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-24-          )
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-25-        end
--
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-29-    private
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-30-
app/models/eligibility/account_coverage_matcher.rb:31:    def create_coverage_info_and_commit_from_covered_entity(covered_entity:, account:, care_case: nil)
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-32-      coverage_info = CoverageInfo.create!(
app/models/eligibility/account_coverage_matcher.rb-33-        date_of_birth: covered_entity.date_of_birth,
--
app/models/eligibility/account_coverage_matcher.rb-38-        external_member_id: covered_entity.external_member_id,
app/models/eligibility/account_coverage_matcher.rb-39-        account: account,
app/models/eligibility/account_coverage_matcher.rb:40:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-41-      )
/Users/jschuss/Brightline/reef/app/models/eligibility/account_coverage_matcher.rb-42-
--
app/models/eligibility/api/best_covered_entity.rb-29-        # @raise [Eligibility::Api::BestCoveredEntity::ServiceLineInvalid]
/Users/jschuss/Brightline/reef/app/models/eligibility/api/best_covered_entity.rb-30-        # @return [CoveredEntity]
app/models/eligibility/api/best_covered_entity.rb:31:        def active_for_service_line_and_care_case(service_line:, care_case:)
/Users/jschuss/Brightline/reef/app/models/eligibility/api/best_covered_entity.rb-32-          validate_service_line!(service_line)
/Users/jschuss/Brightline/reef/app/models/eligibility/api/best_covered_entity.rb-33-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/activity.rb-35-
/Users/jschuss/Brightline/reef/app/models/care_journey/activity.rb-36-      def from_activity_record(activity_record)
app/models/care_journey/activity.rb:37:        new(care_case: activity_record.care_case, **activity_record.workflow_attributes)
/Users/jschuss/Brightline/reef/app/models/care_journey/activity.rb-38-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/activity.rb-39-    end
--
app/models/welkin_v8/exported_patient_document.rb-13-#  created_at                      :datetime         not null
app/models/welkin_v8/exported_patient_document.rb-14-#  updated_at                      :datetime         not null
app/models/welkin_v8/exported_patient_document.rb:15:#  care_case_id                    :uuid             not null
app/models/welkin_v8/exported_patient_document.rb-16-#  healthie_care_case_migration_id :uuid             not null
app/models/welkin_v8/exported_patient_document.rb-17-#  healthie_file_id                :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8/exported_patient_document.rb-27-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/welkin_v8/exported_patient_document.rb-28-#
app/models/welkin_v8/exported_patient_document.rb:29:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/exported_patient_document.rb-30-#  fk_rails_...  (healthie_care_case_migration_id => healthie_care_case_migrations.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/exported_patient_document.rb-31-#  fk_rails_...  (welkin_v8_processed_record_id => welkin_v8_processed_records.id)
--
app/models/eligibility/coverage_info_confirmation.rb-38-        covered_entity: covered_entity,
app/models/eligibility/coverage_info_confirmation.rb-39-        account: account,
app/models/eligibility/coverage_info_confirmation.rb:40:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_info_confirmation.rb-41-      )
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_info_confirmation.rb-42-    end
--
app/models/care_journey/activity_record.rb-11-#  updated_at                  :datetime         not null
app/models/care_journey/activity_record.rb-12-#  activity_id                 :string           not null
app/models/care_journey/activity_record.rb:13:#  care_case_id                :uuid             not null
app/models/care_journey/activity_record.rb-14-#  previous_activity_record_id :uuid
app/models/care_journey/activity_record.rb-15-#  workflow_record_id          :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/care_journey/activity_record.rb-24-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_journey/activity_record.rb-25-#
app/models/care_journey/activity_record.rb:26:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/activity_record.rb-27-#  fk_rails_...  (previous_activity_record_id => care_journey_activity_records.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/activity_record.rb-28-#  fk_rails_...  (workflow_record_id => care_journey_workflow_records.id)
--
/Users/jschuss/Brightline/reef/app/models/eligibility/covered_entity_helper.rb-55-    end
/Users/jschuss/Brightline/reef/app/models/eligibility/covered_entity_helper.rb-56-
app/models/eligibility/covered_entity_helper.rb:57:    def best_active_covered_entity_for_service_line_and_care_case(service_line:, care_case:)
app/models/eligibility/covered_entity_helper.rb:58:      Eligibility::Api::BestCoveredEntity.active_for_service_line_and_care_case(service_line: service_line, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/eligibility/covered_entity_helper.rb-59-    end
/Users/jschuss/Brightline/reef/app/models/eligibility/covered_entity_helper.rb-60-
--
app/models/eligibility/state_sponsored_coverage.rb-10-    attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/state_sponsored_coverage.rb-11-
app/models/eligibility/state_sponsored_coverage.rb:12:    def initialize(care_case:, zip_code: nil)
/Users/jschuss/Brightline/reef/app/models/eligibility/state_sponsored_coverage.rb-13-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/state_sponsored_coverage.rb-14-      @zip_code = zip_code
--
app/models/eligibility/state_sponsored_coverage.rb-42-        date_of_birth: care_case.patient_date_of_birth,
app/models/eligibility/state_sponsored_coverage.rb-43-        account: care_case.account,
app/models/eligibility/state_sponsored_coverage.rb:44:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/state_sponsored_coverage.rb-45-      )
/Users/jschuss/Brightline/reef/app/models/eligibility/state_sponsored_coverage.rb-46-    end
--
/Users/jschuss/Brightline/reef/app/models/eligibility/state_sponsored_coverage.rb-48-    def create_eligibility_verification_and_context!(coverage_info, contract)
app/models/eligibility/state_sponsored_coverage.rb-49-      eligibility_context = Eligibility::Verification::Context::Residency::Member.create!(
app/models/eligibility/state_sponsored_coverage.rb:50:        care_case: care_case,
app/models/eligibility/state_sponsored_coverage.rb-51-        coverage_info: coverage_info,
app/models/eligibility/state_sponsored_coverage.rb-52-        lead_source: care_case.account.landing_page_source,
--
/Users/jschuss/Brightline/reef/app/models/eligibility/accounts/state_sponsored_coverages.rb-19-  def submit!
/Users/jschuss/Brightline/reef/app/models/eligibility/accounts/state_sponsored_coverages.rb-20-    account.care_cases.each do |care_case|
app/models/eligibility/accounts/state_sponsored_coverages.rb:21:      Eligibility::StateSponsoredCoverage.verify_and_create!(care_case: care_case, zip_code: zip)
/Users/jschuss/Brightline/reef/app/models/eligibility/accounts/state_sponsored_coverages.rb-22-    end
/Users/jschuss/Brightline/reef/app/models/eligibility/accounts/state_sponsored_coverages.rb-23-
--
app/models/welkin_v8/processed_record.rb-16-#  updated_at          :datetime         not null
app/models/welkin_v8/processed_record.rb-17-#  appointment_id      :uuid
app/models/welkin_v8/processed_record.rb:18:#  care_case_id        :uuid             not null
app/models/welkin_v8/processed_record.rb-19-#  staffer_id          :uuid
app/models/welkin_v8/processed_record.rb-20-#  welkin_v8_record_id :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8/processed_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/welkin_v8/processed_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/welkin_v8/processed_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/processed_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/processed_record.rb-33-#
--
app/models/eligibility/coverage_info_attributes.rb-15-        account: account,
app/models/eligibility/coverage_info_attributes.rb-16-        external_member_id: external_member_id,
app/models/eligibility/coverage_info_attributes.rb:17:        care_case: care_case,
app/models/eligibility/coverage_info_attributes.rb-18-        first_name: first_name,
app/models/eligibility/coverage_info_attributes.rb-19-        last_name: last_name,
--
app/models/eligibility/coverage_info_addition.rb-8-          coverage_info: coverage_info,
app/models/eligibility/coverage_info_addition.rb-9-          account: coverage_info.account,
app/models/eligibility/coverage_info_addition.rb:10:          care_case: coverage_info.care_case,
app/models/eligibility/coverage_info_addition.rb-11-          member: member
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_info_addition.rb-12-        )
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-43-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-44-      on(RegistrationCompletedEvent) do |event|
app/models/care_journey/workflows/intake_workflow.rb:45:        event => {care_case:}
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-46-
app/models/care_journey/workflows/intake_workflow.rb:47:        registration_completed!(care_case:, registration_completed_at: Time.zone.now)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-48-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-49-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-50-      on(AppointmentScheduledEvent) do |event|
app/models/care_journey/workflows/intake_workflow.rb:51:        event => {care_case:, appointment:}
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-52-        next unless appointment.appointment_type.enrolls_care?
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-53-
--
app/models/care_journey/workflows/intake_workflow.rb-60-        next if care_case.service_line_enrollments.exists?(service_line_id: appointment.service_line.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-61-
app/models/care_journey/workflows/intake_workflow.rb:62:        appointment_scheduled!(care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-63-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-64-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-65-      on(AppointmentCompletedEvent) do |event|
app/models/care_journey/workflows/intake_workflow.rb:66:        event => {care_case:, appointment:}
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-67-        next unless appointment.appointment_type.enrolls_care?
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-68-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-75-
app/models/care_journey/workflows/intake_workflow.rb-76-      on(CareJourney::Workflows::UnestablishedDisengagedMemberWorkflow::TerminallyDisengagedActivity) do |event|
app/models/care_journey/workflows/intake_workflow.rb:77:        event => {care_case:, service_line_id:}
app/models/care_journey/workflows/intake_workflow.rb-78-        service_line_enrollment = care_case.service_line_enrollments.active.find_by(service_line_id:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-79-        next unless service_line_enrollment.present?
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-83-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-84-
app/models/care_journey/workflows/intake_workflow.rb:85:      def self.enrollment_pending(care_case:)
app/models/care_journey/workflows/intake_workflow.rb-86-        record = CareJourney::WorkflowRecord.active
app/models/care_journey/workflows/intake_workflow.rb:87:          .find_by(workflow_name:, workflow_state: :enrollment_pending, care_case:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-88-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-89-        from_record(record) if record.present?
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-114-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-115-
app/models/care_journey/workflows/intake_workflow.rb:116:      def self.registration_completed!(care_case:, registration_completed_at:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-117-        with_lock(care_case) do
app/models/care_journey/workflows/intake_workflow.rb:118:          workflow = enrollment_pending(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-119-          if workflow.present?
app/models/care_journey/workflows/intake_workflow.rb-120-            return workflow if workflow.workflow_attributes[:registration_completed_at].present?
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-123-            workflow.service_line_enrolled!
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-124-          else
app/models/care_journey/workflows/intake_workflow.rb:125:            enrollment_pending!(care_case:, registration_completed_at:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-126-          end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-127-        end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-128-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-129-
app/models/care_journey/workflows/intake_workflow.rb:130:      def self.appointment_scheduled!(care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-131-        with_lock(care_case) do
app/models/care_journey/workflows/intake_workflow.rb:132:          workflow = enrollment_pending(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-133-          if workflow.present?
app/models/care_journey/workflows/intake_workflow.rb-134-            return workflow if workflow.workflow_attributes[:initial_appointment_id].present?
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-137-            workflow.service_line_enrolled!
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-138-          else
app/models/care_journey/workflows/intake_workflow.rb:139:            enrollment_pending!(care_case:, initial_appointment: appointment)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-140-          end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-141-        end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-142-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-143-
app/models/care_journey/workflows/intake_workflow.rb:144:      def self.enrollment_pending!(care_case:, registration_completed_at: nil, initial_appointment: nil)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-145-        with_lock(care_case) do
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-146-          new(
app/models/care_journey/workflows/intake_workflow.rb-147-            state: nil,
app/models/care_journey/workflows/intake_workflow.rb-148-            record: nil,
app/models/care_journey/workflows/intake_workflow.rb:149:            care_case:,
app/models/care_journey/workflows/intake_workflow.rb-150-            registration_completed_at:,
app/models/care_journey/workflows/intake_workflow.rb-151-            initial_appointment_id: initial_appointment&.id
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-156-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-157-
app/models/care_journey/workflows/intake_workflow.rb:158:      def self.service_line_enrolled!(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-159-        with_lock(care_case) do
app/models/care_journey/workflows/intake_workflow.rb-160-          record = CareJourney::WorkflowRecord.active
app/models/care_journey/workflows/intake_workflow.rb:161:            .find_by(workflow_name:, workflow_state: :enrollment_pending, care_case:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-162-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-163-          if record.present?
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-211-          appointment = Appointment.find(initial_appointment_id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-212-
app/models/care_journey/workflows/intake_workflow.rb:213:          service_line_enrollment = ServiceLine::Enrollment.create!(care_case:, service_line_id: appointment.service_line.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-214-          service_line_enrollment.enroll!(appointment)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/intake_workflow.rb-215-
--
app/models/welkin_v8/records/document_summary_record.rb-16-#  updated_at          :datetime         not null
app/models/welkin_v8/records/document_summary_record.rb-17-#  appointment_id      :uuid
app/models/welkin_v8/records/document_summary_record.rb:18:#  care_case_id        :uuid             not null
app/models/welkin_v8/records/document_summary_record.rb-19-#  staffer_id          :uuid
app/models/welkin_v8/records/document_summary_record.rb-20-#  welkin_v8_record_id :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/document_summary_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/document_summary_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/welkin_v8/records/document_summary_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/document_summary_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/document_summary_record.rb-33-#
--
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-54-          if unlink_existing_covered_entity_id.present?
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-55-            covered_entity_to_unlink = CoveredEntity.find(unlink_existing_covered_entity_id)
app/models/eligibility/coverage_form.rb:56:            Eligibility::AccountCoveredEntity.unlink_from_care_case!(covered_entity: covered_entity_to_unlink, care_case: care_case, adjudicator_id: adjudicator_id)
app/models/eligibility/coverage_form.rb-57-            updated_covered_entity_params = covered_entity_params.merge({coverage_starts_at: covered_entity_to_unlink.reload.coverage_ends_at})
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-58-          end
--
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-60-          @created_covered_entity = CoveredEntity.create!(updated_covered_entity_params || covered_entity_params)
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-61-          @created_coverage_log = create_coverage_log
app/models/eligibility/coverage_form.rb:62:          CareCaseCoveredEntity.create!(care_case: care_case, covered_entity: @created_covered_entity) if care_case
app/models/eligibility/coverage_form.rb-63-          Billing::CandidPatient::Factory.create(eligibility_request) if eligibility_request.present?
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-64-          create_reminder_if_member_self_paid_in_coverage_range
--
app/models/eligibility/coverage_form.rb-83-        coverage_starts_at: covered_entity.coverage_starts_at,
app/models/eligibility/coverage_form.rb-84-        coverage_ends_at: covered_entity.coverage_ends_at,
app/models/eligibility/coverage_form.rb:85:        care_case: covered_entity.care_cases.first,
app/models/eligibility/coverage_form.rb-86-        account: covered_entity.account,
app/models/eligibility/coverage_form.rb-87-        first_name: covered_entity.first_name,
--
app/models/eligibility/coverage_form.rb-100-        coverage_starts_at: Time.zone.now,
app/models/eligibility/coverage_form.rb-101-        coverage_ends_at: nil,
app/models/eligibility/coverage_form.rb:102:        care_case: care_case,
app/models/eligibility/coverage_form.rb-103-        account: account,
app/models/eligibility/coverage_form.rb-104-        first_name: eligibility_request.first_name,
--
app/models/eligibility/coverage_form.rb-226-        group: :revenue_cycle,
app/models/eligibility/coverage_form.rb-227-        account: care_case.account,
app/models/eligibility/coverage_form.rb:228:        care_case: care_case,
app/models/eligibility/coverage_form.rb-229-        due_date: Time.zone.now + 1.day
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-230-      )
--
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-248-
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-249-    def care_case_covered_entity_error_message(error, account)
app/models/eligibility/coverage_form.rb:250:      if error.message.include?(I18n.t(:overlapping, scope: "activerecord.errors.models.care_case_covered_entity.attributes.covered_entity", care_case_id: care_case.id))
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-251-        "#{error.message}. You may need to delete a covered entity with overlapping coverage dates <a href=\"#{Rails.application.routes.url_helpers.care_case_coverage_overview_path(care_case)}\">here</a>"
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-252-      else
--
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-258-      account_care_cases.each do |care_case|
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-259-        if active_private_benefits_for_care_case(care_case).any?
app/models/eligibility/coverage_form.rb:260:          reminders = TaskManagement::Reminder.where(care_case: care_case, group: :biller, title: I18n.t("reminders.coverage_termination.title"))
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-261-          next if reminders.empty?
/Users/jschuss/Brightline/reef/app/models/eligibility/coverage_form.rb-262-          reminders.each do |reminder|
--
app/models/welkin_v8/records/encounter_disposition_record.rb-16-#  updated_at          :datetime         not null
app/models/welkin_v8/records/encounter_disposition_record.rb-17-#  appointment_id      :uuid
app/models/welkin_v8/records/encounter_disposition_record.rb:18:#  care_case_id        :uuid             not null
app/models/welkin_v8/records/encounter_disposition_record.rb-19-#  staffer_id          :uuid
app/models/welkin_v8/records/encounter_disposition_record.rb-20-#  welkin_v8_record_id :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_disposition_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_disposition_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/welkin_v8/records/encounter_disposition_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_disposition_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_disposition_record.rb-33-#
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-36-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-37-      on(AppointmentScheduledEvent) do |event|
app/models/care_journey/workflows/reengaged_member_workflow.rb:38:        event => {care_case:, appointment:}
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-39-        next unless appointment.appointment_type.enrolls_care?
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-40-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-42-        next if service_line_enrollments.empty? || service_line_enrollments.any? { !it.discharged? }
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-43-
app/models/care_journey/workflows/reengaged_member_workflow.rb:44:        reengaged!(care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-45-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-46-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-47-      on(AppointmentCompletedEvent) do |event|
app/models/care_journey/workflows/reengaged_member_workflow.rb:48:        event => {care_case:, appointment:}
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-49-        next unless appointment.appointment_type.enrolls_care?
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-50-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-57-
app/models/care_journey/workflows/reengaged_member_workflow.rb-58-      on(CareJourney::Workflows::UnestablishedDisengagedMemberWorkflow::TerminallyDisengagedActivity) do |event|
app/models/care_journey/workflows/reengaged_member_workflow.rb:59:        event => {care_case:, service_line_id:}
app/models/care_journey/workflows/reengaged_member_workflow.rb-60-        service_line_enrollment = care_case.service_line_enrollments.active.find_by(service_line_id:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-61-        next unless service_line_enrollment.present?
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-89-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-90-
app/models/care_journey/workflows/reengaged_member_workflow.rb:91:      def self.reengaged!(care_case:, appointment:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-92-        with_lock(care_case) do
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-93-          new(
app/models/care_journey/workflows/reengaged_member_workflow.rb-94-            state: nil,
app/models/care_journey/workflows/reengaged_member_workflow.rb-95-            record: nil,
app/models/care_journey/workflows/reengaged_member_workflow.rb:96:            care_case:,
app/models/care_journey/workflows/reengaged_member_workflow.rb-97-            initial_appointment_id: appointment.id
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-98-          ).tap do |workflow|
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-136-
app/models/care_journey/workflows/reengaged_member_workflow.rb-137-          previous_service_line_enrollment = ServiceLine::Enrollment
app/models/care_journey/workflows/reengaged_member_workflow.rb:138:            .where(care_case:)
app/models/care_journey/workflows/reengaged_member_workflow.rb-139-            .where.not(service_line_id: ServiceLine.medication_management.id)
app/models/care_journey/workflows/reengaged_member_workflow.rb-140-            .order(created_at: :desc)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/reengaged_member_workflow.rb-141-            .first
app/models/care_journey/workflows/reengaged_member_workflow.rb-142-          service_line_enrollment = ServiceLine::Enrollment.create!(
app/models/care_journey/workflows/reengaged_member_workflow.rb:143:            care_case:,
app/models/care_journey/workflows/reengaged_member_workflow.rb-144-            service_line_id: appointment.service_line.id,
app/models/care_journey/workflows/reengaged_member_workflow.rb-145-            previous_service_line_id: previous_service_line_enrollment.service_line_id,
--
app/models/welkin_v8_custom_data_record.rb-10-#  created_at   :datetime         not null
app/models/welkin_v8_custom_data_record.rb-11-#  updated_at   :datetime         not null
app/models/welkin_v8_custom_data_record.rb:12:#  care_case_id :uuid             not null
app/models/welkin_v8_custom_data_record.rb-13-#  subject_id   :uuid
app/models/welkin_v8_custom_data_record.rb-14-#  welkin_id    :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8_custom_data_record.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/welkin_v8_custom_data_record.rb-22-#
app/models/welkin_v8_custom_data_record.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8_custom_data_record.rb-24-#
/Users/jschuss/Brightline/reef/app/models/welkin_v8_custom_data_record.rb-25-class WelkinV8CustomDataRecord < ApplicationRecord
--
app/models/welkin_v8_custom_data_record.rb-27-  belongs_to :subject, polymorphic: true, optional: true
/Users/jschuss/Brightline/reef/app/models/welkin_v8_custom_data_record.rb-28-
app/models/welkin_v8_custom_data_record.rb:29:  scope :for_care_case, ->(care_case) { where(care_case: care_case) }
app/models/welkin_v8_custom_data_record.rb-30-  scope :caregiver_info, -> { where(type_name: "caregiver_info") }
app/models/welkin_v8_custom_data_record.rb-31-  scope :reef_links, -> { where(type_name: "reef_links") }
--
app/models/welkin_v8/records/encounter_record.rb-16-#  updated_at          :datetime         not null
app/models/welkin_v8/records/encounter_record.rb-17-#  appointment_id      :uuid
app/models/welkin_v8/records/encounter_record.rb:18:#  care_case_id        :uuid             not null
app/models/welkin_v8/records/encounter_record.rb-19-#  staffer_id          :uuid
app/models/welkin_v8/records/encounter_record.rb-20-#  welkin_v8_record_id :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/welkin_v8/records/encounter_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/encounter_record.rb-33-#
--
app/models/eligibility/account_covered_entity.rb-9-    attr_reader :covered_entity, :care_case, :adjudicator_id
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-10-
app/models/eligibility/account_covered_entity.rb:11:    def initialize(covered_entity:, care_case:, adjudicator_id:)
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-12-      @covered_entity = covered_entity
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-13-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-18-    end
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-19-
app/models/eligibility/account_covered_entity.rb:20:    def self.unlink_from_care_case!(covered_entity:, care_case:, adjudicator_id: nil)
app/models/eligibility/account_covered_entity.rb:21:      new(covered_entity: covered_entity, care_case: care_case, adjudicator_id: adjudicator_id).unlink_from_care_case!
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-22-    end
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-23-
--
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-38-      other_care_cases = covered_entity.care_cases.excluding(care_case)
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-39-      other_care_cases.each do |other_care_case|
app/models/eligibility/account_covered_entity.rb:40:        CareCaseCoveredEntity.create!(care_case: other_care_case, covered_entity: new_covered_entity)
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-41-      end
/Users/jschuss/Brightline/reef/app/models/eligibility/account_covered_entity.rb-42-    end
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-46-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-47-      on(CareCaseInternalReferralEvent) do |event|
app/models/care_journey/workflows/internal_referral_workflow.rb:48:        event => {previous_service_line_id:, referral:, care_case:}
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-49-        previous_service_line = ServiceLine.find(previous_service_line_id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-50-
app/models/care_journey/workflows/internal_referral_workflow.rb-51-        if service_line_referred(referral:).nil?
app/models/care_journey/workflows/internal_referral_workflow.rb:52:          service_line_referred!(care_case:, previous_service_line:, referral:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-53-        end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-54-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-55-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-56-      on(AppointmentScheduledEvent) do |event|
app/models/care_journey/workflows/internal_referral_workflow.rb:57:        event => {care_case:, appointment:}
app/models/care_journey/workflows/internal_referral_workflow.rb-58-        service_line_enrollment = care_case.service_line_enrollments.active.find_by(service_line_id: appointment.service_line.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-59-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-116-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-117-
app/models/care_journey/workflows/internal_referral_workflow.rb:118:      def self.service_line_referred!(care_case:, previous_service_line:, referral:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-119-        with_lock(care_case) do
app/models/care_journey/workflows/internal_referral_workflow.rb-120-          # TODO Pass objects instead of ids once :reference is supported by workflow attributes
app/models/care_journey/workflows/internal_referral_workflow.rb:121:          # new(state: nil, record: nil, care_case:, previous_service_line:, referral:)
app/models/care_journey/workflows/internal_referral_workflow.rb:122:          new(state: nil, record: nil, care_case:, previous_service_line_id: previous_service_line.id, referral_id: referral.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-123-            .service_line_referred!
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-124-        end
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/internal_referral_workflow.rb-141-
app/models/care_journey/workflows/internal_referral_workflow.rb-142-          next_service_line_enrollment = ServiceLine::Enrollment.create!(
app/models/care_journey/workflows/internal_referral_workflow.rb:143:            care_case:,
app/models/care_journey/workflows/internal_referral_workflow.rb-144-            previous_enrollment_id: previous_service_line_enrollment.id,
app/models/care_journey/workflows/internal_referral_workflow.rb-145-            previous_service_line_id: previous_service_line.id,
--
/Users/jschuss/Brightline/reef/app/models/calendaring/availability/wait_time_reporter.rb-26-          {
app/models/calendaring/availability/wait_time_reporter.rb-27-            appointment_request_source: availability_context.request_context,
app/models/calendaring/availability/wait_time_reporter.rb:28:            care_case_id: availability_context.care_case.id,
app/models/calendaring/availability/wait_time_reporter.rb-29-            member_id: availability_context.member.id,
app/models/calendaring/availability/wait_time_reporter.rb-30-            appointment_type_id: availability_context.appointment_type.id,
--
app/models/analytics/event/care_navigation_results/booking/started.rb-23-          attribute :selected_program, DryTypes::Coercible::String.meta(description: "The program of the care case")
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_results/booking/started.rb-24-
app/models/analytics/event/care_navigation_results/booking/started.rb:25:          def self.build(care_case:, program_id:, source:, account_id:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/care_navigation_results/booking/started.rb-26-            new(
app/models/analytics/event/care_navigation_results/booking/started.rb:27:              care_case_id: care_case.id,
app/models/analytics/event/care_navigation_results/booking/started.rb:28:              proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/care_navigation_results/booking/started.rb-29-              program_id: program_id,
app/models/analytics/event/care_navigation_results/booking/started.rb-30-              source: source,
--
app/models/eligibility/verification/seeds.rb-67-        coverage_info = FactoryBot.create :coverage_info,
app/models/eligibility/verification/seeds.rb-68-          account: account,
app/models/eligibility/verification/seeds.rb:69:          care_case: care_case,
app/models/eligibility/verification/seeds.rb-70-          matching_info: @change_health_contract.matching_infos.first,
app/models/eligibility/verification/seeds.rb-71-          first_name: first_name,
--
app/models/eligibility/verification/seeds.rb-173-        coverage_info = FactoryBot.create :coverage_info,
app/models/eligibility/verification/seeds.rb-174-          account: account,
app/models/eligibility/verification/seeds.rb:175:          care_case: care_case,
app/models/eligibility/verification/seeds.rb-176-          matching_info: @ca_contract.matching_infos.first,
app/models/eligibility/verification/seeds.rb-177-          first_name: first_name,
--
app/models/eligibility/verification/seeds.rb-183-          :with_residency_member_context,
app/models/eligibility/verification/seeds.rb-184-          contract: @ca_contract,
app/models/eligibility/verification/seeds.rb:185:          care_case: care_case,
app/models/eligibility/verification/seeds.rb-186-          coverage_info: coverage_info,
app/models/eligibility/verification/seeds.rb-187-          lead_source: nil,
--
app/models/eligibility/verification/seeds.rb-243-          :scheduled,
app/models/eligibility/verification/seeds.rb-244-          :within_24_hours,
app/models/eligibility/verification/seeds.rb:245:          care_case: care_case
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/seeds.rb-246-
app/models/eligibility/verification/seeds.rb-247-        covered_entity = FactoryBot.create :covered_entity,
--
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/seeds.rb-254-
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/seeds.rb-255-        CareCaseCoveredEntity.create!(
app/models/eligibility/verification/seeds.rb:256:          care_case: care_case,
app/models/eligibility/verification/seeds.rb-257-          covered_entity: covered_entity
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/seeds.rb-258-        )
--
app/models/eligibility/verification/seeds.rb-260-        ongoing_eligibility_check = FactoryBot.create :ongoing_eligibility_check,
app/models/eligibility/verification/seeds.rb-261-          account: account,
app/models/eligibility/verification/seeds.rb:262:          care_case: care_case,
app/models/eligibility/verification/seeds.rb-263-          covered_entity: covered_entity
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/seeds.rb-264-
--
app/models/welkin_v8/records/assessment_record.rb-16-#  updated_at          :datetime         not null
app/models/welkin_v8/records/assessment_record.rb-17-#  appointment_id      :uuid
app/models/welkin_v8/records/assessment_record.rb:18:#  care_case_id        :uuid             not null
app/models/welkin_v8/records/assessment_record.rb-19-#  staffer_id          :uuid
app/models/welkin_v8/records/assessment_record.rb-20-#  welkin_v8_record_id :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/assessment_record.rb-29-#
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/assessment_record.rb-30-#  fk_rails_...  (appointment_id => appointments.id)
app/models/welkin_v8/records/assessment_record.rb:31:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/assessment_record.rb-32-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/welkin_v8/records/assessment_record.rb-33-#
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-39-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-40-      on(AppointmentCanceledEvent, AppointmentMarkedAsNoShowEvent) do |event|
app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb:41:        event => {care_case:, appointment:}
app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-42-        service_line_enrollment = care_case.service_line_enrollments.active.find_by(service_line_id: appointment.service_line.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-43-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-49-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-50-      on(AppointmentScheduledEvent) do |event|
app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb:51:        event => {care_case:, appointment:}
app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-52-        service_line_enrollment = care_case.service_line_enrollments.active.find_by(service_line_id: appointment.service_line.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-53-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-83-
app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-84-      def self.disengaged!(service_line_enrollment:)
app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb:85:        workflow = new(care_case: service_line_enrollment.care_case, state: nil, record: nil, service_line_enrollment_id: service_line_enrollment.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-86-        workflow.disengaged!
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/unestablished_disengaged_member_workflow.rb-87-      end
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/test_workflow.rb-35-
app/models/care_journey/workflows/test_workflow.rb-36-      def self.state_1!(service_line_enrollment:)
app/models/care_journey/workflows/test_workflow.rb:37:        workflow = new(care_case: service_line_enrollment.care_case, state: nil, record: nil, service_line_enrollment_id: service_line_enrollment.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/test_workflow.rb-38-        workflow.state_1!
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/test_workflow.rb-39-      end
--
app/models/analytics/event/child_page/viewed.rb-15-        attribute :account_id, DryTypes::String.meta(description: "Id for the account")
/Users/jschuss/Brightline/reef/app/models/analytics/event/child_page/viewed.rb-16-
app/models/analytics/event/child_page/viewed.rb:17:        def self.build(account:, care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/child_page/viewed.rb-18-          new(
app/models/analytics/event/child_page/viewed.rb-19-            account_id: account.id,
app/models/analytics/event/child_page/viewed.rb:20:            care_case_id: care_case.id,
app/models/analytics/event/child_page/viewed.rb:21:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/child_page/viewed.rb-22-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/child_page/viewed.rb-23-        end
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-21-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-22-      on(CareCaseDischargedEvent) do |event|
app/models/care_journey/workflows/discharge_workflow.rb:23:        event => {care_case:, discharge:}
app/models/care_journey/workflows/discharge_workflow.rb-24-        service_line_enrollment = care_case.service_line_enrollments.order(created_at: :desc).where(service_line_id: discharge.service_line_id, discharge_id: nil).first
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-25-
--
app/models/care_journey/workflows/discharge_workflow.rb-27-        next unless service_line_discharged(service_line_enrollment:).nil?
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-28-
app/models/care_journey/workflows/discharge_workflow.rb:29:        service_line_discharged!(care_case:, service_line_enrollment:, discharge:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-30-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-31-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-38-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-39-
app/models/care_journey/workflows/discharge_workflow.rb:40:      def self.service_line_discharged!(care_case:, service_line_enrollment:, discharge:)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-41-        with_lock(care_case) do
app/models/care_journey/workflows/discharge_workflow.rb:42:          new(state: nil, record: nil, care_case:, service_line_enrollment_id: service_line_enrollment.id, discharge_id: discharge.id)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-43-            .service_line_discharged!
/Users/jschuss/Brightline/reef/app/models/care_journey/workflows/discharge_workflow.rb-44-        end
--
app/models/welkin_custom_data_record.rb-10-#  created_at   :datetime         not null
app/models/welkin_custom_data_record.rb-11-#  updated_at   :datetime         not null
app/models/welkin_custom_data_record.rb:12:#  care_case_id :uuid             not null
app/models/welkin_custom_data_record.rb-13-#  subject_id   :uuid
app/models/welkin_custom_data_record.rb-14-#  welkin_id    :string
--
/Users/jschuss/Brightline/reef/app/models/welkin_custom_data_record.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/welkin_custom_data_record.rb-22-#
app/models/welkin_custom_data_record.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/welkin_custom_data_record.rb-24-#
/Users/jschuss/Brightline/reef/app/models/welkin_custom_data_record.rb-25-class WelkinCustomDataRecord < ApplicationRecord
--
app/models/assessment_assignment.rb-14-#  assessment_id         :string
app/models/assessment_assignment.rb-15-#  assessment_version_id :string
app/models/assessment_assignment.rb:16:#  care_case_id          :uuid             not null
app/models/assessment_assignment.rb-17-#  completed_by_id       :uuid
app/models/assessment_assignment.rb-18-#  display_language_id   :string
--
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-27-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-28-#
app/models/assessment_assignment.rb:29:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-30-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-31-#
--
app/models/assessment_assignment.rb-181-    matching_assessment_ids = (assessment.render_grouping == "psc17") ? Assessment.psc17_ids : assessment_id
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-182-    AssessmentAssignment
app/models/assessment_assignment.rb:183:      .where(care_case_id: care_case_id)
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-184-      .assigned_to(member_id)
app/models/assessment_assignment.rb-185-      .order(completed_at: :asc)
--
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-187-  end
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-188-
app/models/assessment_assignment.rb:189:  def self.grouped_by_assessment_for(care_case:, member:)
app/models/assessment_assignment.rb:190:    AssessmentAssignment.where(care_case: care_case, member: member).group_by do |assigned_assessment|
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-191-      assigned_assessment.assessment.group
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-192-    end
--
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-238-  def log_change_event
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-239-    if completed_at.present?
app/models/assessment_assignment.rb:240:      EventSystem::Publisher.broadcast(AssessmentAssignmentCompletedEvent.new(care_case: care_case, member: member, assessment_assignment: self, completed_at: completed_at))
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-241-    end
/Users/jschuss/Brightline/reef/app/models/assessment_assignment.rb-242-  end
--
app/models/care_journey/activity_publisher.rb-7-        activity_id:,
app/models/care_journey/activity_publisher.rb-8-        workflow_attributes: workflow.workflow_attributes,
app/models/care_journey/activity_publisher.rb:9:        care_case: workflow.care_case,
app/models/care_journey/activity_publisher.rb-10-        workflow_record_id: workflow.record.id
app/models/care_journey/activity_publisher.rb-11-        # previous_activity_record_id: previous_activity_record&.id
--
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/traits/dependant.rb-17-            def from_staffer_form(form, current_staffer)
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/traits/dependant.rb-18-              super.tap do |context|
app/models/eligibility/verification/context/traits/dependant.rb:19:                context.care_case_id = form.care_case_id
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/traits/dependant.rb-20-              end
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/traits/dependant.rb-21-            end
--
app/models/eligibility/verification/context/traits/dependant.rb-36-              eligibility_verification: eligibility_verification,
app/models/eligibility/verification/context/traits/dependant.rb-37-              account: account,
app/models/eligibility/verification/context/traits/dependant.rb:38:              care_case: care_case,
app/models/eligibility/verification/context/traits/dependant.rb-39-              contract: eligibility_verification.contract,
app/models/eligibility/verification/context/traits/dependant.rb-40-              payer: eligibility_verification.contract.payer,
--
app/models/eligibility/verification/context/residency/staffer.rb-9-#  created_at             :datetime         not null
app/models/eligibility/verification/context/residency/staffer.rb-10-#  updated_at             :datetime         not null
app/models/eligibility/verification/context/residency/staffer.rb:11:#  care_case_id           :uuid             not null
app/models/eligibility/verification/context/residency/staffer.rb-12-#  source_verification_id :uuid
app/models/eligibility/verification/context/residency/staffer.rb-13-#  staffer_id             :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/staffer.rb-20-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/staffer.rb-21-#
app/models/eligibility/verification/context/residency/staffer.rb:22:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/staffer.rb-23-#
app/models/eligibility/verification/context/residency/staffer.rb-24-class Eligibility::Verification::Context::Residency::Staffer < Eligibility::Verification::Context::Base
--
app/models/eligibility/verification/context/residency/staffer.rb-55-    ActiveRecord::Base.transaction do
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/staffer.rb-56-      if covered_entity.save
app/models/eligibility/verification/context/residency/staffer.rb:57:        CareCaseCoveredEntity.create!(care_case: care_case, covered_entity: covered_entity)
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/staffer.rb-58-
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/staffer.rb-59-        update_owner_zip!
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-107-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-108-      def from_record(record)
app/models/care_journey/workflow.rb:109:        new(care_case: record.care_case, state: record.workflow_state, record:, **record.workflow_attributes)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-110-      end
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-111-
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-132-
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-133-    # consider making this private
app/models/care_journey/workflow.rb:134:    def initialize(care_case:, state:, record:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-135-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-136-      @state = state
--
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-176-    def to_record_params
/Users/jschuss/Brightline/reef/app/models/care_journey/workflow.rb-177-      {
app/models/care_journey/workflow.rb:178:        care_case:,
app/models/care_journey/workflow.rb-179-        workflow_state: state,
app/models/care_journey/workflow.rb-180-        workflow_name:,
--
app/models/eligibility/verification/context/residency/member.rb-10-#  created_at       :datetime         not null
app/models/eligibility/verification/context/residency/member.rb-11-#  updated_at       :datetime         not null
app/models/eligibility/verification/context/residency/member.rb:12:#  care_case_id     :uuid             not null
app/models/eligibility/verification/context/residency/member.rb-13-#  coverage_info_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-14-#
--
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-20-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-21-#
app/models/eligibility/verification/context/residency/member.rb:22:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-23-#  fk_rails_...  (coverage_info_id => coverage_infos.id)
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-24-#
--
app/models/eligibility/verification/context/residency/member.rb-85-      coverage_starts_at: Time.zone.now
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-86-    )
app/models/eligibility/verification/context/residency/member.rb:87:    CareCaseCoveredEntity.create!(care_case: care_case, covered_entity: covered_entity)
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-88-
/Users/jschuss/Brightline/reef/app/models/eligibility/verification/context/residency/member.rb-89-    create_coverage_log!(covered_entity)
--
app/models/caregiver_session_request.rb-34-      title: "Member requested a caregiver session, please reach out to member to schedule an appointment",
app/models/caregiver_session_request.rb-35-      group: :member_support,
app/models/caregiver_session_request.rb:36:      care_case: care_case,
app/models/caregiver_session_request.rb-37-      account: care_case.account,
app/models/caregiver_session_request.rb-38-      due_date: 3.days.from_now
--
app/models/coco/bundle.rb-13-#  created_at              :datetime         not null
app/models/coco/bundle.rb-14-#  updated_at              :datetime         not null
app/models/coco/bundle.rb:15:#  care_case_id            :uuid             not null
app/models/coco/bundle.rb-16-#  coco_care_plan_focus_id :bigint
app/models/coco/bundle.rb-17-#  coco_care_plan_id       :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/coco/bundle.rb-28-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/coco/bundle.rb-29-#
app/models/coco/bundle.rb:30:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/coco/bundle.rb-31-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/coco/bundle.rb-32-#
--
app/models/care_journey/tasks/backfill_intake_workflow.rb-85-          workflow_name: IntakeWorkflow.workflow_name,
app/models/care_journey/tasks/backfill_intake_workflow.rb-86-          workflow_state: :enrollment_pending,
app/models/care_journey/tasks/backfill_intake_workflow.rb:87:          care_case:,
app/models/care_journey/tasks/backfill_intake_workflow.rb-88-          workflow_attributes:
/Users/jschuss/Brightline/reef/app/models/care_journey/tasks/backfill_intake_workflow.rb-89-        )
--
app/models/care_journey/tasks/backfill_intake_workflow.rb-118-          workflow_state: :service_line_discharged,
app/models/care_journey/tasks/backfill_intake_workflow.rb-119-          workflow_finished_at: service_line_enrollment.enrollment_ended_at,
app/models/care_journey/tasks/backfill_intake_workflow.rb:120:          care_case:,
app/models/care_journey/tasks/backfill_intake_workflow.rb-121-          workflow_attributes: {
app/models/care_journey/tasks/backfill_intake_workflow.rb-122-            service_line_enrollment_id: service_line_enrollment.id,
--
/Users/jschuss/Brightline/reef/app/models/coco/director.rb-18-    def activity_assignment
/Users/jschuss/Brightline/reef/app/models/coco/director.rb-19-      return nil if normalized_digital_content.nil?
app/models/coco/director.rb:20:      @_activity_assignment = ::Coco::ActivityAssignment.includes(:bundle).where(bundle: {care_case: member.accessible_cases}, activity: normalized_digital_content).first
/Users/jschuss/Brightline/reef/app/models/coco/director.rb-21-    end
/Users/jschuss/Brightline/reef/app/models/coco/director.rb-22-
--
app/models/diagnosis.rb-13-#  created_at                              :datetime         not null
app/models/diagnosis.rb-14-#  updated_at                              :datetime         not null
app/models/diagnosis.rb:15:#  care_case_id                            :uuid             not null
app/models/diagnosis.rb-16-#  processed_welkin_assessment_response_id :bigint
app/models/diagnosis.rb-17-#  staffer_id                              :uuid
--
app/models/care_journey/tasks/backfill_internal_referral_workflow.rb-56-          workflow_name: InternalReferralWorkflow.workflow_name,
app/models/care_journey/tasks/backfill_internal_referral_workflow.rb-57-          workflow_state: :service_line_referred,
app/models/care_journey/tasks/backfill_internal_referral_workflow.rb:58:          care_case:,
app/models/care_journey/tasks/backfill_internal_referral_workflow.rb-59-          workflow_attributes: {
app/models/care_journey/tasks/backfill_internal_referral_workflow.rb-60-            next_service_line_enrollment_id: service_line_enrollment.id,
--
app/models/coco/bundle/seed.rb-6-      attr_reader :care_case, :staffer, :care_plan
/Users/jschuss/Brightline/reef/app/models/coco/bundle/seed.rb-7-
app/models/coco/bundle/seed.rb:8:      def initialize(care_case:, staffer:, care_plan:)
/Users/jschuss/Brightline/reef/app/models/coco/bundle/seed.rb-9-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/coco/bundle/seed.rb-10-        @staffer = staffer
--
app/models/coco/bundle/seed.rb-14-      def from(skill: nil)
app/models/coco/bundle/seed.rb-15-        Coco::Bundle.create!(
app/models/coco/bundle/seed.rb:16:          care_case: care_case,
app/models/coco/bundle/seed.rb-17-          staffer: staffer,
app/models/coco/bundle/seed.rb-18-          care_plan: care_plan,
--
app/models/coco/care_plan.rb-12-#  created_at   :datetime         not null
app/models/coco/care_plan.rb-13-#  updated_at   :datetime         not null
app/models/coco/care_plan.rb:14:#  care_case_id :uuid             not null
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-15-#
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-16-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-20-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-21-#
app/models/coco/care_plan.rb:22:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-23-#
app/models/coco/care_plan.rb-24-class Coco::CarePlan < ApplicationRecord
--
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-33-
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-34-  def self.for_care_case(care_case)
app/models/coco/care_plan.rb:35:    find_by(care_case:)
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-36-  end
/Users/jschuss/Brightline/reef/app/models/coco/care_plan.rb-37-
--
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-56-          next if active_state_sponsored_for_care_case(care_case)
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-57-
app/models/patient_information/flow/processor.rb:58:          Eligibility::StateSponsoredCoverage.verify_and_create!(care_case:)
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-59-        end
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-60-      end
--
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-131-        create_coverage_info(
app/models/patient_information/flow/processor.rb-132-          attributes: child.coverage_info_attributes.merge(benefit_and_payment_provider),
app/models/patient_information/flow/processor.rb:133:          care_case: care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-134-        )
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-135-      end
--
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-145-      end
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-146-
app/models/patient_information/flow/processor.rb:147:      def create_coverage_info(attributes:, care_case: nil)
app/models/patient_information/flow/processor.rb:148:        coverage_info = CoverageInfo.create!(**attributes, account: account, care_case: care_case)
app/models/patient_information/flow/processor.rb-149-        Eligibility::CoverageInfoAddition.broadcast(coverage_info: coverage_info, member: member)
/Users/jschuss/Brightline/reef/app/models/patient_information/flow/processor.rb-150-        coverage_info
--
app/models/patient_information/safety_check_reset.rb-7-    attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/safety_check_reset.rb-8-
app/models/patient_information/safety_check_reset.rb:9:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/patient_information/safety_check_reset.rb-10-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/safety_check_reset.rb-11-    end
--
app/models/patient_information/safety_check_reset.rb-13-    def perform(clinical_approval_given: false)
/Users/jschuss/Brightline/reef/app/models/patient_information/safety_check_reset.rb-14-      raise SafetyCheckResetError.new("Clinical approval must be given") unless clinical_approval_given
app/models/patient_information/safety_check_reset.rb:15:      journey = PatientInformation::Journey.find_by(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/patient_information/safety_check_reset.rb-16-      raise SafetyCheckResetError.new("No incomplete patient information journey found") unless journey.present? && journey.completed_at.nil?
/Users/jschuss/Brightline/reef/app/models/patient_information/safety_check_reset.rb-17-      check = SafetyCheck.most_recent_for_care_case(care_case)
--
/Users/jschuss/Brightline/reef/app/models/care_case_coverage_overlap_validator.rb-20-      CareCaseCoveredEntity
app/models/care_case_coverage_overlap_validator.rb-21-        .joins(covered_entity: :contract)
app/models/care_case_coverage_overlap_validator.rb:22:        .where(care_case:, contract: {type: types_to_check}, covered_entity: {deleted_at: nil})
app/models/care_case_coverage_overlap_validator.rb-23-        .where.not(covered_entity: covered_entity_under_validation)
app/models/care_case_coverage_overlap_validator.rb-24-        .pluck(:covered_entity_id)
--
app/models/activation_period.rb-12-#  created_at          :datetime         not null
app/models/activation_period.rb-13-#  updated_at          :datetime         not null
app/models/activation_period.rb:14:#  care_case_id        :uuid             not null
app/models/activation_period.rb-15-#  contract_id         :uuid
app/models/activation_period.rb-16-#  contract_version_id :uuid
--
/Users/jschuss/Brightline/reef/app/models/activation_period.rb-23-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/activation_period.rb-24-#
app/models/activation_period.rb:25:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/activation_period.rb-26-#  fk_rails_...  (contract_id => contracts.id)
/Users/jschuss/Brightline/reef/app/models/activation_period.rb-27-#
--
app/models/activation_period.rb-36-  belongs_to :contract_version, optional: true
/Users/jschuss/Brightline/reef/app/models/activation_period.rb-37-
app/models/activation_period.rb:38:  scope :for_contract_and_care_case, ->(contract_id, care_case) { where(contract_id: contract_id, care_case: care_case) }
app/models/activation_period.rb-39-  scope :processed, -> { where.not(processed_at: nil) }
app/models/activation_period.rb-40-  scope :unprocessed, -> { where(processed_at: nil) }
--
app/models/patient_information/patient/insurance_details_form.rb-52-        PatientInformation::Patient::InsuranceDetails.new(
app/models/patient_information/patient/insurance_details_form.rb-53-          journey: journey,
app/models/patient_information/patient/insurance_details_form.rb:54:          attributes: children_data[care_case.id.to_s].merge!(care_case_id: care_case.id)
/Users/jschuss/Brightline/reef/app/models/patient_information/patient/insurance_details_form.rb-55-        )
/Users/jschuss/Brightline/reef/app/models/patient_information/patient/insurance_details_form.rb-56-      end
--
/Users/jschuss/Brightline/reef/app/models/patient_information/patient/insurance_details_form.rb-64-      care_cases.each_with_object({}) do |care_case, data|
/Users/jschuss/Brightline/reef/app/models/patient_information/patient/insurance_details_form.rb-65-        data[care_case.id] = {
app/models/patient_information/patient/insurance_details_form.rb:66:          care_case_id: care_case.id,
app/models/patient_information/patient/insurance_details_form.rb-67-          first_name: care_case.patient.first_name,
app/models/patient_information/patient/insurance_details_form.rb-68-          last_name: care_case.patient.last_name,
--
app/models/patient_information/patient/insurance_details.rb-67-        last_name: last_name,
app/models/patient_information/patient/insurance_details.rb-68-        account: account,
app/models/patient_information/patient/insurance_details.rb:69:        care_case: care_case,
app/models/patient_information/patient/insurance_details.rb-70-        payer_name: matching_info.payment_provider,
app/models/patient_information/patient/insurance_details.rb-71-        sponsor_name: matching_info.benefit_provider,
--
app/models/patient_information/patient_coverage_details.rb-14-          last_name: patient.last_name,
app/models/patient_information/patient_coverage_details.rb-15-          date_of_birth: patient.date_of_birth,
app/models/patient_information/patient_coverage_details.rb:16:          care_case_id: care_case.id,
app/models/patient_information/patient_coverage_details.rb-17-          account_benefit_coverage_indication: account_benefit_coverage_indication(patient)
/Users/jschuss/Brightline/reef/app/models/patient_information/patient_coverage_details.rb-18-        }.compact_blank
--
app/models/stitch/intake_coach_selection.rb-6-      properties: {
app/models/stitch/intake_coach_selection.rb-7-        step: {type: "string"},
app/models/stitch/intake_coach_selection.rb:8:        care_case_id: {type: "string"},
app/models/stitch/intake_coach_selection.rb-9-        input_staffer_ids: {type: "array", items: {type: "string"}},
app/models/stitch/intake_coach_selection.rb-10-        selected_staffer_ids: {type: "array", items: {type: "string"}},
--
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/focus_areas.rb-21-
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/focus_areas.rb-22-      # For auto-tracking via the CaregiverProvidedPatientInformationController
app/models/patient_information/steps/focus_areas.rb:23:      def track_event(care_case:, params:)
app/models/patient_information/steps/focus_areas.rb-24-        Analytics::Event::OnboardingFocusAreasNext::Clicked.track(
app/models/patient_information/steps/focus_areas.rb:25:          care_case: care_case,
app/models/patient_information/steps/focus_areas.rb-26-          focus_areas: params[:focus_areas]
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/focus_areas.rb-27-        )
--
app/models/patient_information/director.rb-7-    attr_reader :account, :member, :care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-8-
app/models/patient_information/director.rb:9:    def initialize(account:, member: nil, care_case: nil)
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-10-      @account = account
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-11-      @member = member
--
app/models/patient_information/director.rb-38-    def complete_step!(key, track: false)
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-39-      journey.complete_step!(key)
app/models/patient_information/director.rb:40:      Analytics::Event::PatientInformationStep::Completed.track(step: key, care_case: journey.care_case) if track
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-41-    end
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-42-
--
app/models/patient_information/director.rb-46-      steps_skipped = PatientInformation::Journey.steps_between(journey.most_recent_step_completed, key)
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-47-
app/models/patient_information/director.rb:48:      yield "PatientInformationStep:Skipped", {steps_skipped: steps_skipped, care_case_id: journey.care_case.id} if block_given?
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-49-    end
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-50-
--
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-58-
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-59-    def complete(params = {})
app/models/patient_information/director.rb:60:      care_navigation_journey = ::CareNavigation::Journey.start!(account: journey.account, member: journey.member, care_case: journey.care_case)
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-61-
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-62-      care_navigation_journey.next_step.path(**params)
--
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-70-      care_cases_to_sync = account.care_cases.select { |care_case| care_case.caregivers.include?(member) }
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-71-
app/models/patient_information/director.rb:72:      PatientInformation::Journey.where(account: account, care_case: care_cases_to_sync).each do |journey|
app/models/patient_information/director.rb:73:        next if PatientInformation::Journey.where(care_case: journey.care_case, member: member).exists?
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-74-
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-75-        new_journey = journey.dup
--
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-77-      end
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-78-
app/models/patient_information/director.rb:79:      CareNavigation::Journey.where(account: account, care_case: care_cases_to_sync).each do |journey|
app/models/patient_information/director.rb:80:        next if CareNavigation::Journey.where(care_case: journey.care_case, member: member).exists?
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-81-
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-82-        new_journey = journey.dup
--
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-98-      return nil unless member && care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-99-
app/models/patient_information/director.rb:100:      ::PatientInformation::Journey.find_by(account: account, member: member, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-101-    end
/Users/jschuss/Brightline/reef/app/models/patient_information/director.rb-102-  end
--
app/models/stitch/intake_therapist_selection.rb-6-      properties: {
app/models/stitch/intake_therapist_selection.rb-7-        step: {type: "string"},
app/models/stitch/intake_therapist_selection.rb:8:        care_case_id: {type: "string"},
app/models/stitch/intake_therapist_selection.rb-9-        input_staffer_ids: {type: "array", items: {type: "string"}},
app/models/stitch/intake_therapist_selection.rb-10-        selected_staffer_ids: {type: "array", items: {type: "string"}},
--
app/models/patient_information/journey.rb-12-#  updated_at                 :datetime         not null
app/models/patient_information/journey.rb-13-#  account_id                 :uuid             not null
app/models/patient_information/journey.rb:14:#  care_case_id               :uuid             not null
app/models/patient_information/journey.rb-15-#  matching_info_id           :uuid
app/models/patient_information/journey.rb-16-#  member_id                  :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-39-  end
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-40-
app/models/patient_information/journey.rb:41:  def self.start!(account:, member:, care_case:)
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-42-    care_case.caregivers.map do |caregiver|
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-43-      find_or_create_by!(
app/models/patient_information/journey.rb-44-        account: account,
app/models/patient_information/journey.rb-45-        member: caregiver,
app/models/patient_information/journey.rb:46:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-47-      )
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-48-    end.find { |journey| journey.member == member }
--
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-67-
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-68-  def synced_journeys
app/models/patient_information/journey.rb:69:    self.class.where(care_case: care_case, account: account)
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-70-  end
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-71-
--
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-82-
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-83-  def eligible_for_treatment_exclusion?
app/models/patient_information/journey.rb:84:    MemberExperience::Configuration.new(account: account, care_case: care_case).eligible_for_coverage?
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-85-  end
/Users/jschuss/Brightline/reef/app/models/patient_information/journey.rb-86-end
--
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/insurance_confirmation.rb-29-      def explore_coverage_component
app/models/patient_information/steps/insurance_confirmation.rb-30-        Members::SignupProgress::Nux::ConfirmationScreens::ExploreCoverageComponent.new(
app/models/patient_information/steps/insurance_confirmation.rb:31:          care_case: journey.care_case,
app/models/patient_information/steps/insurance_confirmation.rb-32-          exit_route: journey.next_step.path,
app/models/patient_information/steps/insurance_confirmation.rb-33-          flow_type: "onboarding"
--
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/insurance_confirmation.rb-37-      def not_covered_component
app/models/patient_information/steps/insurance_confirmation.rb-38-        Members::SignupProgress::Nux::ConfirmationScreens::OutOfNetworkComponent.new(
app/models/patient_information/steps/insurance_confirmation.rb:39:          care_case: journey.care_case,
app/models/patient_information/steps/insurance_confirmation.rb-40-          exit_route: journey.next_step.path,
app/models/patient_information/steps/insurance_confirmation.rb-41-          flow_type: "onboarding"
--
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/insurance_confirmation.rb-45-      def covered_component
app/models/patient_information/steps/insurance_confirmation.rb-46-        Members::SignupProgress::Nux::ConfirmationScreens::InNetworkComponent.new(
app/models/patient_information/steps/insurance_confirmation.rb:47:          care_case: journey.care_case,
app/models/patient_information/steps/insurance_confirmation.rb-48-          exit_route: journey.next_step.path,
app/models/patient_information/steps/insurance_confirmation.rb-49-          matching_info: journey.matching_info,
--
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/engagement_strategies.rb-21-
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/engagement_strategies.rb-22-      # For auto-tracking via the CaregiverProvidedPatientInformationController
app/models/patient_information/steps/engagement_strategies.rb:23:      def track_event(care_case:, params:)
app/models/patient_information/steps/engagement_strategies.rb-24-        Analytics::Event::OnboardingEngagementStrategiesNext::Clicked.track(
app/models/patient_information/steps/engagement_strategies.rb:25:          care_case: care_case,
app/models/patient_information/steps/engagement_strategies.rb-26-          engagement_strategies: params[data]
/Users/jschuss/Brightline/reef/app/models/patient_information/steps/engagement_strategies.rb-27-        )
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas/viewed.rb-13-        care_case_id_attributes
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas/viewed.rb-14-
app/models/analytics/event/onboarding_focus_areas/viewed.rb:15:        def self.build(care_case:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas/viewed.rb-16-          new(
app/models/analytics/event/onboarding_focus_areas/viewed.rb:17:            care_case_id: care_case.id,
app/models/analytics/event/onboarding_focus_areas/viewed.rb:18:            proxy_care_case_id: care_case.proxy_id
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas/viewed.rb-19-          )
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_focus_areas/viewed.rb-20-        end
--
app/models/analytics/event/booking_contact_information/submitted.rb-15-        attribute :program_id, DryTypes::Coercible::String.meta(description: "The program of the care case").optional
/Users/jschuss/Brightline/reef/app/models/analytics/event/booking_contact_information/submitted.rb-16-
app/models/analytics/event/booking_contact_information/submitted.rb:17:        def self.build(care_case:, patient_accepted_sms_communications:, caregiver_accepted_sms_communications:, program_id:)
/Users/jschuss/Brightline/reef/app/models/analytics/event/booking_contact_information/submitted.rb-18-          new(
app/models/analytics/event/booking_contact_information/submitted.rb:19:            care_case_id: care_case.id,
app/models/analytics/event/booking_contact_information/submitted.rb:20:            proxy_care_case_id: care_case.proxy_id,
app/models/analytics/event/booking_contact_information/submitted.rb-21-            patient_accepted_sms_communications: patient_accepted_sms_communications,
app/models/analytics/event/booking_contact_information/submitted.rb-22-            caregiver_accepted_sms_communications: caregiver_accepted_sms_communications,
--
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-23-
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-24-    staffers.map do |staffer|
app/models/care_case_staffer.rb:25:      new(care_case: care_case, staffer: staffer, care_capabilities: staffer.care_capabilities)
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-26-    end
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-27-  end
--
app/models/care_case_staffer.rb-31-  delegate_missing_to :staffer
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-32-
app/models/care_case_staffer.rb:33:  def initialize(care_case:, staffer:, care_capabilities: nil)
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-34-    @care_case, @staffer, @care_capabilities = care_case, staffer, care_capabilities
/Users/jschuss/Brightline/reef/app/models/care_case_staffer.rb-35-  end
--
/Users/jschuss/Brightline/reef/app/models/patient_information/derived_topics.rb-22-    }
/Users/jschuss/Brightline/reef/app/models/patient_information/derived_topics.rb-23-
app/models/patient_information/derived_topics.rb:24:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/patient_information/derived_topics.rb-25-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/patient_information/derived_topics.rb-26-    end
--
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_select_child/clicked.rb-17-
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_select_child/clicked.rb-18-        # Event called from js
app/models/analytics/event/onboarding_select_child/clicked.rb:19:        def self.build(care_case_id:, button_index:, **kwargs)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_select_child/clicked.rb-20-          care_case = CareCase.find(care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_select_child/clicked.rb-21-          new(
app/models/analytics/event/onboarding_select_child/clicked.rb-22-            account_id: care_case.account_id,
app/models/analytics/event/onboarding_select_child/clicked.rb:23:            care_case_id: care_case_id,
app/models/analytics/event/onboarding_select_child/clicked.rb-24-            button_index: button_index
/Users/jschuss/Brightline/reef/app/models/analytics/event/onboarding_select_child/clicked.rb-25-          )
--
app/models/stitch/wait_time.rb-6-      properties: {
app/models/stitch/wait_time.rb-7-        appointment_request_source: {type: "string"},
app/models/stitch/wait_time.rb:8:        care_case_id: {type: "string"},
app/models/stitch/wait_time.rb-9-        member_id: {type: "string"},
app/models/stitch/wait_time.rb-10-        appointment_type_id: {type: "string"},
--
app/models/stitch/appointment_availability_request.rb-6-      properties: {
app/models/stitch/appointment_availability_request.rb-7-        appointment_request_source: {type: "string"},
app/models/stitch/appointment_availability_request.rb:8:        care_case_id: {type: "string"},
app/models/stitch/appointment_availability_request.rb-9-        member_id: {type: "string"},
app/models/stitch/appointment_availability_request.rb-10-        root_appointment_type_id: {anyOf: [{type: "string"}, {type: "null"}]},
--
/Users/jschuss/Brightline/reef/app/models/progress_tracking/screener.rb-15-    }
/Users/jschuss/Brightline/reef/app/models/progress_tracking/screener.rb-16-
app/models/progress_tracking/screener.rb:17:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/progress_tracking/screener.rb-18-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/progress_tracking/screener.rb-19-    end
--
app/models/care_navigation/director.rb-5-    attr_reader :account, :member
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-6-
app/models/care_navigation/director.rb:7:    def initialize(account:, member:, care_case: nil)
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-8-      @account = account
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-9-      @member = member
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-26-
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-27-    def find_or_create_journey(selected_care_case)
app/models/care_navigation/director.rb:28:      ::CareNavigation::Journey.find_or_create_by!(account: account, member: member, care_case: selected_care_case)
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-29-    end
/Users/jschuss/Brightline/reef/app/models/care_navigation/director.rb-30-
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/assessment.rb-13-
app/models/care_navigation/assessment.rb-14-    def self.for_care_case(care_case, actor: nil)
app/models/care_navigation/assessment.rb:15:      intake_type = CareModel.new(care_case: care_case).clinic? ? :clinic : :brightlife_kids
/Users/jschuss/Brightline/reef/app/models/care_navigation/assessment.rb-16-      intake_assessment_for(intake_type, care_case.patient_age)
/Users/jschuss/Brightline/reef/app/models/care_navigation/assessment.rb-17-    end
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/assessment.rb-59-
app/models/care_navigation/assessment.rb-60-      ActiveRecord::Base.transaction do
app/models/care_navigation/assessment.rb:61:        assignment = ::Assessment::CareCaseAssignment.assign!(care_case:, member: journey.member, assessment: assessment_for_patient, with_assignment: false)
/Users/jschuss/Brightline/reef/app/models/care_navigation/assessment.rb-62-
app/models/care_navigation/assessment.rb-63-        journey.update!(assessment_assignment: assignment)
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-35-    }
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-36-
app/models/care_navigation/eligible_offerings.rb:37:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-38-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-39-    end
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-43-    def all
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-44-      @all ||= OFFERINGS_MANIFEST.map do |offering|
app/models/care_navigation/eligible_offerings.rb:45:        offering.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-46-      end.select do |offering|
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-47-        offering.eligible? && offering.acuity_eligible?(acuity_level)
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-58-      # and we don't want the acuity check to filter options out
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-59-      OFFERINGS_MANIFEST.map do |offering|
app/models/care_navigation/eligible_offerings.rb:60:        offering.new(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-61-      end.select do |offering|
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-62-        offering.eligible? && offering.base_program == program
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-71-
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-72-    def acuity_level
app/models/care_navigation/eligible_offerings.rb:73:      @acuity_level ||= CareCase::Acuity.new(care_case: care_case).level
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-74-    end
/Users/jschuss/Brightline/reef/app/models/care_navigation/eligible_offerings.rb-75-
--
app/models/care_navigation/results/program_variant.rb-14-      invokable_via :for
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-15-
app/models/care_navigation/results/program_variant.rb:16:      def initialize(care_case:, program:)
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-17-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-18-        @program = program
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-58-
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-59-      def program_price
app/models/care_navigation/results/program_variant.rb:60:        @program_price ||= ::MemberCostShare::PriceRequest.for_care_case_in_program(care_case: @care_case, program: @program)
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-61-      end
/Users/jschuss/Brightline/reef/app/models/care_navigation/results/program_variant.rb-62-
--
app/models/rules/care_case/can_staffer_provide_care.rb-8-      attr_reader :care_case, :staffer
/Users/jschuss/Brightline/reef/app/models/rules/care_case/can_staffer_provide_care.rb-9-
app/models/rules/care_case/can_staffer_provide_care.rb:10:      def initialize(care_case:, staffer:)
/Users/jschuss/Brightline/reef/app/models/rules/care_case/can_staffer_provide_care.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/rules/care_case/can_staffer_provide_care.rb-12-        @staffer = staffer
--
app/models/care_navigation/reset.rb-12-    attr_reader :care_case_id, :current_staffer, :allow_self_schedule
/Users/jschuss/Brightline/reef/app/models/care_navigation/reset.rb-13-
app/models/care_navigation/reset.rb:14:    def initialize(care_case_id:, allow_self_schedule:, current_staffer: nil)
app/models/care_navigation/reset.rb:15:      @care_case_id = care_case_id
/Users/jschuss/Brightline/reef/app/models/care_navigation/reset.rb-16-      @allow_self_schedule = allow_self_schedule
/Users/jschuss/Brightline/reef/app/models/care_navigation/reset.rb-17-      @current_staffer = current_staffer
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/reset.rb-30-
app/models/care_navigation/reset.rb-31-        EventSystem::Publisher.broadcast(
app/models/care_navigation/reset.rb:32:          CareNavigationResetEvent.build_from(care_case: care_case, staffer: current_staffer)
/Users/jschuss/Brightline/reef/app/models/care_navigation/reset.rb-33-        )
/Users/jschuss/Brightline/reef/app/models/care_navigation/reset.rb-34-      end
--
app/models/rules/care_case/has_incomplete_required_pre_appointment_assignments.rb-9-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/rules/care_case/has_incomplete_required_pre_appointment_assignments.rb-10-
app/models/rules/care_case/has_incomplete_required_pre_appointment_assignments.rb:11:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/rules/care_case/has_incomplete_required_pre_appointment_assignments.rb-12-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/rules/care_case/has_incomplete_required_pre_appointment_assignments.rb-13-      end
--
app/models/cgi_score.rb-13-#  updated_at                              :datetime         not null
app/models/cgi_score.rb-14-#  appointment_id                          :uuid
app/models/cgi_score.rb:15:#  care_case_id                            :uuid             not null
app/models/cgi_score.rb-16-#  processed_welkin_assessment_response_id :bigint
/Users/jschuss/Brightline/reef/app/models/cgi_score.rb-17-#
--
/Users/jschuss/Brightline/reef/app/models/cgi_score.rb-25-#
/Users/jschuss/Brightline/reef/app/models/cgi_score.rb-26-#  fk_rails_...  (appointment_id => appointments.id)
app/models/cgi_score.rb:27:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/cgi_score.rb-28-#  fk_rails_...  (processed_welkin_assessment_response_id => processed_welkin_assessment_responses.id)
/Users/jschuss/Brightline/reef/app/models/cgi_score.rb-29-#
--
app/models/members/flow/completion_step.rb-102-        ::PatientInformation::Director.new(
app/models/members/flow/completion_step.rb-103-          account: @current_account,
app/models/members/flow/completion_step.rb:104:          care_case: @current_account.care_cases.find(@flow_state.data["care_case_id"]),
app/models/members/flow/completion_step.rb-105-          member: @flow_state.member
/Users/jschuss/Brightline/reef/app/models/members/flow/completion_step.rb-106-        ).next_path
--
app/models/rules/care_case/due_paperwork.rb-8-      attr_reader :care_case
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-9-
app/models/rules/care_case/due_paperwork.rb:10:      def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-11-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-12-      end
--
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-19-
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-20-      def paperwork_incomplete?
app/models/rules/care_case/due_paperwork.rb:21:        Rules::CareCase::HasIncompleteRequiredPreAppointmentAssignments.call(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-22-      end
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-23-
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-24-      def upcoming_appointments
app/models/rules/care_case/due_paperwork.rb:25:        Appointment.upcoming.not_canceled.chronological.where(care_case: care_case).starts_before(3.days.from_now)
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-26-      end
/Users/jschuss/Brightline/reef/app/models/rules/care_case/due_paperwork.rb-27-    end
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/care_guide_chat.rb-26-
app/models/care_navigation/offerings/care_guide_chat.rb-27-      def path(source: nil)
app/models/care_navigation/offerings/care_guide_chat.rb:28:        members_account_care_guide_chat_path(care_case.account, {care_case_id: care_case.id})
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/care_guide_chat.rb-29-      end
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/care_guide_chat.rb-30-
--
app/models/care_navigation/offerings/care_guide_chat.rb-42-          ahoy_event: "CareNavigationCareGuideChat:Clicked",
app/models/care_navigation/offerings/care_guide_chat.rb-43-          ahoy_metadata: {
app/models/care_navigation/offerings/care_guide_chat.rb:44:            care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/care_guide_chat.rb-45-          }
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/care_guide_chat.rb-46-        }
--
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-5-    include Callable
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-6-
app/models/treatment/update_disposition.rb:7:    def initialize(care_case:, disposition:)
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-8-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-9-      @disposition = disposition
--
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-12-    def call
app/models/treatment/update_disposition.rb-13-      @care_case.update!(disposition: @disposition)
app/models/treatment/update_disposition.rb:14:      EventSystem::Publisher.broadcast(CareCaseDispositionUpdatedEvent.new(care_case: @care_case, disposition: @disposition))
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-15-    end
/Users/jschuss/Brightline/reef/app/models/treatment/update_disposition.rb-16-  end
--
app/models/treatment/status.rb-15-      EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/treatment/status.rb-16-        TreatmentStartedEvent.new(
app/models/treatment/status.rb:17:          care_case: care_case,
app/models/treatment/status.rb-18-          via: via
/Users/jschuss/Brightline/reef/app/models/treatment/status.rb-19-        )
--
app/models/treatment/status.rb-27-      EventSystem::Publisher.broadcast(
/Users/jschuss/Brightline/reef/app/models/treatment/status.rb-28-        TreatmentEndedEvent.new(
app/models/treatment/status.rb:29:          care_case: care_case,
app/models/treatment/status.rb-30-          via: via
/Users/jschuss/Brightline/reef/app/models/treatment/status.rb-31-        )
--
app/models/rules/member/assignable.rb-8-      attr_reader :member, :care_case
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-9-
app/models/rules/member/assignable.rb:10:      def initialize(member:, care_case:)
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-11-        @member = member
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-12-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-20-
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-21-      def is_assignable_teen?
app/models/rules/member/assignable.rb:22:        CareCaseMember.new(care_case: care_case, member: member).teen?
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-23-      end
/Users/jschuss/Brightline/reef/app/models/rules/member/assignable.rb-24-    end
--
app/models/care_navigation/journey.rb-13-#  account_id                 :uuid             not null
app/models/care_navigation/journey.rb-14-#  assessment_assignment_id   :bigint
app/models/care_navigation/journey.rb:15:#  care_case_id               :uuid             not null
app/models/care_navigation/journey.rb-16-#  member_id                  :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-17-#
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-27-
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-28-  on(IntakeCompletedEvent) do |event|
app/models/care_navigation/journey.rb:29:    journey = CareNavigation::Journey.find_by(account: event.account, member: event.account.owner, care_case: event.care_case)
app/models/care_navigation/journey.rb-30-    journey&.update!(completed_at: Time.zone.now)
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-31-  end
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-45-  ].freeze
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-46-
app/models/care_navigation/journey.rb:47:  def self.start!(account:, member:, care_case:)
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-48-    care_case.caregivers.map do |caregiver|
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-49-      find_or_create_by!(
app/models/care_navigation/journey.rb-50-        account: account,
app/models/care_navigation/journey.rb-51-        member: caregiver,
app/models/care_navigation/journey.rb:52:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-53-      )
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-54-    end.find { |journey| journey.member == member }
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-56-
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-57-  def self.for_care_case(care_case)
app/models/care_navigation/journey.rb:58:    find_by(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-59-  end
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-60-
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-84-
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-85-  def synced_journeys
app/models/care_navigation/journey.rb:86:    self.class.where(care_case: care_case, account: account)
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-87-  end
/Users/jschuss/Brightline/reef/app/models/care_navigation/journey.rb-88-
--
app/models/rules/member/has_incomplete_required_pre_appointment_assignments.rb-9-      attr_reader :care_case, :member
/Users/jschuss/Brightline/reef/app/models/rules/member/has_incomplete_required_pre_appointment_assignments.rb-10-
app/models/rules/member/has_incomplete_required_pre_appointment_assignments.rb:11:      def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/rules/member/has_incomplete_required_pre_appointment_assignments.rb-12-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/rules/member/has_incomplete_required_pre_appointment_assignments.rb-13-        @member = member
--
app/models/treatment/need_scheduling_reminder.rb-45-        title:,
app/models/treatment/need_scheduling_reminder.rb-46-        group:,
app/models/treatment/need_scheduling_reminder.rb:47:        care_case:,
app/models/treatment/need_scheduling_reminder.rb-48-        clinic:,
app/models/treatment/need_scheduling_reminder.rb-49-        account: care_case.account,
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-24-      end
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-25-
app/models/care_navigation/offerings/offering.rb:26:      def initialize(care_case:, acuity: CareCase::Acuity.new(care_case: care_case))
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-27-        @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-28-        @acuity = acuity
--
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-120-
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-121-      def member_experience_configuration
app/models/care_navigation/offerings/offering.rb:122:        @member_experience_configuration ||= MemberExperience::Configuration.new(account: care_case.account, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-123-      end
/Users/jschuss/Brightline/reef/app/models/care_navigation/offerings/offering.rb-124-    end
--
app/models/clinical_role.rb-9-#  created_at   :datetime         not null
app/models/clinical_role.rb-10-#  updated_at   :datetime         not null
app/models/clinical_role.rb:11:#  care_case_id :uuid             not null
app/models/clinical_role.rb-12-#  staffer_id   :uuid             not null
/Users/jschuss/Brightline/reef/app/models/clinical_role.rb-13-#
--
/Users/jschuss/Brightline/reef/app/models/clinical_role.rb-19-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/clinical_role.rb-20-#
app/models/clinical_role.rb:21:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/clinical_role.rb-22-#  fk_rails_...  (staffer_id => staffers.id)
/Users/jschuss/Brightline/reef/app/models/clinical_role.rb-23-#
--
app/models/analytics/segment/property_validator.rb-61-          program_variant_id: DryTypes::String.enum(*CareNavigation::EligibleOfferings::OFFERINGS_MANIFEST.map(&:id).map(&:to_s)),
app/models/analytics/segment/property_validator.rb-62-          proxy_account_id: DryTypes::String.constrained(uuid_v4: true),
app/models/analytics/segment/property_validator.rb:63:          proxy_care_case_id: DryTypes::String.constrained(uuid_v4: true),
app/models/analytics/segment/property_validator.rb-64-          proxy_member_id: DryTypes::String.constrained(uuid_v4: true),
app/models/analytics/segment/property_validator.rb-65-          questionnaire_id: DryTypes::String.enum(*Connect::Questionnaire.ids.map(&:to_s)),
--
app/models/eligibility_request.rb-193-      external_member_id: external_member_id || member_provided_external_member_id,
app/models/eligibility_request.rb-194-      insurance_policy_number: insurance_policy_number,
app/models/eligibility_request.rb:195:      care_case: care_case,
app/models/eligibility_request.rb-196-      first_name: first_name,
app/models/eligibility_request.rb-197-      last_name: last_name,
--
/Users/jschuss/Brightline/reef/app/models/members/cost/share/base.rb-219-
/Users/jschuss/Brightline/reef/app/models/members/cost/share/base.rb-220-    def initial_billable_appointment_type_price
app/models/members/cost/share/base.rb:221:      covered_entity = best_active_covered_entity_for_service_line_and_care_case(service_line: default_initial_appointment_type.service_line, care_case: care_case)
app/models/members/cost/share/base.rb-222-      Billing::BillableAppointmentTypePrice.new(
app/models/members/cost/share/base.rb-223-        covered_entity: covered_entity,
--
/Users/jschuss/Brightline/reef/app/models/members/cost/share/base.rb-229-
/Users/jschuss/Brightline/reef/app/models/members/cost/share/base.rb-230-    def ongoing_billable_appointment_type_price
app/models/members/cost/share/base.rb:231:      covered_entity = best_active_covered_entity_for_service_line_and_care_case(service_line: default_ongoing_appointment_type.service_line, care_case: care_case)
app/models/members/cost/share/base.rb-232-      Billing::BillableAppointmentTypePrice.new(
app/models/members/cost/share/base.rb-233-        covered_entity: covered_entity,
--
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-17-
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-18-  def upcoming_or_ongoing_appointments
app/models/leading_card_context.rb:19:    Appointment.upcoming_or_ongoing.not_canceled.chronological.where(care_case: care_cases)
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-20-  end
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-21-
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-22-  def past_appointments
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-23-    # Includes canceled
app/models/leading_card_context.rb:24:    Appointment.past.chronological.where(care_case: care_cases)
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-25-  end
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-26-
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-27-  def all_appointments
app/models/leading_card_context.rb:28:    Appointment.not_canceled.chronological.where(care_case: care_cases)
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-29-  end
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-30-
--
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-64-
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-65-  def most_recently_canceled_intake
app/models/leading_card_context.rb:66:    @most_recently_canceled_intake ||= Appointment.canceled.intake.where(care_case: care_cases).joins(:appointment_cancelation).order("appointment_cancelations.canceled_at DESC").first
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-67-  end
/Users/jschuss/Brightline/reef/app/models/leading_card_context.rb-68-end
--
app/models/connect_activity.rb-13-#  activation_group_id  :uuid
app/models/connect_activity.rb-14-#  activation_period_id :uuid
app/models/connect_activity.rb:15:#  care_case_id         :uuid             not null
/Users/jschuss/Brightline/reef/app/models/connect_activity.rb-16-#
/Users/jschuss/Brightline/reef/app/models/connect_activity.rb-17-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/connect_activity.rb-24-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/connect_activity.rb-25-#
app/models/connect_activity.rb:26:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/connect_activity.rb-27-#
/Users/jschuss/Brightline/reef/app/models/connect_activity.rb-28-class ConnectActivity < ApplicationRecord
--
app/models/member_cost_share/price_request.rb-6-    attr_reader :care_case, :active_covered_entity, :program, :promotion, :appointment_type
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-7-
app/models/member_cost_share/price_request.rb:8:    def self.for_care_case_in_program(care_case:, program:, appointment_type: nil, promotion: nil)
app/models/member_cost_share/price_request.rb:9:      new(care_case: care_case, program: program, appointment_type: appointment_type, promotion: promotion).for_care_case_in_program
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-10-    end
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-11-
app/models/member_cost_share/price_request.rb:12:    def initialize(care_case:, program:, appointment_type: nil, promotion: nil)
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-13-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-14-      @program = program
--
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-25-
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-26-    def best_active_covered_entity
app/models/member_cost_share/price_request.rb:27:      @_best_active_covered_entity ||= Eligibility::Api::BestCoveredEntity.active_for_service_line_and_care_case(care_case: care_case, service_line: program.service_line)
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-28-    end
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_request.rb-29-
--
/Users/jschuss/Brightline/reef/app/models/intake_program_card_context.rb-8-
/Users/jschuss/Brightline/reef/app/models/intake_program_card_context.rb-9-  def initialize(
app/models/intake_program_card_context.rb:10:    care_case:,
app/models/intake_program_card_context.rb-11-    program: nil,
app/models/intake_program_card_context.rb-12-    selected_program_id: nil,
--
/Users/jschuss/Brightline/reef/app/models/intake_program_card_context.rb-71-  def care_case_in_network?
app/models/intake_program_card_context.rb-72-    ongoing_appointment_type = Calendaring::OngoingAppointmentType.for_program(@program)
app/models/intake_program_card_context.rb:73:    covered_entity = best_active_covered_entity_for_service_line_and_care_case(service_line: ongoing_appointment_type&.service_line, care_case: @care_case)
app/models/intake_program_card_context.rb-74-    Billing::BillableAppointmentTypePrice.new(
app/models/intake_program_card_context.rb-75-      covered_entity: covered_entity, appointment_type: ongoing_appointment_type
--
/Users/jschuss/Brightline/reef/app/models/member_cost_share/logger.rb-17-      MemberCostShareDisplayLog.create!(
app/models/member_cost_share/logger.rb-18-        data: construct_data,
app/models/member_cost_share/logger.rb:19:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/member_cost_share/logger.rb-20-      )
/Users/jschuss/Brightline/reef/app/models/member_cost_share/logger.rb-21-    end
--
app/models/analytics/ours_privacy/property_validator.rb-73-          assessment_id: DryTypes::String.enum(*Assessment.ids.map(&:to_s)),
app/models/analytics/ours_privacy/property_validator.rb-74-          button_index: DryTypes::Integer,
app/models/analytics/ours_privacy/property_validator.rb:75:          care_case_id: DryTypes::String,
app/models/analytics/ours_privacy/property_validator.rb-76-          caregiver_accepted_sms_communications: DryTypes::Bool,
app/models/analytics/ours_privacy/property_validator.rb-77-          children_created: DryTypes::Integer,
--
app/models/analytics/ours_privacy/property_validator.rb-114-          preferred_language_id: DryTypes::String.enum(*Language.ids.map(&:to_s)),
app/models/analytics/ours_privacy/property_validator.rb-115-          program_id: DryTypes::String.enum(*Program.ids.map(&:to_s)),
app/models/analytics/ours_privacy/property_validator.rb:116:          proxy_care_case_id: DryTypes::String,
app/models/analytics/ours_privacy/property_validator.rb-117-          proxy_member_id: DryTypes::String.constrained(uuid_v4: true),
app/models/analytics/ours_privacy/property_validator.rb-118-          question_index: DryTypes::Integer,
--
/Users/jschuss/Brightline/reef/app/models/registration.rb-2-
/Users/jschuss/Brightline/reef/app/models/registration.rb-3-class Registration
app/models/registration.rb:4:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/registration.rb-5-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/registration.rb-6-  end
--
/Users/jschuss/Brightline/reef/app/models/registration.rb-29-
/Users/jschuss/Brightline/reef/app/models/registration.rb-30-  def broadcast_events
app/models/registration.rb:31:    EventSystem::Publisher.broadcast(RegistrationCompletedEvent.build_from(care_case: care_case, member: care_case.caregiver))
/Users/jschuss/Brightline/reef/app/models/registration.rb-32-  end
/Users/jschuss/Brightline/reef/app/models/registration.rb-33-end
--
app/models/analytics/destinations/high_value_action_tracker.rb-23-          member_id: member_id,
app/models/analytics/destinations/high_value_action_tracker.rb-24-          account_id: account_id,
app/models/analytics/destinations/high_value_action_tracker.rb:25:          care_case_id: try(:care_case_id)
/Users/jschuss/Brightline/reef/app/models/analytics/destinations/high_value_action_tracker.rb-26-        })
/Users/jschuss/Brightline/reef/app/models/analytics/destinations/high_value_action_tracker.rb-27-
--
app/models/contractors/rejection_reminder.rb-21-        due_date: Time.zone.now,
app/models/contractors/rejection_reminder.rb-22-        account: appointment.account,
app/models/contractors/rejection_reminder.rb:23:        care_case: appointment.care_case,
app/models/contractors/rejection_reminder.rb-24-        priority: :high
/Users/jschuss/Brightline/reef/app/models/contractors/rejection_reminder.rb-25-      )
--
app/models/session_pass_definition.rb-52-    # TODO: Add session_pass_definition_id to session_passes table and use id instead of slug
app/models/session_pass_definition.rb-53-    SessionPass.create!(session_pass_definition_name: slug,
app/models/session_pass_definition.rb:54:      care_case: care_case,
app/models/session_pass_definition.rb-55-      starts_at: starts_at,
app/models/session_pass_definition.rb-56-      ends_at: starts_at + duration.days)
--
app/models/survey.rb-13-#  created_at       :datetime         not null
app/models/survey.rb-14-#  updated_at       :datetime         not null
app/models/survey.rb:15:#  care_case_id     :uuid
app/models/survey.rb-16-#  external_id      :string
app/models/survey.rb-17-#  member_id        :uuid
--
/Users/jschuss/Brightline/reef/app/models/survey.rb-27-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/survey.rb-28-#
app/models/survey.rb:29:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/survey.rb-30-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/survey.rb-31-#
--
/Users/jschuss/Brightline/reef/app/models/concerns/clinic_paperwork_exclusion.rb-3-module ClinicPaperworkExclusion
/Users/jschuss/Brightline/reef/app/models/concerns/clinic_paperwork_exclusion.rb-4-  def clinic_paperwork_exclusion?(care_case)
app/models/concerns/clinic_paperwork_exclusion.rb:5:    Flipper.enabled?(:mirah_clinic_ca_doc_split) && CareModel.new(care_case: care_case).clinic?
/Users/jschuss/Brightline/reef/app/models/concerns/clinic_paperwork_exclusion.rb-6-  end
/Users/jschuss/Brightline/reef/app/models/concerns/clinic_paperwork_exclusion.rb-7-
--
app/models/connect_activity_duplicate.rb-13-#  activation_group_id  :uuid
app/models/connect_activity_duplicate.rb-14-#  activation_period_id :uuid
app/models/connect_activity_duplicate.rb:15:#  care_case_id         :uuid             not null
/Users/jschuss/Brightline/reef/app/models/connect_activity_duplicate.rb-16-#
/Users/jschuss/Brightline/reef/app/models/connect_activity_duplicate.rb-17-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/connect_activity_duplicate.rb-26-#  fk_rails_...  (activation_group_id => activation_groups.id)
/Users/jschuss/Brightline/reef/app/models/connect_activity_duplicate.rb-27-#  fk_rails_...  (activation_period_id => activation_periods.id)
app/models/connect_activity_duplicate.rb:28:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/connect_activity_duplicate.rb-29-#
/Users/jschuss/Brightline/reef/app/models/connect_activity_duplicate.rb-30-class ConnectActivityDuplicate < ApplicationRecord
--
app/models/invoicing/charge_invoice.rb-7-        super("ChargeInvoice failed: No square payment methods found for #{invoice.id}", error_context: {
app/models/invoicing/charge_invoice.rb-8-          invoice_id: invoice.id,
app/models/invoicing/charge_invoice.rb:9:          care_case_id: invoice.care_case_id
/Users/jschuss/Brightline/reef/app/models/invoicing/charge_invoice.rb-10-        })
/Users/jschuss/Brightline/reef/app/models/invoicing/charge_invoice.rb-11-      end
--
/Users/jschuss/Brightline/reef/app/models/invoicing/charge_invoice.rb-101-
/Users/jschuss/Brightline/reef/app/models/invoicing/charge_invoice.rb-102-    def send_charge_notification_email
app/models/invoicing/charge_invoice.rb:103:      CareCaseMemberMailer.with(care_case: care_case, member: care_case.caregiver)
/Users/jschuss/Brightline/reef/app/models/invoicing/charge_invoice.rb-104-        .charge_notification(
app/models/invoicing/charge_invoice.rb-105-          amount: printable_billable_cents(invoice.total_cents),
--
app/models/invoicing/charge_invoice.rb-118-        account: invoice.account,
app/models/invoicing/charge_invoice.rb-119-        due_date: Time.zone.now,
app/models/invoicing/charge_invoice.rb:120:        care_case: care_case,
app/models/invoicing/charge_invoice.rb-121-        subject: invoice
/Users/jschuss/Brightline/reef/app/models/invoicing/charge_invoice.rb-122-      )
--
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_builder.rb-68-
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_builder.rb-69-    def active_covered_entity
app/models/member_cost_share/price_builder.rb:70:      @_active_covered_entity ||= best_active_covered_entity_for_service_line_and_care_case(service_line: calendaring_appointment_type&.service_line, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_builder.rb-71-    end
/Users/jschuss/Brightline/reef/app/models/member_cost_share/price_builder.rb-72-
--
app/models/cardiovascular_screen.rb-18-#  created_at                           :datetime         not null
app/models/cardiovascular_screen.rb-19-#  updated_at                           :datetime         not null
app/models/cardiovascular_screen.rb:20:#  care_case_id                         :uuid
app/models/cardiovascular_screen.rb-21-#  completed_by_id                      :uuid
app/models/cardiovascular_screen.rb-22-#  member_id                            :uuid
--
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-12-  # to a subset, such as members with a login
app/models/care_case_member.rb-13-  def self.for(care_case, members: nil)
app/models/care_case_member.rb:14:    (members || care_case.members).map { |member| CareCaseMember.new(care_case: care_case, member: member) }
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-15-  end
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-16-
app/models/care_case_member.rb-17-  delegate_missing_to :member
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-18-
app/models/care_case_member.rb:19:  def initialize(care_case:, member:)
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-20-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-21-    @member = member
--
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-44-
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-45-  def case_roles
app/models/care_case_member.rb:46:    member.case_roles.where(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-47-  end
/Users/jschuss/Brightline/reef/app/models/care_case_member.rb-48-
--
/Users/jschuss/Brightline/reef/app/models/care_guide_task.rb-118-
/Users/jschuss/Brightline/reef/app/models/care_guide_task.rb-119-    if staffer && assign_care_guide
app/models/care_guide_task.rb:120:      ClinicalTeam::CareGuide.assign!(account: account, care_case: patient_care_case, staffer: staffer)
/Users/jschuss/Brightline/reef/app/models/care_guide_task.rb-121-    end
/Users/jschuss/Brightline/reef/app/models/care_guide_task.rb-122-  end
--
app/models/care_guide_task.rb-129-    AdvisoryLock.for("care_guide_task_for_account_#{account.id}", timeout_seconds: 0, context: "CareGuideTask #{id}") do
/Users/jschuss/Brightline/reef/app/models/care_guide_task.rb-130-      if staffer.present?
app/models/care_guide_task.rb:131:        ClinicalTeam::CareGuide.assign!(account: account, care_case: patient_care_case, staffer: staffer)
/Users/jschuss/Brightline/reef/app/models/care_guide_task.rb-132-      end
app/models/care_guide_task.rb-133-      update!(claimed_by_id: staffer&.id, claimed_at: Time.current, status: status)
--
/Users/jschuss/Brightline/reef/app/models/care_case_tagging/assignment.rb-3-module CareCaseTagging
/Users/jschuss/Brightline/reef/app/models/care_case_tagging/assignment.rb-4-  class Assignment
app/models/care_case_tagging/assignment.rb:5:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/care_case_tagging/assignment.rb-6-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/care_case_tagging/assignment.rb-7-    end
--
/Users/jschuss/Brightline/reef/app/models/pre_treatment_notes.rb-52-
/Users/jschuss/Brightline/reef/app/models/pre_treatment_notes.rb-53-  def update_disposition
app/models/pre_treatment_notes.rb:54:    Treatment::UpdateDisposition.call(care_case: care_case, disposition: disposition)
/Users/jschuss/Brightline/reef/app/models/pre_treatment_notes.rb-55-  end
/Users/jschuss/Brightline/reef/app/models/pre_treatment_notes.rb-56-
--
app/models/initial_consultation.rb-27-#  created_at                        :datetime         not null
app/models/initial_consultation.rb-28-#  updated_at                        :datetime         not null
app/models/initial_consultation.rb:29:#  care_case_id                      :uuid             not null
app/models/initial_consultation.rb-30-#  program_id                        :string
app/models/initial_consultation.rb-31-#  promotion_id                      :uuid
--
/Users/jschuss/Brightline/reef/app/models/initial_consultation.rb-38-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/initial_consultation.rb-39-#
app/models/initial_consultation.rb:40:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/initial_consultation.rb-41-#  fk_rails_...  (promotion_id => promotions.id)
/Users/jschuss/Brightline/reef/app/models/initial_consultation.rb-42-#
--
app/models/initial_consultation.rb-87-      primary_problem: care_case.primary_problem,
app/models/initial_consultation.rb-88-      promotion_id: care_case.account.account_promotions.first&.promotion_id,
app/models/initial_consultation.rb:89:      care_case: care_case
/Users/jschuss/Brightline/reef/app/models/initial_consultation.rb-90-    )
/Users/jschuss/Brightline/reef/app/models/initial_consultation.rb-91-  end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-57-
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-58-    def needs_safety_screen?
app/models/onboarding/intake_flow.rb:59:      !SafetyCheck.where(care_case: care_case).any? # After :onboarding_safety_screen flag has been removed for awhile, we should revisit this
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-60-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-61-
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-77-
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-78-    def show_payments_page?
app/models/onboarding/intake_flow.rb:79:      PaymentMethodSection.new(care_case: care_case).show?
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-80-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/intake_flow.rb-81-  end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-57-
app/models/onboarding/intake.rb-58-      ActiveRecord::Base.transaction do
app/models/onboarding/intake.rb:59:        ClinicalTeam::CareGuide.assign!(account: account, care_case: care_case, staffer: staffer)
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-60-        expire_tasks!
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-61-        create_reminder_for_care_guide_appointment
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-92-
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-93-    def evaluator
app/models/onboarding/intake.rb:94:      @evaluator ||= ::CareGuide::Evaluator.evaluate(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-95-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-96-
--
app/models/onboarding/intake.rb-101-        account: account,
app/models/onboarding/intake.rb-102-        due_date: appointment_reservation.start_time,
app/models/onboarding/intake.rb:103:        care_case: care_case
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-104-      )
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-105-    end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-113-    def schedule_appointment!
app/models/onboarding/intake.rb-114-      scheduling_context = Calendaring::SchedulingContext.new(
app/models/onboarding/intake.rb:115:        care_case: care_case,
app/models/onboarding/intake.rb-116-        member: member,
app/models/onboarding/intake.rb-117-        appointment_type: appointment_reservation.appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-147-    def handle_internal_referral
app/models/onboarding/intake.rb-148-      ActiveRecord::Base.transaction do
app/models/onboarding/intake.rb:149:        Treatment::UpdateDisposition.call(care_case: care_case, disposition: "good_fit_and_interested")
app/models/onboarding/intake.rb-150-        care_case.update!(operational_status: "active")
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-151-      end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-154-    def handle_direct_to_therapist
app/models/onboarding/intake.rb-155-      ActiveRecord::Base.transaction do
app/models/onboarding/intake.rb:156:        Treatment::UpdateDisposition.call(care_case: care_case, disposition: "good_fit_and_interested")
app/models/onboarding/intake.rb-157-        care_case.update!(operational_status: "active")
app/models/onboarding/intake.rb:158:        Registration.new(care_case: care_case).process
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-159-      end
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-160-    end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-172-    def broadcast_events
app/models/onboarding/intake.rb-173-      EventSystem::Publisher.broadcast_later(IntakeCompletedEvent.build_from(
app/models/onboarding/intake.rb:174:        care_case: care_case,
app/models/onboarding/intake.rb-175-        intake_appointment: @scheduled_appointment
/Users/jschuss/Brightline/reef/app/models/onboarding/intake.rb-176-      ))
--
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-11-
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-12-    on(RegistrationCompletedEvent) do |event|
app/models/onboarding/ensure_teen_invited.rb:13:      process(care_case: event.care_case)
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-14-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-15-
--
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-19-      event.account.care_cases.each do |care_case|
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-20-        next unless care_case.appointments.scheduled.exists?
app/models/onboarding/ensure_teen_invited.rb:21:        process(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-22-      end
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-23-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-24-
app/models/onboarding/ensure_teen_invited.rb:25:    def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-26-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-27-    end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-42-
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-43-    def handle_email_present
app/models/onboarding/ensure_teen_invited.rb:44:      TeenRegistration.new(care_case: care_case).process
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-45-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/ensure_teen_invited.rb-46-
--
app/models/onboarding/ensure_teen_invited.rb-62-        title: "Check MS chat to see if the caregiver responded with the teen's email. If not, send additional message to the caregiver to request teen's email",
app/models/onboarding/ensure_teen_invited.rb-63-        group: :member_support,
app/models/onboarding/ensure_teen_invited.rb:64:        care_case: care_case,
app/models/onboarding/ensure_teen_invited.rb-65-        account: care_case.account,
app/models/onboarding/ensure_teen_invited.rb-66-        subject: care_case,
--
app/models/service_line_recommendation.rb-14-#  updated_at               :datetime         not null
app/models/service_line_recommendation.rb-15-#  assessment_assignment_id :bigint
app/models/service_line_recommendation.rb:16:#  care_case_id             :uuid             not null
app/models/service_line_recommendation.rb-17-#  member_id                :uuid             not null
/Users/jschuss/Brightline/reef/app/models/service_line_recommendation.rb-18-#
--
/Users/jschuss/Brightline/reef/app/models/service_line_recommendation.rb-30-#
/Users/jschuss/Brightline/reef/app/models/service_line_recommendation.rb-31-#  fk_rails_...  (assessment_assignment_id => assessment_assignments.id)
app/models/service_line_recommendation.rb:32:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/service_line_recommendation.rb-33-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/service_line_recommendation.rb-34-#
--
/Users/jschuss/Brightline/reef/app/models/staffer.rb-355-
/Users/jschuss/Brightline/reef/app/models/staffer.rb-356-  def has_extra_capabilities_for?(care_case, *capabilities)
app/models/staffer.rb:357:    CareCase::DerivedExtraCapabilities.new(care_case: care_case).for_capabilities(capabilities).all? do |capability|
/Users/jschuss/Brightline/reef/app/models/staffer.rb-358-      has_capability?(capability)
/Users/jschuss/Brightline/reef/app/models/staffer.rb-359-    end
--
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-14-    }
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-15-
app/models/member_experience/configuration.rb:16:    def initialize(account: nil, referrer_path: nil, care_case: nil, is_visitor_testing: false)
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-17-      @account = account
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-18-      @referrer_path = referrer_path
--
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-219-      return unless member_experience_class
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-220-
app/models/member_experience/configuration.rb:221:      member_experience_class.new(account: account, care_case: care_case, is_visitor_testing:)
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-222-    end
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration.rb-223-
--
app/models/email/charge_scheduled.rb-5-    delegate :covered_entities, to: :care_case
/Users/jschuss/Brightline/reef/app/models/email/charge_scheduled.rb-6-
app/models/email/charge_scheduled.rb:7:    def initialize(care_case:, member:, invoice:, service_date_time:)
/Users/jschuss/Brightline/reef/app/models/email/charge_scheduled.rb-8-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/email/charge_scheduled.rb-9-      @member = member
--
/Users/jschuss/Brightline/reef/app/models/email/charge_scheduled.rb-15-
/Users/jschuss/Brightline/reef/app/models/email/charge_scheduled.rb-16-    def mail
app/models/email/charge_scheduled.rb:17:      CareCaseMemberMailer.with(care_case: care_case, member: member).charge_scheduled(
app/models/email/charge_scheduled.rb-18-        patient_responsibility_dollars: patient_responsibility_dollars,
app/models/email/charge_scheduled.rb-19-        appointment_date: I18n.l(service_date_time, format: :full_date),
--
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-145-    def account_dual_coverage?
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-146-      account.care_cases.any? do |care_case|
app/models/member_experience/configuration/california.rb:147:        self.class.new(account: account, care_case: care_case).care_case_dual_coverage?
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-148-      end
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-149-    end
--
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-264-    def has_any_california_coverage?
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-265-      account.care_cases.any? do |account_care_case|
app/models/member_experience/configuration/california.rb:266:        self.class.new(account: account, care_case: account_care_case).care_case_covered_by_program?
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-267-      end
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-268-    end
--
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-290-    def no_rejected_eligibility_verification?
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-291-      account.care_cases.none? do |care_case|
app/models/member_experience/configuration/california.rb:292:        context = ::Eligibility::Verification::Context::Residency::Member.find_by(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-293-        next if context.blank?
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/california.rb-294-        context.eligibility_verification.rejected?
--
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/base.rb-3-module MemberExperience
app/models/member_experience/configuration/base.rb-4-  class Configuration::Base
app/models/member_experience/configuration/base.rb:5:    def initialize(account: nil, care_case: nil, is_visitor_testing: false)
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/base.rb-6-      check_caller
/Users/jschuss/Brightline/reef/app/models/member_experience/configuration/base.rb-7-      @account = account
--
app/models/care_case_clinic.rb-8-#  created_at   :datetime         not null
app/models/care_case_clinic.rb-9-#  updated_at   :datetime         not null
app/models/care_case_clinic.rb:10:#  care_case_id :uuid             not null
app/models/care_case_clinic.rb-11-#  clinic_id    :uuid             not null
/Users/jschuss/Brightline/reef/app/models/care_case_clinic.rb-12-#
--
/Users/jschuss/Brightline/reef/app/models/care_case_clinic.rb-18-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/care_case_clinic.rb-19-#
app/models/care_case_clinic.rb:20:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/care_case_clinic.rb-21-#  fk_rails_...  (clinic_id => clinics.id)
/Users/jschuss/Brightline/reef/app/models/care_case_clinic.rb-22-#
--
app/models/onboarding/available_staffer_for_initial_appointment.rb-9-    attr_reader :account, :care_case, :appointment_type
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-10-
app/models/onboarding/available_staffer_for_initial_appointment.rb:11:    def initialize(care_case:, appointment_type:)
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-12-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-13-      @account = care_case.account
--
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-17-    def selected
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-18-      if requires_account_coach?
app/models/onboarding/available_staffer_for_initial_appointment.rb:19:        [CareCaseStaffer.new(care_case: care_case, staffer: account.assigned_coach)]
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-20-      elsif care_case.program == Program.therapy
app/models/onboarding/available_staffer_for_initial_appointment.rb:21:        TherapistMatching::DownSelection.perform(capable_staffers, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/onboarding/available_staffer_for_initial_appointment.rb-22-      else
app/models/onboarding/available_staffer_for_initial_appointment.rb-23-        CareCaseStaffer.for(care_case, staffers: capable_staffers)
--
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-12-
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-13-      member.accessible_cases.each do |care_case|
app/models/email_address_sync/acuity_email.rb:14:        new(care_case: care_case, member: member, old_email: email_changes.first, new_email: email_changes.last).process
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-15-      end
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-16-    end
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-17-
app/models/email_address_sync/acuity_email.rb:18:    def initialize(care_case:, member:, old_email:, new_email:)
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-19-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/email_address_sync/acuity_email.rb-20-      @member = member
--
app/models/service_line_referrals/internal_referral.rb-30-    delegate :behavioral_therapy?, :care_guide?, :coaching?, :medication_management?, to: :service_line
/Users/jschuss/Brightline/reef/app/models/service_line_referrals/internal_referral.rb-31-
app/models/service_line_referrals/internal_referral.rb:32:    scope :with_care_case, ->(care_case) { joins(:care_case).where(care_case: {id: care_case.id}) }
/Users/jschuss/Brightline/reef/app/models/service_line_referrals/internal_referral.rb-33-
/Users/jschuss/Brightline/reef/app/models/service_line_referrals/internal_referral.rb-34-    SERVICE_LINE_PROGRAM_MAPPING = {
--
app/models/onboarding/provider_choice/week_availability.rb-17-          selected_range_key: selected_range_key,
app/models/onboarding/provider_choice/week_availability.rb-18-          first_available_dates_per_staffer: first_available_dates_per_staffer,
app/models/onboarding/provider_choice/week_availability.rb:19:          care_case_id: availability_context.care_case_id,
app/models/onboarding/provider_choice/week_availability.rb-20-          appointment_type_id: availability_context.appointment_type.id,
app/models/onboarding/provider_choice/week_availability.rb-21-          interpretation_language_id: availability_context.interpretation_language_id,
--
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-22-      end
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-23-
app/models/onboarding/provider_choice/available_staffers.rb:24:      def self.for(care_case:, source:, program: care_case.program, appointment_type: nil)
app/models/onboarding/provider_choice/available_staffers.rb:25:        new(appointment_type:, care_case:, program:, source:).all
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-26-      end
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-27-
app/models/onboarding/provider_choice/available_staffers.rb:28:      def self.for_programs(care_case:, programs:, source:)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-29-        programs.each_with_object({}) do |program, staffers|
app/models/onboarding/provider_choice/available_staffers.rb:30:          staffers[program.name.to_s] = new(care_case: care_case, program: program, source: source).all
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-31-        end
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-32-      end
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-33-
app/models/onboarding/provider_choice/available_staffers.rb:34:      def initialize(care_case:, source:, program: care_case.program, appointment_type: nil)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-35-        @appointment_type = appointment_type
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-36-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-41-      def all
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-42-        if program&.behavioral_therapy? || appointment_type&.behavioral_therapy?
app/models/onboarding/provider_choice/available_staffers.rb:43:          TherapistMatching::DownSelection.perform(filtered_staffers, skip_tracking: skip_tracking?, care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-44-        elsif !any_other_care_cases_in_treatment? || source.inquiry.rescheduling? || coach_swap_required?
app/models/onboarding/provider_choice/available_staffers.rb-45-          if Flipper.enabled?(:coach_choice_sla_update)
app/models/onboarding/provider_choice/available_staffers.rb:46:            Onboarding::ProviderChoice::CoachDownSelection.new(coaches: filtered_staffers.map(&:staffer), care_case: care_case, skip_tracking: skip_tracking?).perform
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-47-          else
app/models/onboarding/provider_choice/available_staffers.rb:48:            coaches = AccountTeam::CoachMatch.new(account, coaches: filtered_staffers, care_case_id: care_case.id).results(skip_tracking: skip_tracking?)
app/models/onboarding/provider_choice/available_staffers.rb-49-              .to_a.map(&:staffer)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/available_staffers.rb-50-              .take(6)
--
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/week_availability/data.rb-4-  module ProviderChoice
app/models/onboarding/provider_choice/week_availability/data.rb-5-    class WeekAvailability::Data < Struct.new(:times, :timezone, :selected_range_key, :first_available_dates_per_staffer, :care_case_id, :appointment_type_id, :interpretation_language_id, :region_id, keyword_init: true)
app/models/onboarding/provider_choice/week_availability/data.rb:6:      def initialize(times:, timezone:, selected_range_key:, first_available_dates_per_staffer:, care_case_id:, appointment_type_id:, region_id:, interpretation_language_id: nil)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/week_availability/data.rb-7-        super
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/week_availability/data.rb-8-      end
--
app/models/onboarding/provider_choice/coach_down_selection.rb-8-      alias_method :skip_tracking?, :skip_tracking
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-9-
app/models/onboarding/provider_choice/coach_down_selection.rb:10:      def initialize(coaches:, care_case:, skip_tracking: true)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-11-        @all_coaches = coaches
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-12-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-42-
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-43-      def sorted_coach_match_results
app/models/onboarding/provider_choice/coach_down_selection.rb:44:        @coach_match_results ||= AccountTeam::CoachMatch.new(care_case.account, coaches: all_coaches, care_case_id: care_case.id).results(skip_tracking: skip_tracking?)
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-45-      end
/Users/jschuss/Brightline/reef/app/models/onboarding/provider_choice/coach_down_selection.rb-46-
--
app/models/onboarding/care_guide/week_availability.rb-9-        :existing_appointment, :book_with_another_care_guide_modal
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-10-
app/models/onboarding/care_guide/week_availability.rb:11:      def initialize(care_case:, member:, appointment_type:, interpretation_language_id: nil,
app/models/onboarding/care_guide/week_availability.rb-12-        existing_appointment: nil, book_with_another_care_guide_modal: false)
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-13-        @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-26-
app/models/onboarding/care_guide/week_availability.rb-27-        availability_context = Calendaring::AvailabilityContext.new(
app/models/onboarding/care_guide/week_availability.rb:28:          care_case: care_case,
app/models/onboarding/care_guide/week_availability.rb-29-          member: member,
app/models/onboarding/care_guide/week_availability.rb-30-          appointment_type: appointment_type,
--
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-67-
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-68-        if existing_appointment
app/models/onboarding/care_guide/week_availability.rb:69:          booked_care_guide_with_another_child? ? [CareCaseStaffer.new(care_case: care_case, staffer: assigned_care_guide)] : staffers_by_language
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-70-        else
app/models/onboarding/care_guide/week_availability.rb-71-          return CareCaseStaffer.for(care_case, staffers: [assigned_care_guide]) if book_only_with_assigned_care_guide?
--
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-192-          .with_service_line(ServiceLine.care_guide)
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-193-          .with_status([AppointmentStatus.scheduled, AppointmentStatus.completed])
app/models/onboarding/care_guide/week_availability.rb:194:          .where.not(care_case: care_case)
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-195-          .exists?
/Users/jschuss/Brightline/reef/app/models/onboarding/care_guide/week_availability.rb-196-      end
--
/Users/jschuss/Brightline/reef/app/models/onboarding/primary_clinician.rb-18-      return unless should_assign?
/Users/jschuss/Brightline/reef/app/models/onboarding/primary_clinician.rb-19-
app/models/onboarding/primary_clinician.rb:20:      ClinicalTeam::AddStafferToCareCase.call(care_case: care_case, staffer: staffer, primary: true)
/Users/jschuss/Brightline/reef/app/models/onboarding/primary_clinician.rb-21-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/primary_clinician.rb-22-
--
/Users/jschuss/Brightline/reef/app/models/onboarding/member_support.rb-19-      return unless staffer.present?
/Users/jschuss/Brightline/reef/app/models/onboarding/member_support.rb-20-
app/models/onboarding/member_support.rb:21:      ClinicalTeam::AddStafferToCareCase.call(care_case: care_case, staffer: staffer, primary: false)
/Users/jschuss/Brightline/reef/app/models/onboarding/member_support.rb-22-    end
/Users/jschuss/Brightline/reef/app/models/onboarding/member_support.rb-23-
--
app/models/paperwork/access_token.rb-17-#  created_at            :datetime         not null
app/models/paperwork/access_token.rb-18-#  updated_at            :datetime         not null
app/models/paperwork/access_token.rb:19:#  care_case_id          :uuid
app/models/paperwork/access_token.rb-20-#  member_id             :uuid
app/models/paperwork/access_token.rb:21:#  verified_care_case_id :uuid
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-22-#
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-23-# Indexes
--
app/models/paperwork/access_token.rb-55-    scope :locked, -> { where.not(locked_at: nil) }
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-56-
app/models/paperwork/access_token.rb:57:    def self.generate(member:, care_case:, expires_in: Settings.paperwork_access_tokens.default_expiration_hours.hours, is_multi_use: false, max_attempts: Settings.paperwork_access_tokens.default_max_attempts)
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-58-      create!(
app/models/paperwork/access_token.rb-59-        member: member,
app/models/paperwork/access_token.rb:60:        care_case: care_case,
app/models/paperwork/access_token.rb-61-        expires_at: expires_in.from_now,
app/models/paperwork/access_token.rb-62-        is_multi_use: is_multi_use,
--
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-65-    end
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-66-
app/models/paperwork/access_token.rb:67:    def self.find_or_generate_active_token(member:, care_case:)
app/models/paperwork/access_token.rb:68:      active.find_by(member:, care_case:) || generate(member:, care_case:)
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-69-    end
/Users/jschuss/Brightline/reef/app/models/paperwork/access_token.rb-70-
--
app/models/paperwork/questionnaire_submission.rb-10-#  created_at       :datetime         not null
app/models/paperwork/questionnaire_submission.rb-11-#  updated_at       :datetime         not null
app/models/paperwork/questionnaire_submission.rb:12:#  care_case_id     :uuid
app/models/paperwork/questionnaire_submission.rb-13-#  completed_by_id  :uuid
app/models/paperwork/questionnaire_submission.rb-14-#  member_id        :uuid             not null
--
app/models/paperwork/new_patient_questionnaire/process_submission.rb-48-          subscriber_last_name: caregiver_last_name,
app/models/paperwork/new_patient_questionnaire/process_submission.rb-49-          subscriber_gender: caregiver.legal_sex,
app/models/paperwork/new_patient_questionnaire/process_submission.rb:50:          care_case: care_case,
app/models/paperwork/new_patient_questionnaire/process_submission.rb-51-          source: submission,
app/models/paperwork/new_patient_questionnaire/process_submission.rb-52-          contract: Contracts::Special.direct_to_consumer
--
app/models/survey/formstack_submission.rb-44-      @new_survey ||= ::Survey.create!(
app/models/survey/formstack_submission.rb-45-        member:,
app/models/survey/formstack_submission.rb:46:        care_case:,
app/models/survey/formstack_submission.rb-47-        subject:,
app/models/survey/formstack_submission.rb-48-        survey_type:
--
app/models/connect/assignment.rb-10-#  created_at   :datetime         not null
app/models/connect/assignment.rb-11-#  updated_at   :datetime         not null
app/models/connect/assignment.rb:12:#  care_case_id :uuid             not null
app/models/connect/assignment.rb-13-#  content_id   :string           not null
app/models/connect/assignment.rb-14-#  member_id    :uuid             not null
--
/Users/jschuss/Brightline/reef/app/models/connect/assignment.rb-21-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/connect/assignment.rb-22-#
app/models/connect/assignment.rb:23:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/connect/assignment.rb-24-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/connect/assignment.rb-25-#
--
app/models/paperwork/signature_request.rb-14-#  created_at          :datetime         not null
app/models/paperwork/signature_request.rb-15-#  updated_at          :datetime         not null
app/models/paperwork/signature_request.rb:16:#  care_case_id        :uuid
app/models/paperwork/signature_request.rb-17-#  completed_by_id     :uuid
app/models/paperwork/signature_request.rb-18-#  document_id         :string           not null
--
/Users/jschuss/Brightline/reef/app/models/paperwork/signature_request.rb-30-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/paperwork/signature_request.rb-31-#
app/models/paperwork/signature_request.rb:32:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/paperwork/signature_request.rb-33-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/paperwork/signature_request.rb-34-#
--
app/models/paperwork/incomplete_paperwork.rb-9-    attr_reader :care_case, :member
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-10-
app/models/paperwork/incomplete_paperwork.rb:11:    def initialize(care_case:, member: nil, verification_ids: nil, no_link_ids: nil)
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-12-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-13-      @member = member || care_case.caregiver
--
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-25-    def top_priority
app/models/paperwork/incomplete_paperwork.rb-26-      member_role = is_member_teen? ? :teen : :caregiver
app/models/paperwork/incomplete_paperwork.rb:27:      if Flipper.enabled?(:prioritize_signatures) && CareModel.new(care_case: care_case).clinic?
app/models/paperwork/incomplete_paperwork.rb-28-        member_role = :"#{member_role}_clinic"
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-29-      end
--
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-40-
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-41-    def is_member_teen?
app/models/paperwork/incomplete_paperwork.rb:42:      CareCaseMember.new(care_case: care_case, member: member).teen?
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-43-    end
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-44-
--
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-47-        .incomplete
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-48-        .where(
app/models/paperwork/incomplete_paperwork.rb:49:          care_case: care_case,
app/models/paperwork/incomplete_paperwork.rb-50-          member: member
/Users/jschuss/Brightline/reef/app/models/paperwork/incomplete_paperwork.rb-51-        )
--
app/models/paperwork/assign_documents_once.rb-13-    attr_reader :care_case, :member, :documents
/Users/jschuss/Brightline/reef/app/models/paperwork/assign_documents_once.rb-14-
app/models/paperwork/assign_documents_once.rb:15:    def initialize(care_case:, member:, documents:)
/Users/jschuss/Brightline/reef/app/models/paperwork/assign_documents_once.rb-16-      @care_case, @member, @documents = care_case, member, documents
/Users/jschuss/Brightline/reef/app/models/paperwork/assign_documents_once.rb-17-    end
--
/Users/jschuss/Brightline/reef/app/models/paperwork/assign_documents_once.rb-30-
app/models/paperwork/assign_documents_once.rb-31-      Paperwork::SignatureRequest.create(
app/models/paperwork/assign_documents_once.rb:32:        member: member, care_case: care_case, document_id: document.id
/Users/jschuss/Brightline/reef/app/models/paperwork/assign_documents_once.rb-33-      )
/Users/jschuss/Brightline/reef/app/models/paperwork/assign_documents_once.rb-34-    end
--
/Users/jschuss/Brightline/reef/app/models/paperwork/assignable.rb-35-    return unless with_assignment && assignments.blank?
/Users/jschuss/Brightline/reef/app/models/paperwork/assignable.rb-36-
app/models/paperwork/assignable.rb:37:    ::Assignments::Logic.new(member: member, care_case: care_case, assignable: self).assign!
/Users/jschuss/Brightline/reef/app/models/paperwork/assignable.rb-38-  end
/Users/jschuss/Brightline/reef/app/models/paperwork/assignable.rb-39-
--
app/models/paperwork/assignment.rb-13-#  updated_at               :datetime         not null
app/models/paperwork/assignment.rb-14-#  assignable_id            :string           not null
app/models/paperwork/assignment.rb:15:#  care_case_id             :uuid             not null
app/models/paperwork/assignment.rb-16-#  member_id                :uuid             not null
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-17-#
--
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-24-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-25-#
app/models/paperwork/assignment.rb:26:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-27-#  fk_rails_...  (member_id => members.id)
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-28-#
--
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-128-        PaperworkAssignedEvent.new(
app/models/paperwork/assignment.rb-129-          member: member,
app/models/paperwork/assignment.rb:130:          care_case: care_case,
app/models/paperwork/assignment.rb-131-          assignment: self
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-132-        )
--
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-139-          PaperworkCompletedEvent.new(
app/models/paperwork/assignment.rb-140-            member: member,
app/models/paperwork/assignment.rb:141:            care_case: care_case,
app/models/paperwork/assignment.rb-142-            assignment: self
/Users/jschuss/Brightline/reef/app/models/paperwork/assignment.rb-143-          )
--
app/models/mirah_care_case_sync.rb-9-#  created_at        :datetime         not null
app/models/mirah_care_case_sync.rb-10-#  updated_at        :datetime         not null
app/models/mirah_care_case_sync.rb:11:#  care_case_id      :uuid             not null
/Users/jschuss/Brightline/reef/app/models/mirah_care_case_sync.rb-12-#
/Users/jschuss/Brightline/reef/app/models/mirah_care_case_sync.rb-13-# Indexes
--
/Users/jschuss/Brightline/reef/app/models/mirah_care_case_sync.rb-18-# Foreign Keys
/Users/jschuss/Brightline/reef/app/models/mirah_care_case_sync.rb-19-#
app/models/mirah_care_case_sync.rb:20:#  fk_rails_...  (care_case_id => care_cases.id)
/Users/jschuss/Brightline/reef/app/models/mirah_care_case_sync.rb-21-#
/Users/jschuss/Brightline/reef/app/models/mirah_care_case_sync.rb-22-class MirahCareCaseSync < ApplicationRecord
--
app/models/paperwork/service_line_referral_paperwork.rb-26-    def assign_documents_once(paperwork:)
app/models/paperwork/service_line_referral_paperwork.rb-27-      Paperwork::AssignDocumentsOnce.call(
app/models/paperwork/service_line_referral_paperwork.rb:28:        care_case: paperwork.care_case,
app/models/paperwork/service_line_referral_paperwork.rb-29-        member: paperwork.member,
app/models/paperwork/service_line_referral_paperwork.rb-30-        documents: paperwork.documents
--
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_initial.rb-15-
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_initial.rb-16-      def call
app/models/paperwork/post_process_submission/vanderbilt_teacher_initial.rb:17:        Assessment::CareCaseAssignment.assign!(care_case:, member: submission.member, assessment:, with_assignment: false, completed_at: submission.completed_at, responses:)
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_initial.rb-18-      end
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_initial.rb-19-
--
app/models/billing/appointment_price_parameters.rb-7-    def self.from_intake_program_card_context(context, promotion: nil)
/Users/jschuss/Brightline/reef/app/models/billing/appointment_price_parameters.rb-8-      @context = context
app/models/billing/appointment_price_parameters.rb:9:      new(care_case: context.care_case, contract: context.contract, program: context.program, promotion: promotion)
/Users/jschuss/Brightline/reef/app/models/billing/appointment_price_parameters.rb-10-    end
/Users/jschuss/Brightline/reef/app/models/billing/appointment_price_parameters.rb-11-
app/models/billing/appointment_price_parameters.rb:12:    def initialize(care_case:, contract:, program:, promotion: nil)
/Users/jschuss/Brightline/reef/app/models/billing/appointment_price_parameters.rb-13-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/billing/appointment_price_parameters.rb-14-      @contract = contract
--
/Users/jschuss/Brightline/reef/app/models/billing/insurance_invoice.rb-60-    def send_charge_scheduled_email(invoice)
app/models/billing/insurance_invoice.rb-61-      Email::ChargeScheduled.new(
app/models/billing/insurance_invoice.rb:62:        care_case: care_case,
app/models/billing/insurance_invoice.rb-63-        member: care_case.caregiver, # deprecated to only have one caregiver. How to choose which one?
app/models/billing/insurance_invoice.rb-64-        invoice: invoice,
--
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_followup.rb-15-
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_followup.rb-16-      def call
app/models/paperwork/post_process_submission/vanderbilt_teacher_followup.rb:17:        Assessment::CareCaseAssignment.assign!(care_case:, member: submission.member, assessment:, with_assignment: false, completed_at: submission.completed_at, responses:)
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_followup.rb-18-      end
/Users/jschuss/Brightline/reef/app/models/paperwork/post_process_submission/vanderbilt_teacher_followup.rb-19-
--
app/models/billing/issue_session_pool.rb-8-#  created_at      :datetime         not null
app/models/billing/issue_session_pool.rb-9-#  updated_at      :datetime         not null
app/models/billing/issue_session_pool.rb:10:#  care_case_id    :uuid             not null
app/models/billing/issue_session_pool.rb-11-#  issue_id        :uuid             not null
app/models/billing/issue_session_pool.rb-12-#  session_pool_id :uuid             not null
--
app/models/billing/issue_session_pool.rb-26-    delegate :relevant_care_case_appointments, to: :session_pool
/Users/jschuss/Brightline/reef/app/models/billing/issue_session_pool.rb-27-
app/models/billing/issue_session_pool.rb:28:    scope :for_care_case, ->(care_case) { where(care_case_id: care_case.id) }
/Users/jschuss/Brightline/reef/app/models/billing/issue_session_pool.rb-29-
/Users/jschuss/Brightline/reef/app/models/billing/issue_session_pool.rb-30-    def claimed_care_case_appointments
--
app/models/paperwork/completed_paperwork.rb-9-    attr_reader :care_case, :member
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-10-
app/models/paperwork/completed_paperwork.rb:11:    def initialize(care_case:, member: nil)
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-12-      @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-13-      @member = member || care_case.caregiver
--
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-18-        .completed
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-19-        .where(
app/models/paperwork/completed_paperwork.rb:20:          care_case: care_case,
app/models/paperwork/completed_paperwork.rb-21-          member: member
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-22-        )
--
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-40-
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-41-    def is_member_teen?
app/models/paperwork/completed_paperwork.rb:42:      CareCaseMember.new(care_case: care_case, member: member).teen?
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-43-    end
/Users/jschuss/Brightline/reef/app/models/paperwork/completed_paperwork.rb-44-  end
--
/Users/jschuss/Brightline/reef/app/models/billing/collection/fetch_psychological_testing_appointments.rb-54-
/Users/jschuss/Brightline/reef/app/models/billing/collection/fetch_psychological_testing_appointments.rb-55-        if testing_appointments_for_period.any? { |appointment| !appointment.status.in?(AppointmentStatus.finished) }
app/models/billing/collection/fetch_psychological_testing_appointments.rb:56:          claim_request_groups_to_skip[claim_request_ids] = "Psychological testing appointments not completed for care_case_id: #{care_case.id} and date: #{date}"
/Users/jschuss/Brightline/reef/app/models/billing/collection/fetch_psychological_testing_appointments.rb-57-          true
/Users/jschuss/Brightline/reef/app/models/billing/collection/fetch_psychological_testing_appointments.rb-58-        else
--
app/models/billing/new_square_customer.rb-26-        given_name: caregiver.first_name,
app/models/billing/new_square_customer.rb-27-        family_name: caregiver.last_name,
app/models/billing/new_square_customer.rb:28:        care_case_id: care_case.id
/Users/jschuss/Brightline/reef/app/models/billing/new_square_customer.rb-29-      )
/Users/jschuss/Brightline/reef/app/models/billing/new_square_customer.rb-30-    end
--
app/models/billing/collection_status_log.rb-13-#  updated_at               :datetime         not null
app/models/billing/collection_status_log.rb-14-#  billable_record_id       :bigint
app/models/billing/collection_status_log.rb:15:#  care_case_id             :integer
app/models/billing/collection_status_log.rb-16-#  collection_record_id     :bigint
/Users/jschuss/Brightline/reef/app/models/billing/collection_status_log.rb-17-#
--
/Users/jschuss/Brightline/reef/app/models/billing/patient_responsibility_invoice.rb-12-    # @param patient_responsibility [PatientResponsibility]
/Users/jschuss/Brightline/reef/app/models/billing/patient_responsibility_invoice.rb-13-    # @param care_case [CareCase]
app/models/billing/patient_responsibility_invoice.rb:14:    def initialize(patient_responsibility:, care_case:)
/Users/jschuss/Brightline/reef/app/models/billing/patient_responsibility_invoice.rb-15-      @patient_responsibility = patient_responsibility
/Users/jschuss/Brightline/reef/app/models/billing/patient_responsibility_invoice.rb-16-      @care_case = care_case
--
/Users/jschuss/Brightline/reef/app/models/billing/patient_responsibility_invoice.rb-23-      else
app/models/billing/patient_responsibility_invoice.rb-24-        EventSystem::Publisher.broadcast(PaymentInvoiceCreationFailedEvent.new(
app/models/billing/patient_responsibility_invoice.rb:25:          care_case: invoice.care_case,
app/models/billing/patient_responsibility_invoice.rb-26-          total_cents: invoice.total_cents,
app/models/billing/patient_responsibility_invoice.rb-27-          error_messages: invoice.errors.full_messages.join(", ")
--
/Users/jschuss/Brightline/reef/app/models/teen_registration.rb-2-
/Users/jschuss/Brightline/reef/app/models/teen_registration.rb-3-class TeenRegistration
app/models/teen_registration.rb:4:  def initialize(care_case:)
/Users/jschuss/Brightline/reef/app/models/teen_registration.rb-5-    @care_case = care_case
/Users/jschuss/Brightline/reef/app/models/teen_registration.rb-6-  end
--
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/factory.rb-30-    CandidPatient.create!(
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/factory.rb-31-      candid_patient_params
app/models/billing/candid_patient/factory.rb:32:        .merge(care_case: eligibility_request.care_case)
app/models/billing/candid_patient/factory.rb-33-        .merge(contract: eligibility_request.contract)
app/models/billing/candid_patient/factory.rb-34-        .merge(source: eligibility_request)
--
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/direct_to_consumer_factory.rb-19-    CandidPatient.new(
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/direct_to_consumer_factory.rb-20-      candid_patient_params
app/models/billing/candid_patient/direct_to_consumer_factory.rb:21:        .merge(care_case:)
app/models/billing/candid_patient/direct_to_consumer_factory.rb-22-        .merge(contract:)
app/models/billing/candid_patient/direct_to_consumer_factory.rb-23-        .merge(source: care_case)
--
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/backfill.rb-35-        print "." if i % 100 == 0
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/backfill.rb-36-      rescue => e
app/models/billing/candid_patient/backfill.rb:37:        errors << {eligibility_request_id: eligibility_request.id, care_case_id: care_case&.id, error: e.message}
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/backfill.rb-38-      end
/Users/jschuss/Brightline/reef/app/models/billing/candid_patient/backfill.rb-39-    end